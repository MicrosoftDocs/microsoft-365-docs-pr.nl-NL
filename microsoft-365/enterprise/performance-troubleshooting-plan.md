---
title: 'Prestatieproblemen met Office 365 oplossen: planning'
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 5/10/2019
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
f1.keywords:
- CSH
ms.custom:
- Adm_O365
- seo-marvel-apr2020
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: e241e5d9-b1d8-4f1d-a5c8-4106b7325f8c
ms.collection:
- M365-security-compliance
- Ent_O365
description: Dit artikel kan u helpen bij het oplossen van problemen met de prestaties van Office 365 en zelfs enkele van de meest voorkomende problemen oplossen.
ms.openlocfilehash: 4f66ed43df2da47c9ea1931b8508dfecf4546b1c
ms.sourcegitcommit: dffb9b72acd2e0bd286ff7e79c251e7ec6e8ecae
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/17/2020
ms.locfileid: "47948386"
---
# <a name="performance-troubleshooting-plan-for-office-365"></a><span data-ttu-id="45483-103">Prestatieproblemen met Office 365 oplossen: planning</span><span class="sxs-lookup"><span data-stu-id="45483-103">Performance troubleshooting plan for Office 365</span></span>

<span data-ttu-id="45483-104">Wilt u weten welke stappen u moet uitvoeren om traag, vastlopen en de prestaties van de SharePoint Online, OneDrive voor bedrijven, Exchange Online of Skype voor bedrijven online, en de clientcomputer te identificeren en op te lossen?</span><span class="sxs-lookup"><span data-stu-id="45483-104">Do you need to know the steps to take to identify and fix lags, hangs, and slow performance between SharePoint Online, OneDrive for Business, Exchange Online, or Skype for Business Online, and your client computer?</span></span> <span data-ttu-id="45483-105">Voordat u de ondersteuning belt, kan dit artikel u helpen bij het oplossen van problemen met de prestaties van Office 365 en zelfs enkele veelvoorkomende problemen oplossen.</span><span class="sxs-lookup"><span data-stu-id="45483-105">Before you call support, this article can help you troubleshoot Office 365 performance issues and even fix some of the most common issues.</span></span>

<span data-ttu-id="45483-106">Dit artikel is eigenlijk een voorbeeld van een abonnement dat u kunt gebruiken om waardevolle informatie vast te leggen over uw prestatieprobleem terwijl dit gebeurt.</span><span class="sxs-lookup"><span data-stu-id="45483-106">This article is actually a sample action plan that you can use to capture valuable data about your performance issue as it's happening.</span></span> <span data-ttu-id="45483-107">In dit artikel worden ook enkele belangrijke punten besproken.</span><span class="sxs-lookup"><span data-stu-id="45483-107">Some top issues are also included in this article.</span></span>

<span data-ttu-id="45483-108">Als u geen ervaring hebt met de prestaties van het netwerk en een lang abonnement wilt voor het bewaken van de prestaties tussen uw clientcomputers en Office 365, kunt u de [prestaties van Office 365 optimaliseren en problemen oplossen: beheerders en IT-professionals](performance-tuning-using-baselines-and-history.md).</span><span class="sxs-lookup"><span data-stu-id="45483-108">If you're new to network performance and want to make a long term plan to monitor performance between your client machines and Office 365, take a look at [Office 365 performance tuning and troubleshooting - Admin and IT Pro](performance-tuning-using-baselines-and-history.md).</span></span>

## <a name="sample-performance-troubleshooting-action-plan"></a><span data-ttu-id="45483-109">Voorbeeld van een probleem met de prestaties</span><span class="sxs-lookup"><span data-stu-id="45483-109">Sample performance troubleshooting action plan</span></span>

<span data-ttu-id="45483-110">Dit actieplan bestaat uit twee delen: een voorbereidingsfase en een logboekregistratie fase.</span><span class="sxs-lookup"><span data-stu-id="45483-110">This action plan contains two parts; a preparation phase, and a logging phase.</span></span> <span data-ttu-id="45483-111">Als u nu een prestatieprobleem hebt en u gegevens wilt verzamelen, kunt u meteen aan de slag met dit abonnement.</span><span class="sxs-lookup"><span data-stu-id="45483-111">If you have a performance problem right now, and you need to do data collection, you can start using this plan right away.</span></span>

### <a name="prepare-the-client-computer"></a><span data-ttu-id="45483-112">De clientcomputer voorbereiden</span><span class="sxs-lookup"><span data-stu-id="45483-112">Prepare the client computer</span></span>

- <span data-ttu-id="45483-113">Zoek een clientcomputer die het prestatieprobleem kan reproduceren.</span><span class="sxs-lookup"><span data-stu-id="45483-113">Find a client computer that can reproduce the performance problem.</span></span> <span data-ttu-id="45483-114">Deze computer wordt in de cursus voor probleemoplossing gebruikt.</span><span class="sxs-lookup"><span data-stu-id="45483-114">This computer will be used during the course of troubleshooting.</span></span>
- <span data-ttu-id="45483-115">Noteer de stappen die het prestatieprobleem veroorzaken, zodat u klaar bent wanneer u gaat testen.</span><span class="sxs-lookup"><span data-stu-id="45483-115">Write down the steps that cause the performance problem to happen so you're ready when it comes time to test.</span></span>
- <span data-ttu-id="45483-116">Installatie hulpprogramma's voor het verzamelen en opnemen van informatie:</span><span class="sxs-lookup"><span data-stu-id="45483-116">Install tools for gathering and recording information:</span></span>
  - <span data-ttu-id="45483-117">Installeer [Netmon 3,4](https://www.microsoft.com/download/details.aspx?id=4865) (of een soortgelijk hulpprogramma voor het maken van netwerktraces).</span><span class="sxs-lookup"><span data-stu-id="45483-117">Install [Netmon 3.4](https://www.microsoft.com/download/details.aspx?id=4865) (or use an equivalent network tracing tool).</span></span>
  - <span data-ttu-id="45483-118">Installeer de gratis Basic Edition van [HTTPWatch](https://www.httpwatch.com/download/) (of een soortgelijk hulpprogramma voor het maken van netwerktraces).</span><span class="sxs-lookup"><span data-stu-id="45483-118">Install the free Basic Edition of [HTTPWatch](https://www.httpwatch.com/download/) (or use an equivalent network Tracing tool).</span></span>
  - <span data-ttu-id="45483-119">Gebruik een scherm recorder of voer Probleemstappenbeschrijving (PSR.exe) uit, die deel uitmaakt van Windows Vista en hoger, om een overzicht te houden van de stappen die u tijdens het testen uitvoert.</span><span class="sxs-lookup"><span data-stu-id="45483-119">Use a screen recorder or run the Steps Recorder (PSR.exe) that comes with Windows Vista and later, in order to keep a record of the steps you take during testing.</span></span>

### <a name="log-the-performance-issue"></a><span data-ttu-id="45483-120">Het prestatieprobleem registreren</span><span class="sxs-lookup"><span data-stu-id="45483-120">Log the performance issue</span></span>

- <span data-ttu-id="45483-121">Sluit alle overbodige Internet browsers.</span><span class="sxs-lookup"><span data-stu-id="45483-121">Close all extraneous Internet browsers.</span></span>
- <span data-ttu-id="45483-122">Start de stappenbeschrijving of een andere scherm recorder.</span><span class="sxs-lookup"><span data-stu-id="45483-122">Start the Steps Recorder, or another screen recorder.</span></span>
- <span data-ttu-id="45483-123">Start uw netmon-opname (of hulpprogramma voor netwerktracering).</span><span class="sxs-lookup"><span data-stu-id="45483-123">Start your Netmon capture (or network tracing tool).</span></span>
- <span data-ttu-id="45483-124">Wis de DNS-cache op de clientcomputer vanaf de opdrachtregel door ipconfig/flushdns te typen.</span><span class="sxs-lookup"><span data-stu-id="45483-124">Clear your DNS cache on the client computer from the command line by typing ipconfig /flushdns.</span></span>
- <span data-ttu-id="45483-125">Start een nieuwe browsersessie en schakel HTTPWatch in.</span><span class="sxs-lookup"><span data-stu-id="45483-125">Start a new browser session and turn on HTTPWatch.</span></span>
- <span data-ttu-id="45483-126">Optioneel: als u Exchange Online wilt testen, voert u het hulpprogramma Exchange client Performance Analyzer uit vanaf de beheerconsole van Office 365.</span><span class="sxs-lookup"><span data-stu-id="45483-126">Optional: If you are testing Exchange Online, run the Exchange Client Performance Analyzer tool from the Office 365 admin console.</span></span>
- <span data-ttu-id="45483-127">Reproduceer de exacte stappen die het prestatieprobleem veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="45483-127">Reproduce the exact steps that cause the performance issue.</span></span>
- <span data-ttu-id="45483-128">Stop de tracering van netmon of andere hulpmiddelen.</span><span class="sxs-lookup"><span data-stu-id="45483-128">Stop your Netmon or other tool's trace.</span></span>
- <span data-ttu-id="45483-129">Voer via de opdrachtregel een tracerings route uit naar uw Office 365-abonnement door de volgende opdracht in te voeren en op ENTER te drukken:</span><span class="sxs-lookup"><span data-stu-id="45483-129">At the command line, run a trace route to your Office 365 subscription by typing the following command and then pressing ENTER:</span></span>

  ``` cmd
  tracert <subscriptionname>.onmicrosoft.com
  ```

- <span data-ttu-id="45483-130">Stop de stappenbeschrijving en sla de video op.</span><span class="sxs-lookup"><span data-stu-id="45483-130">Stop the Steps Recorder and save the video.</span></span> <span data-ttu-id="45483-131">Zorg ervoor dat u de datum en tijd van de opname opneemt en of dit een goede of onjuiste werking toont.</span><span class="sxs-lookup"><span data-stu-id="45483-131">Be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
- <span data-ttu-id="45483-132">Sla de bestanden van de tracering op.</span><span class="sxs-lookup"><span data-stu-id="45483-132">Save the trace files.</span></span> <span data-ttu-id="45483-133">Zorg er ook voor dat u de datum en tijd van de opname opneemt en of dit een goede of onjuiste werking toont.</span><span class="sxs-lookup"><span data-stu-id="45483-133">Again, be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>

<span data-ttu-id="45483-134">Als u niet bekend bent met het uitvoeren van de hulpmiddelen uit dit artikel, kunt u zich niet zorgen maken omdat deze stappen volgende worden beschreven.</span><span class="sxs-lookup"><span data-stu-id="45483-134">If you're not familiar with running the tools mentioned in this article, don't worry because we provide those steps next.</span></span> <span data-ttu-id="45483-135">Als u gewend bent dit soort netwerk opnamen te doen, kunt u overstappen op [het verzamelen van basislijnen](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), zodat de logboeken worden gefilterd en gelezen.</span><span class="sxs-lookup"><span data-stu-id="45483-135">If you're accustomed to doing this kind of network capturing, you can skip to [How to collect baselines](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), which describes filtering and reading the logs.</span></span>

### <a name="flush-the-dns-cache-first"></a><span data-ttu-id="45483-136">De DNS-cache eerst wissen</span><span class="sxs-lookup"><span data-stu-id="45483-136">Flush the DNS Cache first</span></span>

<span data-ttu-id="45483-137">Waarom?</span><span class="sxs-lookup"><span data-stu-id="45483-137">Why?</span></span> <span data-ttu-id="45483-138">Door de DNS-cache te delegeren, kunt u uw tests met een schone lei starten.</span><span class="sxs-lookup"><span data-stu-id="45483-138">By flushing out the DNS cache you're starting your tests with a clean slate.</span></span> <span data-ttu-id="45483-139">Als u de cache uitschakelt, wordt de inhoud van de DNS-resolver opnieuw ingesteld op de meest recente vermeldingen.</span><span class="sxs-lookup"><span data-stu-id="45483-139">By clearing the cache, you're resetting the DNS resolver contents to the most up-to-date entries.</span></span> <span data-ttu-id="45483-140">Als u een flush opslaat, worden de bestandsvermeldingen niet verwijderd.</span><span class="sxs-lookup"><span data-stu-id="45483-140">Remember that a flush does not remove HOSTs file entries.</span></span> <span data-ttu-id="45483-141">Als u de bestandsvermeldingen van de HOST uitvoerig gebruikt, kopieert u deze naar een bestand in een andere adreslijst en leegt u vervolgens het HOSTbestand.</span><span class="sxs-lookup"><span data-stu-id="45483-141">If you use HOST file entries extensively, you should copy those entries out to a file in another directory and then empty the HOST file.</span></span>

#### <a name="flush-your-dns-resolver-cache"></a><span data-ttu-id="45483-142">Uw DNS-resolver cache leegmaken</span><span class="sxs-lookup"><span data-stu-id="45483-142">Flush your DNS resolver cache</span></span>

1. <span data-ttu-id="45483-143">Open de opdrachtprompt ( **Start** \> **Run** \> **cmd** of **Windows-toets** \> **cmd**).</span><span class="sxs-lookup"><span data-stu-id="45483-143">Open the command prompt, (either **Start** \> **Run** \> **cmd** or **Windows key** \> **cmd**).</span></span>
2. <span data-ttu-id="45483-144">Typ de volgende opdracht en druk op ENTER:</span><span class="sxs-lookup"><span data-stu-id="45483-144">Type the following command and press ENTER:</span></span>

    ``` cmd
    ipconfig /flushdns
    ```

## <a name="netmon"></a><span data-ttu-id="45483-145">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-145">Netmon</span></span>

<span data-ttu-id="45483-146">Het Microsoft-programma voor netwerk bewaking ([netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analyseert pakketten, dit is verkeer, dat wordt doorgestuurd tussen computers in netwerken.</span><span class="sxs-lookup"><span data-stu-id="45483-146">Microsoft's Network Monitoring tool ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analyzes packets, that is traffic, that passes between computers on networks.</span></span> <span data-ttu-id="45483-147">Met netmon voor het traceren van verkeer met Office 365 kunt u pakket koppen vastleggen, weergeven en lezen, tussenliggende apparaten identificeren, belangrijke instellingen controleren op de netwerkhardware, zoeken naar genegeerde pakketten en de stroom van verkeer tussen computers in uw bedrijfsnetwerk en Office 365 volgen.</span><span class="sxs-lookup"><span data-stu-id="45483-147">By using Netmon to trace traffic with Office 365 you can capture, view, and read packet headers, identify intervening devices, check important settings on network hardware, look for dropped packets, and follow the flow of traffic between computers on your corporate network and Office 365.</span></span> <span data-ttu-id="45483-148">Aangezien de daadwerkelijke hoofdtekst van het verkeer versleuteld is, dat wil zeggen dat de bestanden worden verzonden via SSL/TLS, kunt u 443 deze niet lezen.</span><span class="sxs-lookup"><span data-stu-id="45483-148">Because the actual body of the traffic is encrypted, that is, it(travels on port 443 via SSL/TLS, you can't read the files being sent.</span></span> <span data-ttu-id="45483-149">In plaats daarvan krijgt u een niet-gefilterde tracering van het pad dat het pakket afneemt, wat helpt u bij het opsporen van het probleem gedrag.</span><span class="sxs-lookup"><span data-stu-id="45483-149">Instead, you get an unfiltered trace of the path that the packet takes which can help you track down the problem behavior.</span></span>

<span data-ttu-id="45483-150">Zorg dat u op dit moment geen filter toepast.</span><span class="sxs-lookup"><span data-stu-id="45483-150">Be sure you don't apply a filter at this time.</span></span> <span data-ttu-id="45483-151">Voer in plaats daarvan de stappen uit om het probleem te demonstreren voordat u de tracering stopt en opslaat.</span><span class="sxs-lookup"><span data-stu-id="45483-151">Instead, run through the steps and demonstrate the problem before stopping the trace and saving.</span></span>

<span data-ttu-id="45483-152">Wanneer u Netmon 3,4 hebt geïnstalleerd, opent u het hulpprogramma en voert u de volgende stappen uit:</span><span class="sxs-lookup"><span data-stu-id="45483-152">After you install Netmon 3.4, open the tool and take these steps:</span></span>

### <a name="take-a-netmon-trace-and-reproduce-the-issue"></a><span data-ttu-id="45483-153">Een netmon-trace maken en het probleem reproduceren</span><span class="sxs-lookup"><span data-stu-id="45483-153">Take a Netmon trace and reproduce the issue</span></span>

1. <span data-ttu-id="45483-154">Start netmon 3,4.</span><span class="sxs-lookup"><span data-stu-id="45483-154">Launch Netmon 3.4.</span></span>
<span data-ttu-id="45483-155">De **Start** pagina bevat drie deelvensters: **recente opnamen**, **Selecteer netwerken**en aan de slag **met Microsoft Network Monitor 3,4. Kennisgeving**.</span><span class="sxs-lookup"><span data-stu-id="45483-155">There are three panes on the **Start** page: **Recent Captures**, **Select Networks**, and the **Getting Started with Microsoft Network Monitor 3.4. Notice**.</span></span> <span data-ttu-id="45483-156">Het deelvenster netwerken selecteren biedt u ook een lijst met de standaard netwerken waaruit u kunt vastleggen.</span><span class="sxs-lookup"><span data-stu-id="45483-156">The Select Networks panel will also give you a list of the default networks from which you can capture.</span></span> <span data-ttu-id="45483-157">Zorg ervoor dat netwerkkaarten hier zijn geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="45483-157">Be sure that network cards are selected here.</span></span>

2. <span data-ttu-id="45483-158">Klik boven aan de **Start** pagina op **nieuwe opname** .</span><span class="sxs-lookup"><span data-stu-id="45483-158">Click **New Capture** at the top of the **Start** page.</span></span> <span data-ttu-id="45483-159">Hiermee wordt een nieuw tabblad toegevoegd naast het tabblad **Start** pagina met de naam **opname 1**.</span><span class="sxs-lookup"><span data-stu-id="45483-159">This adds a new tab beside the **Start** page tab called **Capture 1**.</span></span>
<span data-ttu-id="45483-160">![De gebruikersinterface van Netmon met de nieuwe knoppen vastleggen, starten en stoppen gemarkeerd.](../media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)</span><span class="sxs-lookup"><span data-stu-id="45483-160">![Netmon's user interface with the New Capture, Start, and Stop buttons highlighted.](../media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)</span></span>

3. <span data-ttu-id="45483-161">Als u een eenvoudige opname wilt maken, klikt u op de werkbalk op **Start** .</span><span class="sxs-lookup"><span data-stu-id="45483-161">To take a simple capture, click **Start** on the toolbar.</span></span>

4. <span data-ttu-id="45483-162">Reproduceer de stappen die tot een prestatieprobleem leiden.</span><span class="sxs-lookup"><span data-stu-id="45483-162">Reproduce the steps that present a performance issue.</span></span>

5. <span data-ttu-id="45483-163">Klik **Stop** op \> **bestand** \> **Opslaan als**beëindigen.</span><span class="sxs-lookup"><span data-stu-id="45483-163">Click **Stop** \> **File** \> **Save As**.</span></span> <span data-ttu-id="45483-164">Zorg dat u de datum en tijd met de tijdzone verduidelijkt en vermeldt of u de juiste of goede prestaties ziet.</span><span class="sxs-lookup"><span data-stu-id="45483-164">Remember to give the date and time with the time zone and to mention if it demonstrates bad or good performance.</span></span>

## <a name="httpwatch"></a><span data-ttu-id="45483-165">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="45483-165">HTTPWatch</span></span>

<span data-ttu-id="45483-166">[HTTPWatch](https://www.httpwatch.com/download/) wordt in rekening gebracht en een gratis editie.</span><span class="sxs-lookup"><span data-stu-id="45483-166">[HTTPWatch](https://www.httpwatch.com/download/) comes in charged, and a free edition.</span></span> <span data-ttu-id="45483-167">De gratis Basic Edition behandelt alles wat u nodig hebt voor deze test.</span><span class="sxs-lookup"><span data-stu-id="45483-167">The free Basic Edition covers everything you need for this test.</span></span> <span data-ttu-id="45483-168">HTTPWatch bewaakt netwerkverkeer en de laadtijd van pagina's direct vanuit het browservenster.</span><span class="sxs-lookup"><span data-stu-id="45483-168">HTTPWatch monitors network traffic and page load time right from your browser window.</span></span> <span data-ttu-id="45483-169">HTTPWatch is een invoegtoepassing voor Internet Explorer waarmee de prestaties grafisch worden beschreven.</span><span class="sxs-lookup"><span data-stu-id="45483-169">HTTPWatch is a plug-in to Internet Explorer that graphically describes performance.</span></span> <span data-ttu-id="45483-170">De analyse kan worden opgeslagen en weergegeven in HTTPWatch Studio.</span><span class="sxs-lookup"><span data-stu-id="45483-170">The analysis can be saved and viewed in HTTPWatch Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="45483-171">Als u een andere browser gebruikt, zoals Firefox, Google Chrome of als u HTTPWatch niet kunt installeren in Internet Explorer, opent u een nieuw browservenster en drukt u op F12 op het toetsenbord.</span><span class="sxs-lookup"><span data-stu-id="45483-171">If you use another browser, such as Firefox, Google Chrome, or if you can't install HTTPWatch in Internet Explorer, open a new browser window and press F12 on your keyboard.</span></span> <span data-ttu-id="45483-172">De pop-upvenster voor ontwikkelaars wordt onder in de browser weergegeven.</span><span class="sxs-lookup"><span data-stu-id="45483-172">You should see the Developer Tool pop-up at the bottom of your browser.</span></span> <span data-ttu-id="45483-173">Als u Opera gebruikt, drukt u op CTRL + SHIFT + I voor webcontrole, klikt u op het tabblad **netwerk** en voert u de test hieronder uit.</span><span class="sxs-lookup"><span data-stu-id="45483-173">If you use Opera, press CTRL+SHIFT+I for Web Inspector, then click the **Network** tab and complete the testing outlined below.</span></span> <span data-ttu-id="45483-174">De gegevens zijn iets anders, maar de laadtijden worden nog steeds weergegeven in milliseconden.</span><span class="sxs-lookup"><span data-stu-id="45483-174">The information will be slightly different, but load times will still be displayed in milliseconds.</span></span> <span data-ttu-id="45483-175">> HTTPWatch is ook zeer handig bij problemen met de laadtijd van pagina's in SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="45483-175">> HTTPWatch is also very useful for issues with SharePoint Online page load times.</span></span>

### <a name="run-httpwatch-and-reproduce-the-issue"></a><span data-ttu-id="45483-176">HTTPWatch uitvoeren en het probleem reproduceren</span><span class="sxs-lookup"><span data-stu-id="45483-176">Run HTTPWatch and reproduce the issue</span></span>

<span data-ttu-id="45483-177">HTTPWatch is een browser invoegtoepassing, dus als u het hulpmiddel in de browser wilt gebruiken, is het enigszins verschillend voor elke versie van Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="45483-177">HTTPWatch is a browser plug-in, so exposing the tool in the browser is slightly different for each version of Internet Explorer.</span></span> <span data-ttu-id="45483-178">Meestal vindt u HTTPWatch onder de Opdrachtenbalk in de browser Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="45483-178">Typically, you can find HTTPWatch under the Commands bar in the Internet Explorer browser.</span></span> <span data-ttu-id="45483-179">Als u de invoegtoepassing voor HTTPWatch niet ziet in uw browservenster, controleert u de versie van uw browser door te klikken op **Help** \> **voor**, of in latere versies van Internet Explorer, klikt u op het tandwiel pictogram en **over Internet Explorer**.</span><span class="sxs-lookup"><span data-stu-id="45483-179">If you don't see the HTTPWatch plug-in in your browser window, check the version of your browser by clicking **Help** \> **About**, or in later versions of Internet Explorer, click the gear symbol and **About Internet Explorer**.</span></span> <span data-ttu-id="45483-180">Als u de **opdrachten** balk wilt starten, klikt u met de rechtermuisknop op de menubalk in Internet Explorer en klikt u op **Opdrachtenbalk**.</span><span class="sxs-lookup"><span data-stu-id="45483-180">To launch the **Commands** bar, right-click the menu bar in Internet Explorer and click **Commands bar**.</span></span>

<span data-ttu-id="45483-181">In het verleden is HTTPWatch gekoppeld aan de opdrachten en de Explorer-balken, dus nadat u de installatie hebt voltooid, kunt u het pictogram van de **hulpmiddelen**voor het opnieuw opstarten en de werkbalken voor het pictogram weergeven.</span><span class="sxs-lookup"><span data-stu-id="45483-181">In the past, HTTPWatch has been associated with both the Commands and the Explorer bars, so once you install, if you don't immediately see the icon (even after reboot) check **Tools**, and your toolbars for the icon.</span></span> <span data-ttu-id="45483-182">Houd er rekening mee dat u werkbalken kunt aanpassen en opties kunt toevoegen.</span><span class="sxs-lookup"><span data-stu-id="45483-182">Remember that toolbars can be customized and options can be added to them.</span></span>

![De opdrachtbalk van Internet Explorer met het pictogram HTTPWatch weergegeven.](../media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)

1. <span data-ttu-id="45483-184">Start HTTPWatch in een browservenster van Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="45483-184">Launch HTTPWatch in an Internet Explorer browser window.</span></span> <span data-ttu-id="45483-185">Het wordt weergegeven in de browser onder aan dat venster.</span><span class="sxs-lookup"><span data-stu-id="45483-185">It will appear docked to the browser at the bottom of that window.</span></span> <span data-ttu-id="45483-186">Klik op **opnemen**.</span><span class="sxs-lookup"><span data-stu-id="45483-186">Click **Record**.</span></span>

2. <span data-ttu-id="45483-187">Reproduceer de stappen die het resultaat zijn van het prestatieprobleem.</span><span class="sxs-lookup"><span data-stu-id="45483-187">Reproduce the exact steps involved in the performance issue.</span></span> <span data-ttu-id="45483-188">Klik op de knop **stoppen** in HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="45483-188">Click the **Stop** button in HTTPWatch.</span></span>

3. <span data-ttu-id="45483-189">De HTTPWatch **Opslaan** of **per e-mail verzenden**.</span><span class="sxs-lookup"><span data-stu-id="45483-189">**Save** the HTTPWatch or **Send by Email**.</span></span> <span data-ttu-id="45483-190">Vergeet niet het bestand een naam te geven zodat het datum-en tijdgegevens bevat en geef aan of uw controle een demonstratie van goede of onjuiste prestaties bevat.</span><span class="sxs-lookup"><span data-stu-id="45483-190">Remember to name the file so that it includes date and time information and an indication of whether your Watch contains a demonstration of good or bad performance.</span></span>

![HTTPWatch met het tabblad netwerk voor het laden van de startpagina van Office 365.](../media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)

<span data-ttu-id="45483-192">Deze schermafbeelding is afkomstig uit de professionele versie van HTTPWatch.</span><span class="sxs-lookup"><span data-stu-id="45483-192">This screen shot is from the Professional version of HTTPWatch.</span></span> <span data-ttu-id="45483-193">U kunt traceringen openen die zijn gemaakt in de basisversie op een computer met een professionele versie en deze daar lezen.</span><span class="sxs-lookup"><span data-stu-id="45483-193">You can open traces taken in the Basic Version on a computer with a Professional version and read it there.</span></span> <span data-ttu-id="45483-194">Voor de tracering via die methode zijn er mogelijk extra gegevens beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="45483-194">Extra information may be available from the trace through that method.</span></span>

## <a name="problem-steps-recorder"></a><span data-ttu-id="45483-195">Probleemstappenbeschrijving</span><span class="sxs-lookup"><span data-stu-id="45483-195">Problem Steps Recorder</span></span>

<span data-ttu-id="45483-196">Met behulp van stappenbeschrijving of PSR.exe kunt u problemen vastleggen wanneer ze zich voordoen.</span><span class="sxs-lookup"><span data-stu-id="45483-196">Steps Recorder, or PSR.exe, allows you to record issues as they are occurring.</span></span> <span data-ttu-id="45483-197">Dit is een zeer handige functie en heel gemakkelijk te voeren.</span><span class="sxs-lookup"><span data-stu-id="45483-197">It's a very useful tool and very simple to run.</span></span>

### <a name="run-problem-steps-recorder-psrexe-to-record-your-work"></a><span data-ttu-id="45483-198">Probleemstappenbeschrijving (PSR.exe) uitvoeren om uw werk vast te leggen</span><span class="sxs-lookup"><span data-stu-id="45483-198">Run Problem Steps Recorder (PSR.exe) to record your work</span></span>

1. <span data-ttu-id="45483-199">Gebruik **Start** \> **Run** \> type **PSR.exe** \> **OK**, of klik op het **Windows-sleutel** \> type **PSR.exe** \> en druk vervolgens op ENTER.</span><span class="sxs-lookup"><span data-stu-id="45483-199">Either use **Start** \> **Run** \> type **PSR.exe** \> **OK**, or, click the **Windows Key** \> type **PSR.exe** \> and then press ENTER.</span></span>

2. <span data-ttu-id="45483-200">Wanneer het venster van Small PSR.exe wordt weergegeven, klikt u op **opname starten** en reproduceert u de stappen die het prestatieprobleem veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="45483-200">When the small PSR.exe window appears, click **Start Record** and reproduce the steps that reproduce the performance issue.</span></span> <span data-ttu-id="45483-201">U kunt zo nodig opmerkingen toevoegen door op **Opmerking toevoegen**te klikken.</span><span class="sxs-lookup"><span data-stu-id="45483-201">You can add comments as needed, by clicking **Add Comments**.</span></span>

3. <span data-ttu-id="45483-202">Klik op **opname stoppen** wanneer u de stappen hebt voltooid.</span><span class="sxs-lookup"><span data-stu-id="45483-202">Click **Stop Record** when you have completed the steps.</span></span> <span data-ttu-id="45483-203">Als het prestatieprobleem een paginaweergave is, moet u wachten tot de pagina wordt weergegeven voordat u de opname stopt.</span><span class="sxs-lookup"><span data-stu-id="45483-203">If the performance issue is a page render, wait for the page to render before you stop the recording.</span></span>

4. <span data-ttu-id="45483-204">Klik op **Opslaan**.</span><span class="sxs-lookup"><span data-stu-id="45483-204">Click **Save**.</span></span>

![Een schermafbeelding van de stappenbeschrijving of PSR.exe.](../media/8542b0aa-a3ff-4718-8dc4-43f5521c6c34.PNG)

<span data-ttu-id="45483-206">De datum en tijd worden vastgelegd.</span><span class="sxs-lookup"><span data-stu-id="45483-206">The date and time is recorded for you.</span></span> <span data-ttu-id="45483-207">Op die manier kunt u uw in de HTTPWatch-tracering en-in de loop van de tijd en helpt u nauwkeurig te kunnen oplossen.</span><span class="sxs-lookup"><span data-stu-id="45483-207">This links your PSR to your Netmon trace and HTTPWatch in time, and helps with precision troubleshooting.</span></span> <span data-ttu-id="45483-208">De datum en tijd in de naam van de record kunnen Voorst delen van de URL en de gedeeltelijke weergave van de beheersite worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="45483-208">The date and time in the PSR record can show that a minute passed between the login and browsing of the URL and the partial render of the admin site, for example.</span></span>

## <a name="read-your-traces"></a><span data-ttu-id="45483-209">Uw traces lezen</span><span class="sxs-lookup"><span data-stu-id="45483-209">Read your traces</span></span>

<span data-ttu-id="45483-210">Het is niet mogelijk om alles te leren over het oplossen van netwerk-en prestatieproblemen die iemand anders moet weten via een artikel.</span><span class="sxs-lookup"><span data-stu-id="45483-210">It isn't possible to teach everything about network and performance troubleshooting that someone would need to know via an article.</span></span> <span data-ttu-id="45483-211">Als u tevreden bent over de prestaties, maakt u kennis met de werking van uw netwerk en gewoonlijk.</span><span class="sxs-lookup"><span data-stu-id="45483-211">Getting good at performance takes experience, and knowledge of how your network works and usually performs.</span></span> <span data-ttu-id="45483-212">Maar het is mogelijk om een lijst met veelvoorkomende problemen af te ronden en de manier weer te geven waarop u de meest voorkomende problemen eenvoudiger kunt verhelpen.</span><span class="sxs-lookup"><span data-stu-id="45483-212">But it is possible to round up a list of top issues and show how tools can make it easier for you to eliminate the most common problems.</span></span>

<span data-ttu-id="45483-213">Als u vaardigheden wilt zoeken voor uw Office 365-sites, kunt u geen betere docenten maken dan vaak tracerings pagina's maken en de ervaring beter lezen.</span><span class="sxs-lookup"><span data-stu-id="45483-213">If you want to pick up skills reading network traces for your Office 365 sites, there is no better teacher than creating traces of page loads regularly and gaining experience reading them.</span></span> <span data-ttu-id="45483-214">Wanneer u bijvoorbeeld een kans hebt, laadt u een Office 365-service en traceert u het proces.</span><span class="sxs-lookup"><span data-stu-id="45483-214">For example, when you have a chance, load an Office 365 service and trace the process.</span></span> <span data-ttu-id="45483-215">U kunt de tracering voor DNS-verkeer filteren of de centreren zoeken voor de naam van de service waarnaar u op zoek bent.</span><span class="sxs-lookup"><span data-stu-id="45483-215">Filter the trace for DNS traffic, or search the FrameData for the name of the service you browsed.</span></span> <span data-ttu-id="45483-216">Scan de tracering om een idee te krijgen van de stappen die zich voordoen wanneer de service wordt geladen.</span><span class="sxs-lookup"><span data-stu-id="45483-216">Scan the trace to get an idea of the steps that occur when the service loads.</span></span> <span data-ttu-id="45483-217">Dit helpt u verder te leren hoe de belasting van de pagina eruit moet zien, en in het geval van probleemoplossing, met name rond de prestaties, kunt u een groot aantal zaken vergelijken.</span><span class="sxs-lookup"><span data-stu-id="45483-217">This will help you learn what normal page load should look like, and in the case of troubleshooting, particularly around performance, comparing good to bad traces can teach you a lot.</span></span>

<span data-ttu-id="45483-218">Netmon gebruikt Microsoft IntelliSense in het veldweergave filter.</span><span class="sxs-lookup"><span data-stu-id="45483-218">Netmon uses Microsoft Intellisense in the Display filter field.</span></span> <span data-ttu-id="45483-219">Een IntelliSense-of intelligentere programmacode wordt gebruikt om te typen in een punt en alle beschikbare opties worden weergegeven in een selectievakje voor vervolgkeuzelijsten.</span><span class="sxs-lookup"><span data-stu-id="45483-219">Intellisense, or intelligent code completion, is that trick where you type in a period and all available options are displayed in a drop-down selection box.</span></span> <span data-ttu-id="45483-220">Als u bijvoorbeeld zorgen voor de schaal van het TCP-venster, kunt u op dit manier de manier waarop u een filter kunt vinden (bijvoorbeeld  `.protocol.tcp.window < 100` ).</span><span class="sxs-lookup"><span data-stu-id="45483-220">If, for example, you are worried about TCP window scaling, you can find your way to a filter (such as  `.protocol.tcp.window < 100`) by this means.</span></span>

![Schermafbeelding van Netmon waarin wordt weergegeven dat het veld filter filter wordt gebruikt voor IntelliSense.](../media/75a56c11-9a60-47ee-a100-aabdfb1ba10f.PNG)

<span data-ttu-id="45483-222">Netmon-traces kunnen veel verkeer bevatten.</span><span class="sxs-lookup"><span data-stu-id="45483-222">Netmon traces can have a lot of traffic in them.</span></span> <span data-ttu-id="45483-223">Als u deze niet kunt lezen, wordt waarschijnlijk overspoeld dat u de eerste keer opspoort.</span><span class="sxs-lookup"><span data-stu-id="45483-223">If you aren't experienced with reading them, it's likely you will be overwhelmed opening the trace the first time.</span></span> <span data-ttu-id="45483-224">Het eerste wat u moet doen, is het signaal van de achtergrond geluiden in de tracering scheidt.</span><span class="sxs-lookup"><span data-stu-id="45483-224">The first thing to do is separate the signal from the background noise in the trace.</span></span> <span data-ttu-id="45483-225">U hebt getest op Office 365 en dat is het verkeer dat u wilt bekijken.</span><span class="sxs-lookup"><span data-stu-id="45483-225">You tested against Office 365, and that's the traffic you want to see.</span></span> <span data-ttu-id="45483-226">Als u gebruikt om te navigeren door traces, hebt u deze lijst mogelijk niet nodig.</span><span class="sxs-lookup"><span data-stu-id="45483-226">If you are used to navigating through traces, you may not need this list.</span></span>

<span data-ttu-id="45483-227">Verkeer tussen uw client en Office 365 wordt via TLS getransporteerd, wat betekent dat de hoofdtekst van het verkeer versleutelt en niet leesbaar is in een algemene netmon-tracering.</span><span class="sxs-lookup"><span data-stu-id="45483-227">Traffic between your client and Office 365 travels via TLS, which means that the body of the traffic will be encrypted and not readable in a generic Netmon trace.</span></span> <span data-ttu-id="45483-228">De prestatieanalyse hoeft niet de specifieke gegevens van de informatie in het pakket te weten.</span><span class="sxs-lookup"><span data-stu-id="45483-228">Your performance analysis doesn't need to know the specifics of the information in the packet.</span></span> <span data-ttu-id="45483-229">Dat is echter zeer geïnteresseerd in pakketheaders en de gegevens die ze bevatten.</span><span class="sxs-lookup"><span data-stu-id="45483-229">It is, however, very interested in packet headers and the information that they contain.</span></span>

### <a name="tips-to-get-a-good-trace"></a><span data-ttu-id="45483-230">Tips om een goede tracering te voorkomen</span><span class="sxs-lookup"><span data-stu-id="45483-230">Tips to get a good trace</span></span>

- <span data-ttu-id="45483-231">U weet de waarde van het IPv4-of IPv6-adres van de clientcomputer.</span><span class="sxs-lookup"><span data-stu-id="45483-231">Know the value of the IPv4 or IPv6 address of your client computer.</span></span> <span data-ttu-id="45483-232">U kunt dit achterhalen via de opdracht **prompt en vervolgens op ENTER te drukken** .</span><span class="sxs-lookup"><span data-stu-id="45483-232">You can get this from the command prompt by typing **IPConfig** and then pressing ENTER.</span></span> <span data-ttu-id="45483-233">Als u op de hoogte bent van dit adres, kunt u in één oogopslag zien of het verkeer van de tracering direct de clientcomputer omvat.</span><span class="sxs-lookup"><span data-stu-id="45483-233">Knowing this address will let you tell at a glance whether the traffic in the trace directly involves your client computer.</span></span> <span data-ttu-id="45483-234">Als er sprake is van een bekende proxy, pingt u deze en haalt u ook het bijbehorende IP-adres op.</span><span class="sxs-lookup"><span data-stu-id="45483-234">If there is a known proxy, ping it and get its IP address as well.</span></span>

- <span data-ttu-id="45483-235">Flush de DNS resolver cache en, indien mogelijk, sluit alle browsers, behalve de versie waarin u de tests uitvoert.</span><span class="sxs-lookup"><span data-stu-id="45483-235">Flush your DNS resolver cache and, if possible, close all browsers except the one in which you are running your tests.</span></span> <span data-ttu-id="45483-236">Als het u niet lukt om dit te doen als ondersteuning een dergelijk hulpprogramma op basis van een browser gebruikt om het bureaublad van de clientcomputer te zien, moet u de tracering voorbereiden.</span><span class="sxs-lookup"><span data-stu-id="45483-236">If you are not able to do this, for instance, if support is using some browser-based tool to see your client computer's desktop, be prepared to filter your trace.</span></span>

- <span data-ttu-id="45483-237">Ga in een bezet tracering naar de Office 365-service die u gebruikt.</span><span class="sxs-lookup"><span data-stu-id="45483-237">In a busy trace, locate the Office 365 service that you're using.</span></span> <span data-ttu-id="45483-238">Als u uw verkeer niet al dan niet al eerder hebt gezien, dan is dit een handige stap bij het scheiden van het prestatieprobleem van andere netwerk geluiden.</span><span class="sxs-lookup"><span data-stu-id="45483-238">If you've never or seldom seen your traffic before, this is a helpful step in separating the performance issue from other network noise.</span></span> <span data-ttu-id="45483-239">U kunt dit op een aantal manieren doen.</span><span class="sxs-lookup"><span data-stu-id="45483-239">There are a few ways to do this.</span></span> <span data-ttu-id="45483-240">U kunt voor de test direct voor de test gebruikmaken van _ping_ of _PSPING_ op de URL van de bepaalde service ( `ping outlook.office365.com` of `psping -4 microsoft-my.sharepoint.com:443` bijvoorbeeld).</span><span class="sxs-lookup"><span data-stu-id="45483-240">Directly before your test, you can use _ping_ or _PsPing_ against the URL of the specific service (`ping outlook.office365.com` or `psping -4 microsoft-my.sharepoint.com:443`, for example).</span></span> <span data-ttu-id="45483-241">U kunt deze ping-of PsPing in een netmon-trace met de naam van het proces ook gemakkelijk vinden.</span><span class="sxs-lookup"><span data-stu-id="45483-241">You can also easily find that ping or PsPing in a Netmon trace (by its process name).</span></span> <span data-ttu-id="45483-242">U krijgt een plaats waar u kunt zoeken.</span><span class="sxs-lookup"><span data-stu-id="45483-242">That will give you a place to start looking.</span></span>

<span data-ttu-id="45483-243">Als u de tracering van Netmon alleen op het moment van het probleem gebruikt, klopt dat ook.</span><span class="sxs-lookup"><span data-stu-id="45483-243">If you're only using Netmon tracing at the time of the problem, that's okay too.</span></span> <span data-ttu-id="45483-244">Als u het wilt laten overkomen, gebruikt u een filter zoals `ContainsBin(FrameData, ASCII, "office")` of `ContainsBin(FrameData, ASCII, "outlook")` .</span><span class="sxs-lookup"><span data-stu-id="45483-244">To orient yourself, use a filter like `ContainsBin(FrameData, ASCII, "office")` or `ContainsBin(FrameData, ASCII, "outlook")`.</span></span> <span data-ttu-id="45483-245">U kunt het framenummer opnemen in het traceringsbestand.</span><span class="sxs-lookup"><span data-stu-id="45483-245">You can record your frame number from the trace file.</span></span> <span data-ttu-id="45483-246">U kunt ook het deelvenster _kader samenvatting_ helemaal naar rechts schuiven en de kolom GESPREKS-id opzoeken.</span><span class="sxs-lookup"><span data-stu-id="45483-246">You may also want to scroll the _Frame Summary_ pane all the way to the right and look for the Conversation ID column.</span></span> <span data-ttu-id="45483-247">Er is een cijfer aangegeven voor de ID van deze specifieke conversatie die u later kunt opnemen en bekijken.</span><span class="sxs-lookup"><span data-stu-id="45483-247">There is a number indicated there for the ID of this specific conversation that you can also record and look at in isolation later.</span></span> <span data-ttu-id="45483-248">Zorg dat u dit filter verwijdert voordat u andere filters toepast.</span><span class="sxs-lookup"><span data-stu-id="45483-248">Remember to remove this filter before applying any other filtering.</span></span>

> [!TIP]
> <span data-ttu-id="45483-249">Netmon biedt veel handige ingebouwde filters.</span><span class="sxs-lookup"><span data-stu-id="45483-249">Netmon has a lot of helpful built-in filters.</span></span> <span data-ttu-id="45483-250">Gebruik de knop **filter laden** boven aan het deelvenster _weergave_ filter.</span><span class="sxs-lookup"><span data-stu-id="45483-250">Try the **Load Filter** button at the top of the _Display_ filter pane.</span></span>

![Zoek uw IP-adres met behulp van PSPing vanaf de opdrachtregel op de clientcomputer.](../media/4c43ac67-e28e-4536-842d-7add7aa28847.PNG)

![Netmon-tracering van de client met dezelfde PSPing-opdracht via het filter TCP. Flags. SYN = = 1.](../media/0ae7ef7d-e003-4d01-a006-dc49bd1fcef2.PNG)

<span data-ttu-id="45483-253">Raak vertrouwd met uw verkeer en leer hoe u de informatie kunt vinden die u nodig hebt.</span><span class="sxs-lookup"><span data-stu-id="45483-253">Get familiar with your traffic, and learn to locate the information you need.</span></span> <span data-ttu-id="45483-254">Als u bijvoorbeeld wilt weten welk pakket in de tracering de eerste verwijzing naar de Office 365-service die u gebruikt (zoals ' Outlook ').</span><span class="sxs-lookup"><span data-stu-id="45483-254">For example, learn to determine which packet in the trace has the first reference to the Office 365 service you're using (like "Outlook").</span></span>

<span data-ttu-id="45483-255">Met Office 365 Outlook online als voorbeeld, begint het verkeer met een van de volgende items:</span><span class="sxs-lookup"><span data-stu-id="45483-255">Taking Office 365 Outlook Online as an example, the traffic begins something like this:</span></span>

- <span data-ttu-id="45483-256">DNS-standaard query en DNS-antwoord voor outlook.office365.com met overeenkomstige QueryIDs.</span><span class="sxs-lookup"><span data-stu-id="45483-256">DNS Standard Query and DNS Response for outlook.office365.com with matching QueryIDs.</span></span> <span data-ttu-id="45483-257">Het is belangrijk dat u zich aanmeldt voor het aanvullen van de tijd en waar ter wereld de DNS-records van Office 365 de aanvraag voor de naamomzetting verzenden.</span><span class="sxs-lookup"><span data-stu-id="45483-257">It's important to note the time offset for this turn-around, as well as where in the world the Office 365 Global DNS sends the request for name resolution.</span></span> <span data-ttu-id="45483-258">In het ideale geval, in plaats van Midden overal ter wereld.</span><span class="sxs-lookup"><span data-stu-id="45483-258">Ideally, as locally as possible, rather than halfway across the world.</span></span>

- <span data-ttu-id="45483-259">Een HTTP GET-aanvraag met het statusrapport permanent verplaatst (301)</span><span class="sxs-lookup"><span data-stu-id="45483-259">A HTTP GET Request whose status report Moved Permanently (301)</span></span>

- <span data-ttu-id="45483-260">RWS verkeer, waaronder RWS Connect-aanvragen, en antwoorden verbinden.</span><span class="sxs-lookup"><span data-stu-id="45483-260">RWS Traffic including RWS Connect requests and Connect replies.</span></span> <span data-ttu-id="45483-261">(Dit is externe Winsock die een verbinding maakt.)</span><span class="sxs-lookup"><span data-stu-id="45483-261">(This is Remote Winsock making a connection for you.)</span></span>

- <span data-ttu-id="45483-262">Een TCP SYN en TCP SYN/ACK-gesprek.</span><span class="sxs-lookup"><span data-stu-id="45483-262">A TCP SYN and TCP SYN/ACK conversation.</span></span> <span data-ttu-id="45483-263">Veel van de instellingen in dit gesprek zijn van invloed op de prestaties.</span><span class="sxs-lookup"><span data-stu-id="45483-263">A lot of the settings in this conversation impact your performance.</span></span>

- <span data-ttu-id="45483-264">Vervolgens een reeks TLS: TLS-verkeer, waarin de TLS-Handshake en de TLS-certificaat uitwisseling plaatsvinden.</span><span class="sxs-lookup"><span data-stu-id="45483-264">Then a series of TLS:TLS traffic which is where the TLS handshake and TLS certificate conversations take place.</span></span> <span data-ttu-id="45483-265">(Onthoud dat de gegevens worden versleuteld via SSL/TLS.)</span><span class="sxs-lookup"><span data-stu-id="45483-265">(Remember the data is encrypted via SSL/TLS.)</span></span>

<span data-ttu-id="45483-266">Alle onderdelen van het verkeer zijn belangrijk en verbonden, maar kleine delen van de tracering bieden vooral belangrijke informatie over het oplossen van de prestaties, zodat we de focus op die gebieden richten.</span><span class="sxs-lookup"><span data-stu-id="45483-266">All parts of the traffic are important and connected, but small portions of the trace contain information particularly important in terms of performance troubleshooting, so we'll focus on those areas.</span></span> <span data-ttu-id="45483-267">Omdat we voldoende Office 365-prestaties voor de prestaties van Microsoft hebben gedaan om een top tien lijst met veelvoorkomende problemen op te stellen, richten we ons op deze problemen en hoe u deze kunt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="45483-267">Also, since we've done enough Office 365 performance troubleshooting at Microsoft to compile a Top Ten list of common problems, we'll focus on those issues and how to use the tools we have to root them out next.</span></span>

<span data-ttu-id="45483-268">Als u deze niet allemaal klaar hebt geïnstalleerd, kunt u in de onderstaande matrix diverse hulpmiddelen gebruiken.</span><span class="sxs-lookup"><span data-stu-id="45483-268">If you haven't installed them all ready, the matrix below makes use of several tools.</span></span> <span data-ttu-id="45483-269">Waar mogelijk.</span><span class="sxs-lookup"><span data-stu-id="45483-269">Where possible.</span></span> <span data-ttu-id="45483-270">Koppelingen worden geleverd met de installatiepunten.</span><span class="sxs-lookup"><span data-stu-id="45483-270">Links are provided to the installation points.</span></span> <span data-ttu-id="45483-271">De lijst bevat veelgebruikte hulpprogramma's voor het traceren van netwerken, zoals [netmon](https://www.microsoft.com/download/details.aspx?id=4865) en [wireshark](https://www.wireshark.org/), maar u kunt ook gebruikmaken van een programma waarmee u vertrouwd bent, en waarbij u niet gewend bent om netwerkverkeer te filteren.</span><span class="sxs-lookup"><span data-stu-id="45483-271">The list includes common network tracing tools like [Netmon](https://www.microsoft.com/download/details.aspx?id=4865) and [Wireshark](https://www.wireshark.org/), but use any tracing tool you are comfortable with, and in which you're accustomed to filtering network traffic.</span></span> <span data-ttu-id="45483-272">Let op het volgende wanneer u gaat testen:</span><span class="sxs-lookup"><span data-stu-id="45483-272">When you're testing, remember:</span></span>

- <span data-ttu-id="45483-273">*Sluit uw browsers en test met maar één browser*  als deze wordt gebruikt, wordt het totale verkeer dat u hebt vastgelegd, verminderd.</span><span class="sxs-lookup"><span data-stu-id="45483-273">*Close your browsers, and test with only one browser running*  - This will reduce the overall traffic you capture.</span></span> <span data-ttu-id="45483-274">De tracering minder bezet is.</span><span class="sxs-lookup"><span data-stu-id="45483-274">It makes for a less busy trace.</span></span>
- <span data-ttu-id="45483-275">*De DNS-resolver cache op de clientcomputer leegmaken*  : Hiermee krijgt u een schone pastel wanneer u begint met het maken van uw opname voor een duidelijkere tracering.</span><span class="sxs-lookup"><span data-stu-id="45483-275">*Flush your DNS resolver cache on the client computer*  - This will give you a clean slate when you start to take your capture, for a cleaner trace.</span></span>

## <a name="common-issues"></a><span data-ttu-id="45483-276">Veelvoorkomende problemen</span><span class="sxs-lookup"><span data-stu-id="45483-276">Common issues</span></span>

<span data-ttu-id="45483-277">Enkele veelvoorkomende problemen die kunnen optreden en hoe u ze vindt in uw netwerk spoor.</span><span class="sxs-lookup"><span data-stu-id="45483-277">Some common issues you may face and how to find them in your Network trace.</span></span>

### <a name="tcp-windows-scaling"></a><span data-ttu-id="45483-278">Schaalbaarheid van TCP-vensters</span><span class="sxs-lookup"><span data-stu-id="45483-278">TCP Windows Scaling</span></span>

<span data-ttu-id="45483-279">Gevonden in de SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="45483-279">Found in the SYN - SYN/ACK.</span></span> <span data-ttu-id="45483-280">Oude of verouderde hardware maakt geen gebruik van schaalbaarheid van TCP-vensters.</span><span class="sxs-lookup"><span data-stu-id="45483-280">Legacy or aging hardware may not take advantage of TCP windows scaling.</span></span>  <span data-ttu-id="45483-281">Zonder de juiste schaalinstellingen voor TCP-vensters wordt de standaard 16-bits buffer in TCP-headers in milliseconden gevuld.</span><span class="sxs-lookup"><span data-stu-id="45483-281">Without proper TCP windows scaling settings, the default 16-bit buffer in TCP headers fills in milliseconds.</span></span>  <span data-ttu-id="45483-282">Het is niet mogelijk om verkeer door te sturen totdat de klant een bevestiging ontvangt dat de oorspronkelijke gegevens zijn ontvangen en vertraging veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="45483-282">Traffic cannot continue to send until the client receives an acknowledgment that the original data has been received, causing delays.</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-283">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-283">Tools</span></span>

- <span data-ttu-id="45483-284">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-284">Netmon</span></span>
- <span data-ttu-id="45483-285">Wireshark</span><span class="sxs-lookup"><span data-stu-id="45483-285">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-286">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-286">What to look for</span></span>

<span data-ttu-id="45483-287">Zoek naar het SYN-SYN/ACK-verkeer in uw netwerk spoor.</span><span class="sxs-lookup"><span data-stu-id="45483-287">Look for the SYN - SYN/ACK traffic in your network trace.</span></span>  <span data-ttu-id="45483-288">In netmon gebruikt u een filter like  `tcp.flags.syn == 1` .</span><span class="sxs-lookup"><span data-stu-id="45483-288">In Netmon, use a filter like  `tcp.flags.syn == 1`.</span></span> <span data-ttu-id="45483-289">Dit filter is hetzelfde in wireshark.</span><span class="sxs-lookup"><span data-stu-id="45483-289">This filter is the same in Wireshark.</span></span>

![Filter in netmon of wireshark voor SYN-pakketten voor beide hulpprogramma's: TCP. Flags. SYN = = 1.](../media/4b9a12a1-c915-43c8-ac2f-a679d0435a29.PNG)

<span data-ttu-id="45483-291">U ziet dat voor elke SYN er een nummer voor de bronpoort (SrcPort) komt dat overeenkomt met de bestemmingspoort (DstPort) van de gerelateerde bevestiging (SYN/ACK).</span><span class="sxs-lookup"><span data-stu-id="45483-291">Notice that for every SYN there is a source port (SrcPort) number that is matched in the destination port (DstPort) of the related Acknowledgment (SYN/ACK).</span></span>

<span data-ttu-id="45483-292">Als u de waarde van de schaalbaarheid van de vensters wilt zien die wordt gebruikt door uw netwerkverbinding, vouwt u eerst de SYN uit en vervolgens de desbetreffende SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="45483-292">To see the Windows Scaling value that is used by your network connection, expand first the SYN, and then the related SYN/ACK.</span></span>

![Afbeelding van het vergelijken van SrcPort met DstPort in een spoor om de tijdsdelta te bepalen.](../media/6a4ca573-0253-4fbd-93e8-92821ee1c351.png)

### <a name="tcp-idle-time-settings"></a><span data-ttu-id="45483-294">Instellingen voor niet-actieve tijd TCP</span><span class="sxs-lookup"><span data-stu-id="45483-294">TCP Idle Time Settings</span></span>

<span data-ttu-id="45483-295">Historisch, de meeste perimeternetwerken zijn geconfigureerd voor tijdelijke verbindingen, wat betekent dat onbezete verbindingen meestal worden beëindigd.</span><span class="sxs-lookup"><span data-stu-id="45483-295">Historically, most perimeter networks are configured for transient connections, meaning idle connections are generally terminated.</span></span> <span data-ttu-id="45483-296">Niet-actieve TCP-sessies kunnen door proxy's en firewalls worden beëindigd op meer dan 100 tot 300 seconden.</span><span class="sxs-lookup"><span data-stu-id="45483-296">Idle TCP sessions can be terminated by proxies and firewalls at greater than 100 to 300 seconds.</span></span> <span data-ttu-id="45483-297">Dit is problematisch voor Outlook online omdat er langdurige verbindingen worden gemaakt en gebruikt, ongeacht of deze actief zijn of niet.</span><span class="sxs-lookup"><span data-stu-id="45483-297">This is problematic for Outlook Online because it creates and uses long-term connections, whether they are idle or not.</span></span>

<span data-ttu-id="45483-298">Wanneer verbindingen worden beëindigd door proxy-of firewall apparaten, wordt de client niet op de hoogte gesteld en wordt u geprobeerd Outlook online te gebruiken, maar een clientcomputer probeert herhaaldelijk de verbinding te maken voordat een nieuwe verbinding wordt gemaakt.</span><span class="sxs-lookup"><span data-stu-id="45483-298">When connections are terminated by proxy or firewall devices, the client is not informed, and an attempt to use Outlook Online will mean a client computer will try, repeatedly, to revive the connection before making a new one.</span></span> <span data-ttu-id="45483-299">U ziet mogelijk vastlopen van het product, prompts of vertragingen bij het laden van pagina's.</span><span class="sxs-lookup"><span data-stu-id="45483-299">You may see hangs in the product, prompts, or slow performance on page load.</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-300">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-300">Tools</span></span>

- <span data-ttu-id="45483-301">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-301">Netmon</span></span>
- <span data-ttu-id="45483-302">Wireshark</span><span class="sxs-lookup"><span data-stu-id="45483-302">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-303">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-303">What to look for</span></span>

<span data-ttu-id="45483-304">Kijk in netmon naar het veld Time offset voor een retour reis.</span><span class="sxs-lookup"><span data-stu-id="45483-304">In Netmon, look at the Time Offset field for a round-trip.</span></span> <span data-ttu-id="45483-305">Een afronding is de tijd tussen de klant die een aanvraag verzendt naar de server en een antwoord ontvangt.</span><span class="sxs-lookup"><span data-stu-id="45483-305">A round-trip is the time between client sending a request to the server and receiving a response back.</span></span> <span data-ttu-id="45483-306">Controleer de client en het uitgangspunt (ex).</span><span class="sxs-lookup"><span data-stu-id="45483-306">Check between the Client and the egress point (ex.</span></span> <span data-ttu-id="45483-307">Client-- \> proxy) of de client naar Office 365 (client- \> Office 365).</span><span class="sxs-lookup"><span data-stu-id="45483-307">Client --\> Proxy), or the Client to Office 365 (Client --\> Office 365).</span></span> <span data-ttu-id="45483-308">U kunt dit in veel typen pakketten zien.</span><span class="sxs-lookup"><span data-stu-id="45483-308">You can see this in many types of packets.</span></span>

<span data-ttu-id="45483-309">Voorbeeld: het filter in netmon kan er als volgt uitzien  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12` , of, in wireshark,  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12` .</span><span class="sxs-lookup"><span data-stu-id="45483-309">As an example, the filter in Netmon may look like  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, or, in Wireshark,  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span></span>

> [!TIP]
> <span data-ttu-id="45483-310">Weet u niet of het IP-adres van de tracering deel uitmaakt van uw DNS-server?</span><span class="sxs-lookup"><span data-stu-id="45483-310">Don't know if the IP address in your trace belongs to your DNS server?</span></span> <span data-ttu-id="45483-311">Kijk op de opdrachtregel.</span><span class="sxs-lookup"><span data-stu-id="45483-311">Try looking it up at the command line.</span></span> <span data-ttu-id="45483-312">Klik op **Start** \> **Run** \> en typ **cmd**, of druk op de **Windows-toets** \> en typ **cmd**.</span><span class="sxs-lookup"><span data-stu-id="45483-312">Click **Start** \> **Run** \> and type **cmd**, or press **Windows Key** \> and type **cmd**.</span></span> <span data-ttu-id="45483-313">Typ bij de prompt  `nslookup <the IP address from the network trace>` .</span><span class="sxs-lookup"><span data-stu-id="45483-313">At the prompt, type  `nslookup <the IP address from the network trace>`.</span></span> <span data-ttu-id="45483-314">Als u wilt testen, gebruikt u Nslookup voor het IP-adres van uw eigen computer.</span><span class="sxs-lookup"><span data-stu-id="45483-314">To test, use nslookup against your own computer's IP address.</span></span> <span data-ttu-id="45483-315">Zie [Office 365-url's en IP-](https://technet.microsoft.com/library/hh373144.aspx)adresbereiken > u een lijst met IP-bereiken van Microsoft wilt weergeven.</span><span class="sxs-lookup"><span data-stu-id="45483-315">> To see a list of Microsoft's IP ranges, see [Office 365 URLs and IP address ranges](https://technet.microsoft.com/library/hh373144.aspx).</span></span>

<span data-ttu-id="45483-316">Als er sprake is van een probleem, krijgt u een langere tijds afstand te zien, in dit geval (Outlook online), met name in TLS: TLS-pakketten waarin het doorgeven van toepassingsgegevens wordt weergegeven (bijvoorbeeld in netmon kunt u toepassingen gegevenspakketten vinden via  `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"` ).</span><span class="sxs-lookup"><span data-stu-id="45483-316">If there is a problem, expect long Time Offsets to appear, in this case (Outlook Online), particularly in TLS:TLS packets that show the passage of Application Data (for example, in Netmon you can find application data packets via  `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`).</span></span> <span data-ttu-id="45483-317">U ziet nu een soepele voortgang tijdens de sessie.</span><span class="sxs-lookup"><span data-stu-id="45483-317">You should see a smooth progression in the time across the session.</span></span> <span data-ttu-id="45483-318">Als u tijdens het vernieuwen van Outlook online vertragingen ziet, is dit mogelijk het gevolg van een hoge weergave van de opnieuw ingestelde reset berichten.</span><span class="sxs-lookup"><span data-stu-id="45483-318">If you see long delays when refreshing your Outlook Online, this could be caused by a high degree of resets being sent.</span></span>

### <a name="latencyround-trip-time"></a><span data-ttu-id="45483-319">Latentie/retourtijd</span><span class="sxs-lookup"><span data-stu-id="45483-319">Latency/Round Trip Time</span></span>

<span data-ttu-id="45483-320">Latentie is een maateenheid waarmee u een lot kunt wijzigen, afhankelijk van talrijke variabelen, zoals het upgraden van verouderings apparaten, het toevoegen van een groot aantal gebruikers aan een netwerk en het percentage van de totale bandbreedte die wordt gebruikt door andere taken op een netwerkverbinding.</span><span class="sxs-lookup"><span data-stu-id="45483-320">Latency is a measure that can change a lot depending on many variables, such upgrading aging devices, adding a large number of users to a network, and the percentage of overall bandwidth consumed by other tasks on a network connection.</span></span>

<span data-ttu-id="45483-321">Op de pagina [netwerk planning en prestaties optimaliseren voor office 365](network-planning-and-performance.md) zijn bandbreedte berekenen voor Office 365 beschikbaar.</span><span class="sxs-lookup"><span data-stu-id="45483-321">There are bandwidth calculators for Office 365 available from this [Network planning and performance tuning for Office 365](network-planning-and-performance.md) page.</span></span>

<span data-ttu-id="45483-322">Wilt u de snelheid van de verbinding of de bandbreedte van de provider van de verbinding waarderen?</span><span class="sxs-lookup"><span data-stu-id="45483-322">Need to measure the speed of your connection, or your ISP connection's bandwidth?</span></span> <span data-ttu-id="45483-323">Probeer deze site (of sites zoals de site): [Speed Test officiële site](https://www.speedtest.net/)of zoek een zoekmachine naar uw favoriete zoekprogramma voor **de wachtwoordzin.**</span><span class="sxs-lookup"><span data-stu-id="45483-323">Try this site (or sites like it): [Speedtest Official Site](https://www.speedtest.net/), or query your favorite search engine for the phrase **speed test**.</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-324">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-324">Tools</span></span>

- <span data-ttu-id="45483-325">Sporen</span><span class="sxs-lookup"><span data-stu-id="45483-325">Ping</span></span>
- <span data-ttu-id="45483-326">PsPing</span><span class="sxs-lookup"><span data-stu-id="45483-326">PsPing</span></span>
- <span data-ttu-id="45483-327">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-327">Netmon</span></span>
- <span data-ttu-id="45483-328">Wireshark</span><span class="sxs-lookup"><span data-stu-id="45483-328">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-329">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-329">What to look for</span></span>

<span data-ttu-id="45483-330">Als u de latentie van een spoor wilt bijhouden, moet u het IP-adres van de client en het IP-adres van de DNS-server in Office 365 vastleggen.</span><span class="sxs-lookup"><span data-stu-id="45483-330">To track latency in a trace, you will benefit from having recorded the client computer IP address and the IP address of the DNS server in Office 365.</span></span> <span data-ttu-id="45483-331">Dit is bedoeld om het filteren van tracering te vereenvoudigen.</span><span class="sxs-lookup"><span data-stu-id="45483-331">This is for the purpose of easier trace filtering.</span></span> <span data-ttu-id="45483-332">Als u verbinding maakt via een proxy, hebt u het IP-adres van de client en het IP-adres van de client en het IP-adres van Office 365 nodig om het werk eenvoudiger te maken.</span><span class="sxs-lookup"><span data-stu-id="45483-332">If you connect through a proxy, you will need your client computer IP address, the proxy/egress IP address, and the Office 365 DNS IP address, to make the work easier.</span></span>

<span data-ttu-id="45483-333">Bij een ping-aanvraag die naar outlook.office365.com is verzonden, krijgt u de naam van het datacenter dat de aanvraag ontvangt, ook  *als ping geen verbinding kan maken*  om de opeenvolgende ICMP-pakketten van het handelsmerk te verzenden.</span><span class="sxs-lookup"><span data-stu-id="45483-333">A ping request sent to outlook.office365.com will tell you the name of the datacenter receiving the request, even if ping  *may*  not be able to connect to send the trademark consecutive ICMP packets.</span></span> <span data-ttu-id="45483-334">Als u PsPing (een gratis tool voor downloaden) gebruikt, en specifiek de poort (443) en wellicht IPv4 (-4), krijgt u een gemiddelde retourtijd voor verzonden pakketten.</span><span class="sxs-lookup"><span data-stu-id="45483-334">If you use PsPing (a free tool for download), and specific the port (443) and perhaps to use IPv4 (-4) you will get an average round-trip-time for packets sent.</span></span> <span data-ttu-id="45483-335">Dit is geschikt voor andere Url's in Office 365-Services, zoals `psping -4 yourSite.sharepoint.com:443` .</span><span class="sxs-lookup"><span data-stu-id="45483-335">This will work this for other URLs in the Office 365 services, like `psping -4 yourSite.sharepoint.com:443`.</span></span> <span data-ttu-id="45483-336">U kunt in werkelijkheid een aantal pings opgeven om een groter voorbeeld voor uw gemiddelde te bereiken, probeer dan iets te doen `psping -4 -n 20 yourSite-my.sharepoint.com:443` .</span><span class="sxs-lookup"><span data-stu-id="45483-336">In fact, you can specify a number of pings to get a larger sample for your average, try something like `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span></span>

> [!NOTE]
> <span data-ttu-id="45483-337">PsPing verzendt geen ICMP-pakketten.</span><span class="sxs-lookup"><span data-stu-id="45483-337">PsPing doesn't send ICMP packets.</span></span> <span data-ttu-id="45483-338">Met de opdracht pingeert u TCP-pakketten via een specifieke poort, zodat u elke bewuste versie kunt gebruiken.</span><span class="sxs-lookup"><span data-stu-id="45483-338">It pings with TCP packets over a specific port, so you can use any one you know to be open.</span></span> <span data-ttu-id="45483-339">In Office 365, dat gebruikmaakt van SSL/TLS, probeert u poort: 443 toe te voegen aan uw PsPing.</span><span class="sxs-lookup"><span data-stu-id="45483-339">In Office 365, which uses SSL/TLS, try attaching port :443 to your PsPing.</span></span>

![Schermafbeelding met een ping met een onderverdeling van outlook.office365.com en een PSPing met de 443 op dezelfde manier, maar het rapporteren van een gemiddelde RETOURwaarde van 6,5 ms.](../media/c64339f2-2c96-45b8-b168-c2a060430266.PNG)

<span data-ttu-id="45483-341">Als u de pagina met de traagste uitvoering van Office 365 hebt geladen tijdens het uitvoeren van een netwerktracering, moet u een netmon-of wireshark-tracering filteren `DNS` .</span><span class="sxs-lookup"><span data-stu-id="45483-341">If you loaded the slow performing Office 365 page while doing a network trace, you should filter a Netmon or Wireshark trace for `DNS`.</span></span> <span data-ttu-id="45483-342">Dit is een van de IPs waarnaar we op zoek zijn.</span><span class="sxs-lookup"><span data-stu-id="45483-342">This is one of the IPs we're looking for.</span></span>

<span data-ttu-id="45483-343">Dit zijn de stappen die u moet uitvoeren om uw netmon te filteren om het IP-adres te achterhalen (en de DNS-latentie te bekijken).</span><span class="sxs-lookup"><span data-stu-id="45483-343">Here are the steps to take to filter your Netmon to get the IP address (and take a look at DNS Latency).</span></span> <span data-ttu-id="45483-344">In dit voorbeeld wordt outlook.office365.com gebruikt, maar de URL van een SharePoint Online-Tenant kan ook worden gebruikt (bijvoorbeeld hithere.sharepoint.com).</span><span class="sxs-lookup"><span data-stu-id="45483-344">This example uses outlook.office365.com, but may also use the URL of a SharePoint Online tenant (hithere.sharepoint.com for example).</span></span>

1. <span data-ttu-id="45483-345">Ping de URL `ping outlook.office365.com` en noteer de naam en het IP-adres van de DNS-server waarop de opdracht ping is verzonden.</span><span class="sxs-lookup"><span data-stu-id="45483-345">Ping the URL `ping outlook.office365.com` and, in the results, record the name and IP address of the DNS server the ping request was sent to.</span></span>
2. <span data-ttu-id="45483-346">Netwerktracering Hiermee opent u de pagina of de actie die het prestatieprobleem oplevert, of als u een hoge latentie ziet op de ping, zichzelf.</span><span class="sxs-lookup"><span data-stu-id="45483-346">Network trace opening the page, or doing the action that gives you the performance problem, or, if you see a high latency on the ping, itself, network trace it.</span></span>
3. <span data-ttu-id="45483-347">Open de tracering in netmon en filter for DNS (dit filter werkt ook in wireshark, maar is afhankelijk van het hoofdlettergebruik `-- dns` ).</span><span class="sxs-lookup"><span data-stu-id="45483-347">Open the trace in Netmon and filter for DNS (this filter also works in Wireshark, but is sensitive to case `-- dns`).</span></span> <span data-ttu-id="45483-348">Aangezien u de naam van de DNS-server weet van uw ping, kunt u ook sneller filteren in netmon, zoals dit: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")` , wat er als volgt uitziet in wireshark DNS en frame bevat ' namnorthwest '.</span><span class="sxs-lookup"><span data-stu-id="45483-348">Since you know the name of the DNS server from your ping you may also filter more speedily in Netmon like this: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")`, which looks like this in Wireshark dns and frame contains "namnorthwest".</span></span><br/><span data-ttu-id="45483-349">Open het antwoordpakket en klik in het venster met het **frame Details** van Netmon op **DNS** om meer informatie weer te geven.</span><span class="sxs-lookup"><span data-stu-id="45483-349">Open the response packet and, in the Netmon **Frame Details** window, click **DNS** to expand for more information.</span></span> <span data-ttu-id="45483-350">In de DNS-gegevens wordt het IP-adres van de DNS-server weergeven, waarbij de aanvraag is gevonden in Office 365.</span><span class="sxs-lookup"><span data-stu-id="45483-350">In the DNS information you'll find the IP address of the DNS server the request went to in Office 365.</span></span> <span data-ttu-id="45483-351">U hebt dit IP-adres nodig voor de volgende stap (het PsPing-hulpprogramma).</span><span class="sxs-lookup"><span data-stu-id="45483-351">You'll need this IP address for the next step (the PsPing tool).</span></span> <span data-ttu-id="45483-352">Verwijder het filter, klik met de rechtermuisknop op het DNS-antwoord in Netmon (**kader samenvatting** \> **vindt u discussie** \> **-DNS**) om de DNS-query en het antwoord naast elkaar te bekijken.</span><span class="sxs-lookup"><span data-stu-id="45483-352">Remove the filter, right-click on the DNS Response in Netmon (**Frame Summary** \> **Find Conversations** \> **DNS**) to see the DNS Query and Response side-by-side.</span></span>
4. <span data-ttu-id="45483-353">In netmon ziet u ook de kolom Time offset tussen de DNS-aanvraag en het antwoord.</span><span class="sxs-lookup"><span data-stu-id="45483-353">In Netmon, also note the Time Offset  column between the DNS Request and Response.</span></span> <span data-ttu-id="45483-354">In de volgende stap is het [PsPing](https://technet.microsoft.com/sysinternals/jj729731.aspx) -hulpprogramma eenvoudig te installeren en te gebruiken, beide omdat ICMP vaak wordt geblokkeerd op firewalls en omdat PsPing op een elegante manier de latentie in milliseconden registreert.</span><span class="sxs-lookup"><span data-stu-id="45483-354">In the next step, the easy-to-install and use [PsPing](https://technet.microsoft.com/sysinternals/jj729731.aspx) tool comes in very handy, both because ICMP is often blocked on Firewalls, and because PsPing elegantly tracks latency in milliseconds.</span></span> <span data-ttu-id="45483-355">PsPing voltooit een TCP-verbinding met een adres en poort (in onze zaak open poort 443).</span><span class="sxs-lookup"><span data-stu-id="45483-355">PsPing completes a TCP connection to an address and port (in our case open port 443).</span></span>
5. <span data-ttu-id="45483-356">Installeer PsPing.</span><span class="sxs-lookup"><span data-stu-id="45483-356">Install PsPing.</span></span>
6. <span data-ttu-id="45483-357">Open een opdrachtprompt (Start \> \> type cmd of Windows-toets \> type cmd) en wijzig de adreslijst in de directory waarin u PsPing hebt geïnstalleerd om de opdracht PsPing uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="45483-357">Open a command prompt (Start \> Run \> type cmd, or Windows Key \> type cmd) and change directory to the directory where you installed PsPing to run the PsPing command.</span></span> <span data-ttu-id="45483-358">In mijn voorbeelden ziet u de map ' perf ' in de hoofdmap van C. U kunt hetzelfde doen voor snelle toegang.</span><span class="sxs-lookup"><span data-stu-id="45483-358">In my examples you can see I made a 'Perf' folder on the root of C. You can do the same for quick access.</span></span>
7. <span data-ttu-id="45483-359">Typ de opdracht zodat u de PsPing kunt aanwijzen met het IP-adres van de Office 365-DNS-server via uw eerder netmon-tracering, waaronder het poortnummer, zoals `psping -n 20 132.245.24.82:445` .</span><span class="sxs-lookup"><span data-stu-id="45483-359">Type the command so that you're making your PsPing against the IP address of the Office 365 DNS server from your earlier Netmon trace, including the port number, like `psping -n 20 132.245.24.82:445`.</span></span> <span data-ttu-id="45483-360">U krijgt een steekproef van 20 pings en gemiddelde de latentie wanneer PsPing stopt.</span><span class="sxs-lookup"><span data-stu-id="45483-360">This will give you a sampling of 20 pings and average the latency when PsPing stops.</span></span>

<span data-ttu-id="45483-361">Als u Office 365 via een proxyserver gaat, zijn de stappen iets anders.</span><span class="sxs-lookup"><span data-stu-id="45483-361">If you're going to Office 365 through a proxy server, the steps are a little different.</span></span> <span data-ttu-id="45483-362">U verstuurt eerst de PsPing naar uw proxyserver voor een gemiddelde latentie waarde in milliseconden om te worden gecommuniceerd, en vervolgens uit te voeren en vervolgens PsPing uit te voeren op de proxy of op een computer met een rechtstreekse Internet verbinding om de ontbrekende waarde te verkrijgen (de ene naar Office 365 en deze terug).</span><span class="sxs-lookup"><span data-stu-id="45483-362">You would first PsPing to your proxy server to get an average latency value in milliseconds to proxy/egress and back, and then either run PsPing on the proxy, or on a computer with a direct Internet connection to get the missing value (the one to Office 365 and back).</span></span>

<span data-ttu-id="45483-363">Als u ervoor kiest om PsPing uit te voeren vanuit de proxy, hebt u twee milliseconde-waarden: client computer naar proxyserver of uitgangspunt en proxyserver naar Office 365.</span><span class="sxs-lookup"><span data-stu-id="45483-363">If you choose to run PsPing from the proxy, you'll have two millisecond values: Client computer to proxy server or egress point, and proxy server to Office 365.</span></span> <span data-ttu-id="45483-364">En u bent klaar.</span><span class="sxs-lookup"><span data-stu-id="45483-364">And you're done!</span></span> <span data-ttu-id="45483-365">Ook waarden opnemen.</span><span class="sxs-lookup"><span data-stu-id="45483-365">Well, recording values, anyway.</span></span>

<span data-ttu-id="45483-366">Als u PsPing uitvoert op een andere clientcomputer die een directe verbinding met internet heeft, dat wil zeggen, zonder proxy, hebt u twee milliseconde-waarden: clientcomputer met een proxyserver of een uitgangspunt, en de clientcomputer naar Office 365.</span><span class="sxs-lookup"><span data-stu-id="45483-366">If you run PsPing on another client computer that has a direct connection to the Internet, that is, without a proxy, you will have two millisecond values: Client computer to proxy server or egress point, and client computer to Office 365.</span></span> <span data-ttu-id="45483-367">In dit geval trekt u de waarde van clientcomputer naar proxyserver of uitgangspunt af van de waarde van clientcomputer naar Office 365, en hebt u de RTT-nummers van de clientcomputer naar de proxyserver of het uitgangspunt en van de proxyserver of het uitgangspunt naar Office 365.</span><span class="sxs-lookup"><span data-stu-id="45483-367">In this case, subtract the value of client computer to proxy server or egress point from the value of client computer to Office 365, and you will have the RTT numbers from your client computer to the proxy server or egress point, and from proxy server or egress point to Office 365.</span></span>

<span data-ttu-id="45483-368">Als u echter een clientcomputer kunt vinden op de beïnvloede locatie die rechtstreeks verbonden is of de proxy omzeilt, kunt u ervoor kiezen om te zien of het probleem zich hierin voordoet, en hoe u het probleem later kunt testen.</span><span class="sxs-lookup"><span data-stu-id="45483-368">However, if you can find a client computer in the impacted location that is directly connected, or bypasses the proxy, you may choose to see if the issue reproduces there to begin with, and test using it thereafter.</span></span>

<span data-ttu-id="45483-369">De latentie, zoals gezien in een netmon-tracering, kan deze extra milliseconden optellen wanneer ze genoeg zijn in een bepaalde sessie.</span><span class="sxs-lookup"><span data-stu-id="45483-369">Latency, as seen in a Netmon trace, those extra milliseconds can add up, if there are enough of them in any given session.</span></span>

![Algemene latentie in netmon, met de kolom netmon standaardtijd Delta, toegevoegd aan het frame overzicht.](../media/7ad17380-8527-4bc2-9b9b-6310cf19ba6b.PNG)

> [!NOTE]
> <span data-ttu-id="45483-371">Uw IP-adres kan afwijken van de IPs die hier worden weergegeven, bijvoorbeeld: uw ping kan iets retourneren zoals 157.56.0.0/16 of een vergelijkbaar bereik.</span><span class="sxs-lookup"><span data-stu-id="45483-371">Your IP address may be different than the IPs shown here, for example, your ping may return something more like 157.56.0.0/16 or a similar range.</span></span> <span data-ttu-id="45483-372">Zie [url's en IP-](https://technet.microsoft.com/library/hh373144.aspx)adresbereiken voor Office 365 voor een lijst met bereiken die worden gebruikt door Office 365.</span><span class="sxs-lookup"><span data-stu-id="45483-372">For a list of ranges used by Office 365, check out [Office 365 URLs and IP address ranges](https://technet.microsoft.com/library/hh373144.aspx).</span></span>

<span data-ttu-id="45483-373">Vergeet niet alle knooppunten uit te vouwen (er is een knop bovenaan) als u bijvoorbeeld wilt zoeken naar 132,245.</span><span class="sxs-lookup"><span data-stu-id="45483-373">Remember to expand all the nodes (there's a button at the top for this) if you want to search for, for example, 132.245.</span></span>

### <a name="proxy-authentication"></a><span data-ttu-id="45483-374">Proxy verificatie</span><span class="sxs-lookup"><span data-stu-id="45483-374">Proxy Authentication</span></span>

<span data-ttu-id="45483-375">Dit is alleen van toepassing als u een proxyserver gebruikt.</span><span class="sxs-lookup"><span data-stu-id="45483-375">This only applies to you if you're going through a proxy server.</span></span> <span data-ttu-id="45483-376">Zo niet, dan kunt u deze stappen overslaan.</span><span class="sxs-lookup"><span data-stu-id="45483-376">If not, you can skip these steps.</span></span> <span data-ttu-id="45483-377">Bij een juiste werking van de proxyverificatie moet u zich op de juiste tijd in milliseconden plaatsen.</span><span class="sxs-lookup"><span data-stu-id="45483-377">When working properly, proxy authentication should take place in milliseconds, consistently.</span></span> <span data-ttu-id="45483-378">Tijdens piek gebruiks perioden zijn de prestaties van de piek gebruiksperiode niet te zien.</span><span class="sxs-lookup"><span data-stu-id="45483-378">You shouldn't see intermittent bad performance during peak usage periods (for example).</span></span>

<span data-ttu-id="45483-379">Als proxy-verificatie is ingeschakeld, moet u de volgende keer dat u een nieuwe TCP-verbinding met Office 365 maakt voor informatie, moet u een verificatieproces achter de schermen passeren.</span><span class="sxs-lookup"><span data-stu-id="45483-379">If Proxy authentication is on, each time you make a new TCP connection to Office 365 to get information, you need to pass through an authentication process behind the scenes.</span></span> <span data-ttu-id="45483-380">Bijvoorbeeld, wanneer u overstapt van agenda naar E-mail in Outlook online, wordt u geverifieerd.</span><span class="sxs-lookup"><span data-stu-id="45483-380">So, for example, when switching from Calendar to Mail in Outlook Online, you will authenticate.</span></span> <span data-ttu-id="45483-381">In SharePoint Online, als op een pagina media of gegevens van meerdere sites en locaties worden weergegeven, wordt u geverifieerd voor elke andere TCP-verbinding die nodig is om de gegevens weer te geven.</span><span class="sxs-lookup"><span data-stu-id="45483-381">And in SharePoint Online, if a page displays media or data from multiple sites or locations, you will authenticate for each different TCP connection that is needed in order to render the data.</span></span>

<span data-ttu-id="45483-382">In Outlook online ondervindt u mogelijk vertragingen wanneer u schakelt tussen de agenda en uw postvak, of op langzame pagina wordt geladen in SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="45483-382">In Outlook Online, you may experience slow load times whenever you switch between Calendar and your mailbox, or slow page loads in SharePoint Online.</span></span> <span data-ttu-id="45483-383">Er zijn echter andere problemen die hier niet worden vermeld.</span><span class="sxs-lookup"><span data-stu-id="45483-383">However, there are other symptoms not listed here.</span></span>

<span data-ttu-id="45483-384">Proxyverificatie is een instelling op de proxyserver voor de uitgang.</span><span class="sxs-lookup"><span data-stu-id="45483-384">Proxy authentication is a setting on your egress proxy server.</span></span> <span data-ttu-id="45483-385">Als dit wordt veroorzaakt door een prestatieprobleem met Office 365, moet u uw netwerkteam raadplegen.</span><span class="sxs-lookup"><span data-stu-id="45483-385">If it is causing a performance issue with Office 365, you must consult your networking team.</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-386">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-386">Tools</span></span>

- <span data-ttu-id="45483-387">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-387">Netmon</span></span>
- <span data-ttu-id="45483-388">Wireshark</span><span class="sxs-lookup"><span data-stu-id="45483-388">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-389">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-389">What to look for</span></span>

<span data-ttu-id="45483-390">Er gebeurt een proxy verificatie wanneer een nieuwe TCP-sessie moet worden uitgevoerd, vaak om bestanden of informatie van de server aan te vragen of informatie te verstrekken.</span><span class="sxs-lookup"><span data-stu-id="45483-390">Proxy authentication takes place whenever a new TCP session must be spun up, commonly to request files or info from the server, or to supply info.</span></span> <span data-ttu-id="45483-391">U kunt bijvoorbeeld proxyverificatie zien rond HTTP GET-of HTTP POST-aanvragen.</span><span class="sxs-lookup"><span data-stu-id="45483-391">For example, you may see proxy authentication around HTTP GET or HTTP POST requests.</span></span> <span data-ttu-id="45483-392">Als u wilt dat de frames worden weergegeven waar u aanvragen in uw Trace verifieert, voegt u de kolom ' NTLMSSP Summary ' toe aan netmon en filter  `.property.NTLMSSPSummary` .</span><span class="sxs-lookup"><span data-stu-id="45483-392">If you want to see the frames where you are authenticating requests in your trace, add the 'NTLMSSP Summary' column to Netmon and filter for  `.property.NTLMSSPSummary`.</span></span> <span data-ttu-id="45483-393">Als u wilt zien hoe lang de authenticatie duurt, voegt u de kolom time Delta toe.</span><span class="sxs-lookup"><span data-stu-id="45483-393">To see how long the authentication is taking, add the Time Delta column.</span></span>

<span data-ttu-id="45483-394">Een kolom toevoegen aan netmon:</span><span class="sxs-lookup"><span data-stu-id="45483-394">To add a column to Netmon:</span></span>

1. <span data-ttu-id="45483-395">Klik met de rechtermuisknop op een kolom, bijvoorbeeld **Description**.</span><span class="sxs-lookup"><span data-stu-id="45483-395">Right-click on a column such as **Description**.</span></span>
2. <span data-ttu-id="45483-396">Klik op **kolommen kiezen**.</span><span class="sxs-lookup"><span data-stu-id="45483-396">Click **Choose Columns**.</span></span>
3. <span data-ttu-id="45483-397">Ga naar _NTLMSSP Summary_ en _time Delta_ in de lijst en klik op **add**.</span><span class="sxs-lookup"><span data-stu-id="45483-397">Locate _NTLMSSP Summary_ and _Time Delta_ in the list and click **Add**.</span></span>
4. <span data-ttu-id="45483-398">Beweeg de nieuwe kolommen naar de juiste plaats of achter de kolom _Beschrijving_ , zodat u ze naast elkaar kunt lezen.</span><span class="sxs-lookup"><span data-stu-id="45483-398">Move the new columns into place before or behind the _Description_ column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="45483-399">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="45483-399">Click **OK**.</span></span>

<span data-ttu-id="45483-400">Ook als u de kolom niet toevoegt, werkt het netmon-filter.</span><span class="sxs-lookup"><span data-stu-id="45483-400">Even if you don't add the column, the Netmon filter will work.</span></span> <span data-ttu-id="45483-401">Het probleem is nu veel eenvoudiger als u kunt zien welke verificatiefase u gebruikt.</span><span class="sxs-lookup"><span data-stu-id="45483-401">But your troubleshooting will be much easier if you can see what stage of authentication you're in.</span></span>

<span data-ttu-id="45483-402">Wanneer u op zoek bent naar exemplaren van proxy verificatie, moet u de bestudeering van alle frames met een NTLM-uitdaging of een verificatiebericht presteren.</span><span class="sxs-lookup"><span data-stu-id="45483-402">When looking for instances of Proxy Authentication, be sure to study all frames where there is an NTLM Challenge, or an Authenticate Message is present.</span></span> <span data-ttu-id="45483-403">Klik zo nodig met de rechtermuisknop op het specifieke gedeelte van het verkeer en zoek de TCP-conversaties \> .</span><span class="sxs-lookup"><span data-stu-id="45483-403">If necessary, right-click the specific piece of traffic and Find Conversations \> TCP.</span></span> <span data-ttu-id="45483-404">Let op de tijds Delta waarden in deze gesprekken.</span><span class="sxs-lookup"><span data-stu-id="45483-404">Be aware of the Time Delta values in these Conversations.</span></span>

![Netmon-spoor met proxyverificatie, gefilterd op gesprek.](../media/b640f176-0a52-4bbb-972e-60fb3d6aece2.PNG)

<span data-ttu-id="45483-406">Een vertraging van de vier seconden in de proxyverificatie zoals gezien in wireshark.</span><span class="sxs-lookup"><span data-stu-id="45483-406">A four second delay in proxy authentication as seen in Wireshark.</span></span> <span data-ttu-id="45483-407">De kolom **time Delta van vorige weergegeven frame** werd gemaakt door met de rechtermuisknop te klikken op het veld met dezelfde naam in de frame Details en vervolgens toevoegen als kolom te selecteren.</span><span class="sxs-lookup"><span data-stu-id="45483-407">The **Time delta from previous displayed frame** column was made via right-clicking the field of the same name in the frame details and selecting Add as Column.</span></span>  <br/> <span data-ttu-id="45483-408">![In wireshark kan de kolom time Delta van vorige weergegeven frame worden gemaakt door met de rechtermuisknop op het veld met dezelfde naam in de frame details te klikken en toevoegen als kolom te selecteren.](../media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span><span class="sxs-lookup"><span data-stu-id="45483-408">![In Wireshark, the 'Time delta from previous displayed frame' column can be made via right-clicking the field of the same name in the frame details and selecting Add as Column.](../media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span></span>

### <a name="dns-performance"></a><span data-ttu-id="45483-409">DNS-prestaties</span><span class="sxs-lookup"><span data-stu-id="45483-409">DNS Performance</span></span>

<span data-ttu-id="45483-410">Naamresolutie werkt het best en het snelst wanneer het zo dicht mogelijk plaatsvindt bij het land waar u het product van de klant onderneemt.</span><span class="sxs-lookup"><span data-stu-id="45483-410">Name resolution works best and most quickly when it takes place as close to the client's country as possible.</span></span>

<span data-ttu-id="45483-411">Als de DNS-naamresolutie in het buitenland plaatsvindt, kan dit seconden toevoegen aan het laden van pagina's.</span><span class="sxs-lookup"><span data-stu-id="45483-411">If DNS name resolution is taking place overseas, it can add seconds to page loads.</span></span> <span data-ttu-id="45483-412">In het ideale geval is de naamomzetting onder 100 MS.</span><span class="sxs-lookup"><span data-stu-id="45483-412">Ideally, name resolution happens in under 100ms.</span></span> <span data-ttu-id="45483-413">Zo niet, dan moet u verder onderzoek doen.</span><span class="sxs-lookup"><span data-stu-id="45483-413">If not, you should do further investigation.</span></span>

> [!TIP]
> <span data-ttu-id="45483-414">Weet u niet hoe client connectiviteit werkt in Office 365?</span><span class="sxs-lookup"><span data-stu-id="45483-414">Not sure how Client Connectivity works in Office 365?</span></span> <span data-ttu-id="45483-415">Bekijk de documentatie voor de client connectiviteit [hier](https://technet.microsoft.com/library/dn741250.aspx).</span><span class="sxs-lookup"><span data-stu-id="45483-415">Take a look at the Client Connectivity Reference document [here](https://technet.microsoft.com/library/dn741250.aspx).</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-416">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-416">Tools</span></span>

- <span data-ttu-id="45483-417">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-417">Netmon</span></span>
- <span data-ttu-id="45483-418">Wireshark</span><span class="sxs-lookup"><span data-stu-id="45483-418">Wireshark</span></span>
- <span data-ttu-id="45483-419">PsPing</span><span class="sxs-lookup"><span data-stu-id="45483-419">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-420">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-420">What to look for</span></span>

<span data-ttu-id="45483-421">Het analyseren van de prestaties van DNS is meestal een andere taak voor een netwerktracering.</span><span class="sxs-lookup"><span data-stu-id="45483-421">Analyzing DNS performance is typically another job for a network trace.</span></span> <span data-ttu-id="45483-422">PsPing is echter ook handig bij een beslissing in, of uit een mogelijke oorzaak.</span><span class="sxs-lookup"><span data-stu-id="45483-422">However, PsPing is also helpful in ruling in, or out, a possible cause.</span></span>

<span data-ttu-id="45483-423">DNS-verkeer is gebaseerd op TCP-en UDP-aanvragen en-antwoorden worden duidelijk gemarkeerd met een ID die helpt bij het vergelijken van een specifieke aanvraag met een specifiek antwoord.</span><span class="sxs-lookup"><span data-stu-id="45483-423">DNS traffic is based on TCP and UDP requests and responses are clearly marked with an ID that will help to match a specific request with its specific response.</span></span> <span data-ttu-id="45483-424">Als u bijvoorbeeld een netwerknaam of URL op een webpagina gebruikt, ziet u DNS-verkeer.</span><span class="sxs-lookup"><span data-stu-id="45483-424">You'll see DNS traffic when, for example, SharePoint Online uses a network name or URL on a web page.</span></span> <span data-ttu-id="45483-425">Dit is een regel van de duim, met uitzondering van het overbrengen van zones, via UDP.</span><span class="sxs-lookup"><span data-stu-id="45483-425">As a rule of thumb, most of this traffic, except when transferring Zones, runs over UDP.</span></span>

<span data-ttu-id="45483-426">In zowel netmon als wireshark is het meest eenvoudige filter waarmee u eenvoudig kunt werken met DNS-verkeer `dns` .</span><span class="sxs-lookup"><span data-stu-id="45483-426">In both Netmon and Wireshark, the most basic filter that will let you look at DNS traffic is simply `dns`.</span></span> <span data-ttu-id="45483-427">Zorg ervoor dat u kleine letters gebruikt wanneer u het filter opgeeft.</span><span class="sxs-lookup"><span data-stu-id="45483-427">Be sure to use lower case when specifying the filter.</span></span> <span data-ttu-id="45483-428">Vergeet niet om uw DNS-resolver cache leeg te maken voordat u het probleem op de clientcomputer opnieuw maakt.</span><span class="sxs-lookup"><span data-stu-id="45483-428">Remember to flush your DNS resolver cache before you begin to reproduce the issue on your client computer.</span></span> <span data-ttu-id="45483-429">Als u bijvoorbeeld een langzame SharePoint Online-pagina laadt voor de startpagina, moet u alle browsers sluiten, een nieuwe browser openen, de start tracering afbreken, uw DNS-resolver cache leegmaken en naar de SharePoint Online-site bladeren.</span><span class="sxs-lookup"><span data-stu-id="45483-429">For example, if you have a slow SharePoint Online page load for the Home page, you should close all browsers, open a new browser, start tracing, flush your DNS resolver cache, and browse to your SharePoint Online site.</span></span> <span data-ttu-id="45483-430">Wanneer de hele pagina wordt opgelost, stopt u de tracering en slaat u deze op.</span><span class="sxs-lookup"><span data-stu-id="45483-430">Once the entire page resolves, you should stop and save the trace.</span></span>

![Een eenvoudig filter voor DNS in netmon is DNS.](../media/1bebc118-ca13-45f3-803f-ab73e7af401d.png)

<span data-ttu-id="45483-432">U wilt het tijdstip waarnaar u wilt kijken.</span><span class="sxs-lookup"><span data-stu-id="45483-432">You want to look at the time offset here.</span></span> <span data-ttu-id="45483-433">Het kan handig zijn om de kolom **time Delta** toe te voegen aan netmon, zodat u deze stappen kunt uitvoeren:</span><span class="sxs-lookup"><span data-stu-id="45483-433">And it may be helpful to add the **Time Delta** column to Netmon which you can do by completing these steps:</span></span>

1. <span data-ttu-id="45483-434">Klik met de rechtermuisknop op een kolom, bijvoorbeeld **Description**.</span><span class="sxs-lookup"><span data-stu-id="45483-434">Right-click on a column such as **Description**.</span></span>
2. <span data-ttu-id="45483-435">Klik op **kolommen kiezen**.</span><span class="sxs-lookup"><span data-stu-id="45483-435">Click **Choose Columns**.</span></span>
3. <span data-ttu-id="45483-436">Zoek _tijds Delta_ in de lijst en klik op **toevoegen**.</span><span class="sxs-lookup"><span data-stu-id="45483-436">Locate _Time Delta_ in the list and click **Add**.</span></span>
4. <span data-ttu-id="45483-437">Beweeg de nieuwe kolom naar de kolom Beschrijving voor of achter de kolom _Beschrijving_ , zodat u ze naast elkaar kunt lezen.</span><span class="sxs-lookup"><span data-stu-id="45483-437">Move the new column into place before or behind the _Description_ column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="45483-438">Klik op **OK**.</span><span class="sxs-lookup"><span data-stu-id="45483-438">Click **OK**.</span></span>

<span data-ttu-id="45483-439">Als u een belangrijke query vindt, kunt u deze isoleren door met de rechtermuisknop op de query te klikken in het venster Details van frame en vervolgens te kiezen voor **gesprekken** \> **DNS**.</span><span class="sxs-lookup"><span data-stu-id="45483-439">If you find a query of interest, consider isolating it by right-clicking that query in the frame details panel, choosing **Find Conversations** \> **DNS**.</span></span> <span data-ttu-id="45483-440">Zoals u ziet, gaat u naar het deelvenster netwerk gesprekken en gaat u naar de specifieke conversatie in het logboek van UDP-verkeer.</span><span class="sxs-lookup"><span data-stu-id="45483-440">Notice that the Network Conversations panel jumps right to the specific conversation in its log of UDP traffic.</span></span>

![Een netmon-tracering van Outlook online die wordt gefilterd door DNS, en het gebruik van gesprekken zoeken en DNS gebruiken om de resultaten te verfijnen.](../media/763cf20e-7b48-4a37-9449-c9978cfe118b.PNG)

<span data-ttu-id="45483-442">In wireshark kunt u een kolom voor DNS-tijd maken.</span><span class="sxs-lookup"><span data-stu-id="45483-442">In Wireshark you can make a column for DNS time.</span></span> <span data-ttu-id="45483-443">Neem uw trace (of open een spoor) in wireshark en filter op een `dns` of meer handige,  `dns.time` .</span><span class="sxs-lookup"><span data-stu-id="45483-443">Take your trace (or open a trace) in Wireshark and filter by `dns`, or, more helpfully,  `dns.time`.</span></span> <span data-ttu-id="45483-444">Klik op een willekeurige DNS-query en Breid in het deelvenster met details de  `Domain Name System (response)` Details uit.</span><span class="sxs-lookup"><span data-stu-id="45483-444">Click on any DNS query, and, in the panel showing details, expand the  `Domain Name System (response)` details.</span></span> <span data-ttu-id="45483-445">U ziet een veld voor tijd (bijvoorbeeld `[Time: 0.001111100 seconds]` .</span><span class="sxs-lookup"><span data-stu-id="45483-445">You'll see a field for time (for example, `[Time: 0.001111100 seconds]`.</span></span> <span data-ttu-id="45483-446">Klik met de rechtermuisknop op deze tijd en selecteer **toepassen als kolom**.</span><span class="sxs-lookup"><span data-stu-id="45483-446">Right-click this time and select **Apply as Column**.</span></span> <span data-ttu-id="45483-447">Hiermee krijgt u een kolom **tijd** waarmee u de tracering sneller kunt sorteren.</span><span class="sxs-lookup"><span data-stu-id="45483-447">This will give you a **Time** column for quicker sorting of your trace.</span></span> <span data-ttu-id="45483-448">Klik op de nieuwe kolom om op de aflopende waarden te sorteren, zodat u kunt zien welke DNS-oproepen het langst voor u zijn.</span><span class="sxs-lookup"><span data-stu-id="45483-448">Click on the new column to sort by descending values to see which DNS call took the longest to resolve.</span></span>

[<span data-ttu-id="45483-449">Een Browse van SharePoint Online in wireshark gefilterd op DNS. time (in kleine letters), waarbij het tijdstip van de gegevens in een kolom is gemaakt en oplopend wordt gesorteerd.</span><span class="sxs-lookup"><span data-stu-id="45483-449">A browse of SharePoint Online filtered in Wireshark by (lowercase) dns.time, with the time from the details made into a column and sorted ascending.</span></span>](../media/1439dcc2-12ff-4ee2-9ef3-1484cf79c384.PNG)

<span data-ttu-id="45483-450">Als u meer controle wilt doen over de DNS-oplossingstijd, probeert u een PsPing met de DNS-poort die door TCP wordt gebruikt (bijvoorbeeld  `psping <IP address of DNS server>:53` ).</span><span class="sxs-lookup"><span data-stu-id="45483-450">If you would like to do more investigation of the DNS resolution time, try a PsPing against the DNS port used by TCP (for example,  `psping <IP address of DNS server>:53`) .</span></span> <span data-ttu-id="45483-451">Krijgt u nog steeds een prestatieprobleem?</span><span class="sxs-lookup"><span data-stu-id="45483-451">Do you still see a performance issue?</span></span> <span data-ttu-id="45483-452">Als dit het geval is, is het probleem waarschijnlijk een groter netwerkprobleem dan een probleem met de specifieke DNS-toepassing die u nog moet oplossen.</span><span class="sxs-lookup"><span data-stu-id="45483-452">If you do, then the problem is more likely to be a broader network issue than an issue of specific the DNS application you're hitting to do resolution.</span></span> <span data-ttu-id="45483-453">Ook op de hoogte van een ping naar outlook.office365.com krijgt u het volgende te zien waar de DNS-naamomzetting voor Outlook online wordt uitgevoerd (bijvoorbeeld outlook-namnorthwest.office365.com).</span><span class="sxs-lookup"><span data-stu-id="45483-453">It's also worth mentioning, again, that a ping to outlook.office365.com will tell you where DNS name resolution for Outlook Online is taking place (for example, outlook-namnorthwest.office365.com).</span></span>

<span data-ttu-id="45483-454">Als het probleem er zo uitziet als DNS specifiek is, moet u contact opnemen met uw IT-afdeling voor de DNS-configuraties en DNS-doorstuurservers om dit probleem verder te onderzoeken.</span><span class="sxs-lookup"><span data-stu-id="45483-454">If the issue looks to be DNS specific, it may be necessary to contact your IT department to look at DNS configurations and DNS Forwarders to further investigate this issue.</span></span>

### <a name="proxy-scalability"></a><span data-ttu-id="45483-455">Schaalbaarheid van de proxy</span><span class="sxs-lookup"><span data-stu-id="45483-455">Proxy Scalability</span></span>

<span data-ttu-id="45483-456">Services zoals Outlook online in Office 365 verlenen clients meerdere verbindingen voor de lange termijn.</span><span class="sxs-lookup"><span data-stu-id="45483-456">Services like Outlook Online in Office 365 grant clients multiple long-term connections.</span></span> <span data-ttu-id="45483-457">Elke gebruiker mag daarom meerdere verbindingen gebruiken die langer mee moeten gaan.</span><span class="sxs-lookup"><span data-stu-id="45483-457">Therefore, each user may use more connections that require a longer life.</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-458">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-458">Tools</span></span>

<span data-ttu-id="45483-459">Wiskundig</span><span class="sxs-lookup"><span data-stu-id="45483-459">Math</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-460">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-460">What to look for</span></span>

<span data-ttu-id="45483-461">Er is geen specifiek netwerk spoor of hulpprogramma voor probleemoplossing.</span><span class="sxs-lookup"><span data-stu-id="45483-461">There is no network trace or troubleshooting tool specific to this.</span></span> <span data-ttu-id="45483-462">In plaats daarvan wordt er rekening gehouden met beperkingen en andere variabelen voor de bandbreedte.</span><span class="sxs-lookup"><span data-stu-id="45483-462">Instead, it's based upon bandwidth calculations given limitations and other variables.</span></span>

### <a name="tcp-max-segment-size"></a><span data-ttu-id="45483-463">Maximale segment grootte TCP</span><span class="sxs-lookup"><span data-stu-id="45483-463">TCP Max Segment Size</span></span>

<span data-ttu-id="45483-464">Gevonden in de SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="45483-464">Found in the SYN - SYN/ACK.</span></span>  <span data-ttu-id="45483-465">Voer de volgende handelingen uit om de prestaties van het netwerk te controleren die u hebt genomen om ervoor te zorgen dat TCP-pakketten zodanig zijn geconfigureerd dat ze de maximale hoeveelheid gegevens kunnen meenemen.</span><span class="sxs-lookup"><span data-stu-id="45483-465">Do this check in any performance network trace you've taken to ensure that TCP packets are configured to carry the maximum amount of data possible.</span></span>

<span data-ttu-id="45483-466">Het doel is een MSS van 1460 bytes voor de overdracht van gegevens.</span><span class="sxs-lookup"><span data-stu-id="45483-466">The goal is to see a MSS of 1460 bytes for transmission of data.</span></span> <span data-ttu-id="45483-467">Als u zich achter een proxy bevindt, of als u een NAT gebruikt, moet u deze test uitvoeren van client naar proxy/afleiden/NAT, en van proxy/uitgang/NAT naar Office 365 voor de beste resultaten.</span><span class="sxs-lookup"><span data-stu-id="45483-467">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results!</span></span> <span data-ttu-id="45483-468">Dit zijn verschillende TCP-sessies.</span><span class="sxs-lookup"><span data-stu-id="45483-468">These are different TCP sessions.</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-469">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-469">Tools</span></span>

<span data-ttu-id="45483-470">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-470">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-471">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-471">What to look for</span></span>

<span data-ttu-id="45483-472">Maximale segment grootte TCP (MSS) is een andere parameter van de ThreeD Handshake in uw netwerktracering, wat betekent dat u de gegevens kunt vinden die u nodig hebt in het SYN-SYN/ACK-pakket.</span><span class="sxs-lookup"><span data-stu-id="45483-472">TCP Max Segment Size (MSS) is another parameter of the three-way handshake in your network trace, that means you'll find the data you need in the SYN - SYN/ACK packet.</span></span> <span data-ttu-id="45483-473">MSS is echt heel gemakkelijk te zien.</span><span class="sxs-lookup"><span data-stu-id="45483-473">MSS is actually pretty simple to see.</span></span>

<span data-ttu-id="45483-474">Open de prestatie netwerktracering die u hebt en zoek de verbinding waarop u bent of die het prestatieprobleem vertoont.</span><span class="sxs-lookup"><span data-stu-id="45483-474">Open any performance network trace you have and find the connection you're curious about, or that demonstrates the performance problem.</span></span>

> [!NOTE]
> <span data-ttu-id="45483-475">Als u op zoek bent naar een tracering en het verkeer moet vinden dat relevant is voor uw gesprek, kunt u filteren op het IP-adres van de client of het IP-adres of het IP-adres van de proxyserver of uitgangspunt.</span><span class="sxs-lookup"><span data-stu-id="45483-475">If you are looking at a trace and need to find the traffic relevant to your conversation, filter by the IP of the Client, or the IP of the proxy server or egress point, or both.</span></span> <span data-ttu-id="45483-476">Ga rechtstreeks naar de URL die u wilt testen voor het IP-adres van Office 365 in de tracering en filtreer de URL.</span><span class="sxs-lookup"><span data-stu-id="45483-476">Going directly, you will need to ping the URL that you're testing for the IP address of Office 365 in the trace, and filter by it.</span></span>

<span data-ttu-id="45483-477">Bekijkt u de beschikbaarheid van de tweede hand?</span><span class="sxs-lookup"><span data-stu-id="45483-477">Looking at the trace second-hand?</span></span> <span data-ttu-id="45483-478">Gebruik filters om uzelf te berichten.</span><span class="sxs-lookup"><span data-stu-id="45483-478">Try using filters to orient yourself.</span></span> <span data-ttu-id="45483-479">Voer in netmon een zoekopdracht uit op basis van de URL, bijvoorbeeld `Containsbin(framedata, ascii, "sphybridExample")` het framenummer.</span><span class="sxs-lookup"><span data-stu-id="45483-479">In Netmon, run a search based on the URL, such as `Containsbin(framedata, ascii, "sphybridExample")`, take note of the frame number.</span></span>

<span data-ttu-id="45483-480">In wireshark gebruikt u bijvoorbeeld iets  `frame contains "sphybridExample"` .</span><span class="sxs-lookup"><span data-stu-id="45483-480">In Wireshark use something like  `frame contains "sphybridExample"`.</span></span> <span data-ttu-id="45483-481">Als u merkt dat u het externe Winsock-verkeer (RWS) hebt gevonden (het bericht kan worden weergegeven als [PSH, ACK] in wireshark), moet u nadenken dat RWS Connects worden weergegeven na vóór de juiste SYN-SYN/Ack's, zoals eerder is beschreven.</span><span class="sxs-lookup"><span data-stu-id="45483-481">If you notice that you've found Remote Winsock (RWS) traffic (it may appear as a [PSH, ACK] in Wireshark), remember that RWS connects can be seen shortly before relevant SYN - SYN/ACKs, as discussed earlier.</span></span>

<span data-ttu-id="45483-482">U kunt op dit moment het framenummer opnemen, het filter weghalen, op **alle verkeer** in het venster netwerk conversaties in netmon klikken om de dichtstbijzijnde SYN te zien.</span><span class="sxs-lookup"><span data-stu-id="45483-482">At this point, you can record the frame number, drop the filter, click **All Traffic** in the Network Conversations window in Netmon to look at the nearest SYN.</span></span>

<span data-ttu-id="45483-483">Als u op het moment van de tracering geen gegevens van het IP-adres hebt ontvangen, kunt u deze als volgt weergeven in de tracering (een gedeelte van het voor `sphybridExample-my.sharepoint.com` beeld).</span><span class="sxs-lookup"><span data-stu-id="45483-483">Importantly, if you didn't receive any of the IP address information at the time of the trace, finding your URL in the trace (part of `sphybridExample-my.sharepoint.com`, for example), will give you IP addresses to filter by.</span></span>

<span data-ttu-id="45483-484">Zoek de verbinding in de trace waarin u geïnteresseerd bent.</span><span class="sxs-lookup"><span data-stu-id="45483-484">Locate the connection in the trace that you're interested in seeing.</span></span> <span data-ttu-id="45483-485">U kunt dit doen door de trace te scannen, te filteren op IP-adressen of door specifieke gespreks-Id's te selecteren met het venster Netwerk gesprekken in Netmon.</span><span class="sxs-lookup"><span data-stu-id="45483-485">You may do this by either scanning the trace, by filtering by IP addresses, or by selecting specific Conversation IDs using the Network Conversations window in Netmon.</span></span> <span data-ttu-id="45483-486">Als u het SYN-pakket hebt gevonden, vouwt u TCP (in netmon) of Transmission Control Protocol (in wireshark) uit in het deelvenster frame Details.</span><span class="sxs-lookup"><span data-stu-id="45483-486">Once you've found the SYN packet, expand TCP (in Netmon), or Transmission Control Protocol (in Wireshark) in the Frame Details panel.</span></span> <span data-ttu-id="45483-487">Vouw TCP options en Maxsegmentsize uit.</span><span class="sxs-lookup"><span data-stu-id="45483-487">Expand TCP Options and MaxSegmentSize.</span></span> <span data-ttu-id="45483-488">Zoek het bijbehorende SYN-ACK-frame en vouw TCP options en Maxsegmentsize uit.</span><span class="sxs-lookup"><span data-stu-id="45483-488">Locate the related SYN-ACK frame and Expand TCP Options and MaxSegmentSize.</span></span> <span data-ttu-id="45483-489">De kleinste van de twee waarden is de maximale segment grootte.</span><span class="sxs-lookup"><span data-stu-id="45483-489">The smaller of the two values will be your Maximum Segment Size.</span></span> <span data-ttu-id="45483-490">In deze afbeelding maak ik gebruik van de ingebouwde kolom in netmon genaamd TCP Troubleshoot.</span><span class="sxs-lookup"><span data-stu-id="45483-490">In this picture, I make use of the built-in Column in Netmon called TCP Troubleshoot.</span></span>

![Netwerk spoor gefilterd in netmon met behulp van de ingebouwde kolommen.](../media/e073df13-71f8-497a-83b4-bb9f70bd9833.PNG)

<span data-ttu-id="45483-492">De ingebouwde kolom bevindt zich boven aan het deelvenster **Details van frame** .</span><span class="sxs-lookup"><span data-stu-id="45483-492">The built-in column is at the top of the **Frame Details** panel.</span></span> <span data-ttu-id="45483-493">(Als u wilt teruggaan naar de normale weergave, klikt u nogmaals op **kolommen** en vervolgens op **tijd zone**.)</span><span class="sxs-lookup"><span data-stu-id="45483-493">(To switch back to your normal view, click **Columns** again, and then choose **Time Zone**.)</span></span>

![Waar vind ik de vervolgkeuzelijst kolommen voor de optie problemen met TCP oplossen (boven aan het frame-overzicht).](../media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)

<span data-ttu-id="45483-495">Dit is een gefilterde tracering in wireshark.</span><span class="sxs-lookup"><span data-stu-id="45483-495">Here's a filtered trace in Wireshark.</span></span> <span data-ttu-id="45483-496">Er is een filter specifiek voor de MSS-waarde ( `tcp.options.mss` ).</span><span class="sxs-lookup"><span data-stu-id="45483-496">There is a filter specific to the MSS value ( `tcp.options.mss`).</span></span> <span data-ttu-id="45483-497">De frames van een SYN, SYN/ACK, ACK-hand Shake zijn onder aan de details van het frame (dus frame 47 ACK, koppelingen naar de 46 SYN/ACK, koppelingen naar 43 SYN) om dit type werk makkelijker te maken.</span><span class="sxs-lookup"><span data-stu-id="45483-497">The frames of a SYN, SYN/ACK, ACK handshake are linked at the bottom of the Wireshark equivalent to Frame Details (so frame 47 ACK, links to 46 SYN/ACK, links to 43 SYN) to make this kind of work easier.</span></span>

![Spoor gefilterd in wireshark door TCP. options. MSS voor maximale segment grootte (MSS).](../media/51e278db-801b-48bc-9b68-87cf92f03fd6.PNG)

<span data-ttu-id="45483-499">Als u **selectieve bevestiging** (volgend onderwerp in deze matrix) wilt controleren, sluit u het traceren niet.</span><span class="sxs-lookup"><span data-stu-id="45483-499">If you need to check **Selective Acknowledgment** (next topic in this matrix), don't close your trace!</span></span>

### <a name="selective-acknowledgment"></a><span data-ttu-id="45483-500">Selectieve bevestiging</span><span class="sxs-lookup"><span data-stu-id="45483-500">Selective Acknowledgment</span></span>

<span data-ttu-id="45483-501">Gevonden in de SYN-SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="45483-501">Found in the SYN - SYN/ACK.</span></span> <span data-ttu-id="45483-502">Moet worden gerapporteerd als toegestaan in zowel SYN als SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="45483-502">Must be reported as Permitted in both SYN and SYN/ACK.</span></span> <span data-ttu-id="45483-503">Met behulp van selectieve bevestiging kunt u gegevens soepel opnieuw verzenden wanneer een pakket of pakketten verloren gaan.</span><span class="sxs-lookup"><span data-stu-id="45483-503">Selective Acknowledgment (SACK) allows for smoother retransmission of data when a packet or packets go missing.</span></span> <span data-ttu-id="45483-504">Apparaten kunnen deze functie uitschakelen, wat tot prestatieproblemen kan leiden.</span><span class="sxs-lookup"><span data-stu-id="45483-504">Devices can disable this feature, which can lead to performance problems.</span></span>

<span data-ttu-id="45483-505">Als u zich achter een proxy bevindt, of als u een NAT gebruikt, moet u deze test uitvoeren van client naar proxy/afleiden/NAT, en van proxy/uitgang/NAT naar Office 365 voor de beste resultaten.</span><span class="sxs-lookup"><span data-stu-id="45483-505">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results!</span></span> <span data-ttu-id="45483-506">Dit zijn verschillende TCP-sessies.</span><span class="sxs-lookup"><span data-stu-id="45483-506">These are different TCP sessions.</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-507">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-507">Tools</span></span>

<span data-ttu-id="45483-508">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-508">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-509">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-509">What to look for</span></span>

<span data-ttu-id="45483-510">Selected acknowledgment (zakken) is een andere parameter in de SYN-SYN/ACK-handshake.</span><span class="sxs-lookup"><span data-stu-id="45483-510">Selective Acknowledgment (SACK) is another parameter in the SYN-SYN/ACK handshake.</span></span> <span data-ttu-id="45483-511">U kunt de tracering voor SYN-SYN/ACK op tal van manieren filteren.</span><span class="sxs-lookup"><span data-stu-id="45483-511">You can filter your trace for SYN - SYN/ACK many ways.</span></span>

<span data-ttu-id="45483-512">Zoek de verbinding in de trace waarin u geïnteresseerd bent door de trace te scannen, te filteren op IP-adressen of door op een gespreks-ID te klikken via het venster Network Conversations in Netmon.</span><span class="sxs-lookup"><span data-stu-id="45483-512">Locate the connection in the trace that you're interested in seeing either by scanning the trace, filtering by IP addresses, or by clicking a Conversation ID using the Network Conversations window in Netmon.</span></span> <span data-ttu-id="45483-513">Als u het SYN-pakket hebt gevonden, vouwt u TCP in netmon of Transmission Control Protocol in wireshark in de sectie Details van frame.</span><span class="sxs-lookup"><span data-stu-id="45483-513">Once you've found the SYN packet, expand TCP in Netmon, or Transmission Control Protocol in Wireshark in the Frame Details section.</span></span> <span data-ttu-id="45483-514">Vouw TCP options en vervolgens een zakken uit.</span><span class="sxs-lookup"><span data-stu-id="45483-514">Expand TCP Options and then SACK.</span></span> <span data-ttu-id="45483-515">Zoek het bijbehorende SYN-ACK-frame en vouw TCP options en het veld zakken uit.</span><span class="sxs-lookup"><span data-stu-id="45483-515">Locate the related SYN-ACK frame and Expand TCP Options and its SACK field.</span></span> <span data-ttu-id="45483-516">Maak de zakken van een bepaalde zak toegestaan in zowel SYN als SYN/ACK.</span><span class="sxs-lookup"><span data-stu-id="45483-516">Make certain SACK is permitted in both SYN and SYN/ACK.</span></span> <span data-ttu-id="45483-517">Dit zijn de waarden voor zakken zoals weergegeven in zowel netmon als wireshark.</span><span class="sxs-lookup"><span data-stu-id="45483-517">Here are SACK values as seen in both Netmon and Wireshark.</span></span>

![Selectieve bevestiging (zakken) in netmon als gevolg van TCP. Flags. SYN = = 1.](../media/216f556f-5031-4ed2-b066-a0d9b3251fa2.PNG)

![ZAKKEN zoals gezien in wireshark met het filter TCP. Flags. SYN = = 1.](../media/0a6e26e5-43dc-403b-adc9-3349a55f4e4b.PNG)

### <a name="dns-geolocation"></a><span data-ttu-id="45483-520">DNS-geolocatie</span><span class="sxs-lookup"><span data-stu-id="45483-520">DNS Geolocation</span></span>

<span data-ttu-id="45483-521">Waar in de wereld Office 365 uw DNS-oproep probeert op te lossen, invloed hebben op uw verbindingssnelheid.</span><span class="sxs-lookup"><span data-stu-id="45483-521">Where in the world Office 365 tries to resolve your DNS call effects your connection speed.</span></span>

<span data-ttu-id="45483-522">Als u in Outlook online de eerste DNS-zoekopdracht hebt voltooid, wordt de locatie van die DNS gebruikt om verbinding te maken met uw dichtstbijzijnde datacenter.</span><span class="sxs-lookup"><span data-stu-id="45483-522">In Outlook Online, after the first DNS lookup is completed, the location of that DNS will be used to connect to your nearest datacenter.</span></span> <span data-ttu-id="45483-523">U wordt verbonden met een CERTIFICERINGs server van Outlook online waarop het backbone-netwerk wordt gebruikt om verbinding te maken met het datacenter (dC) waar de gegevens zijn opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="45483-523">You will be connected to an Outlook Online CAS server, which will use the backbone network to connect to the datacenter (dC) where your data is stored.</span></span> <span data-ttu-id="45483-524">Dit gaat sneller.</span><span class="sxs-lookup"><span data-stu-id="45483-524">This is faster.</span></span>

<span data-ttu-id="45483-525">Wanneer u SharePoint Online gebruikt, wordt een gebruiker in het buitenland doorgestuurd naar het actieve datacenter: dat is de dC waarvan de locatie gebruikmaakt van de startpagina van de SPO-Tenant (zodat een dC in de Verenigde Staten kan een dC in de Verenigde Staten voor de gebruiker als de gebruiker wordt uitgevoerd).</span><span class="sxs-lookup"><span data-stu-id="45483-525">When accessing SharePoint Online, a user traveling abroad will be directed to their active datacenter -- that's the dC whose location is based on their SPO tenant's home-base (so, a dC in the USA if the user if USA-based).</span></span>

<span data-ttu-id="45483-526">Lync Online bevat in meerdere Dc's tegelijkertijd actieve knooppunten.</span><span class="sxs-lookup"><span data-stu-id="45483-526">Lync online has active nodes in more than one dC at a time.</span></span> <span data-ttu-id="45483-527">Wanneer aanvragen voor Lync online-exemplaren worden verzonden, bepaalt Microsoft de locatie van de wereld waar de aanvraag vandaan komt en retourneert deze IP-adressen uit de dichtstbijzijnde regionale dC waar Lync online actief is.</span><span class="sxs-lookup"><span data-stu-id="45483-527">When requests are sent for Lync online instances, Microsoft's DNS will determine where in the world the request came from, and return IP addresses from the nearest regional dC where Lync online is active.</span></span>

> [!TIP]
> <span data-ttu-id="45483-528">Wilt u meer weten over hoe clients verbinding maken met Office 365?</span><span class="sxs-lookup"><span data-stu-id="45483-528">Need to know more about how clients connect to Office 365?</span></span> <span data-ttu-id="45483-529">Bekijk het artikel over de [client verbinding](https://technet.microsoft.com/library/dn741250.aspx) (en de bijbehorende handige afbeeldingen).</span><span class="sxs-lookup"><span data-stu-id="45483-529">Take a look at the [Client Connectivity](https://technet.microsoft.com/library/dn741250.aspx) reference article (and its helpful graphics).</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-530">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-530">Tools</span></span>

- <span data-ttu-id="45483-531">Sporen</span><span class="sxs-lookup"><span data-stu-id="45483-531">Ping</span></span>
- <span data-ttu-id="45483-532">PsPing</span><span class="sxs-lookup"><span data-stu-id="45483-532">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="45483-533">Waarnaar moet worden gezocht</span><span class="sxs-lookup"><span data-stu-id="45483-533">What to look for</span></span>

<span data-ttu-id="45483-534">Aanvragen voor de naamomzetting van de DNS-servers van de client naar de DNS-servers van Microsoft behoren meestal tot het IP-adres van een Regional datacenter (dC).</span><span class="sxs-lookup"><span data-stu-id="45483-534">Requests for name resolution from the client's DNS servers to Microsoft's DNS servers should in most cases result in Microsoft DNS returning the IP address of a regional datacenter (dC).</span></span> <span data-ttu-id="45483-535">Wat betekent dit voor u?</span><span class="sxs-lookup"><span data-stu-id="45483-535">What does this mean for you?</span></span> <span data-ttu-id="45483-536">Als u in de Verenigde Staten een aanvraag doet voor de Bangalore, India, maar u in de Verenigde Staten een aanvraag voor Outlook online doet, kunnen de DNS-servers van Microsoft de IP-adressen aan databases in de Verenigde Staten--een regionaal datacenter leveren.</span><span class="sxs-lookup"><span data-stu-id="45483-536">If your headquarters are in Bangalore, India, but you are traveling in the United States, when your browser makes a request for Outlook Online, Microsoft's DNS servers should hand you IP addresses to datacenters in the United States -- a regional datacenter.</span></span> <span data-ttu-id="45483-537">Als u e-mail nodig hebt in Outlook, worden deze gegevens over het snelle backbone-netwerk van Microsoft tussen de datacenters verzonden.</span><span class="sxs-lookup"><span data-stu-id="45483-537">If mail is needed from Outlook, that data will travel across Microsoft's quick backbone network between the datacenters.</span></span>

<span data-ttu-id="45483-538">DNS werkt snel wanneer de naamomzetting op de locatie van de gebruiker is voltooid.</span><span class="sxs-lookup"><span data-stu-id="45483-538">DNS works fastest when name resolution is done as close to the user location as possible.</span></span> <span data-ttu-id="45483-539">Als u in Europa bent, gaat u naar een Microsoft DNS in Europa en (IDEA) transactie met een datacenter in Europa.</span><span class="sxs-lookup"><span data-stu-id="45483-539">If you're in Europe, you want to go to a Microsoft DNS in Europe, and (ideally) deal with a datacenter in Europe.</span></span> <span data-ttu-id="45483-540">De prestaties van een client in Europe gaan naar DNS en een datacenter in Amerika gaat langzamer.</span><span class="sxs-lookup"><span data-stu-id="45483-540">Performance from a client in Europe going to DNS and a datacenter in America will be slower.</span></span>

<span data-ttu-id="45483-541">Voer het hulpprogramma ping uit voor outlook.office365.com om te bepalen waar de wereld uw DNS-aanvraag naar wordt verzonden.</span><span class="sxs-lookup"><span data-stu-id="45483-541">Run the Ping tool against outlook.office365.com to determine where in the world your DNS request is being routed.</span></span> <span data-ttu-id="45483-542">In Europa ziet u een antwoord van iets als outlook-emeawest.office365.com.</span><span class="sxs-lookup"><span data-stu-id="45483-542">If you are in Europe, you should see a reply from something like outlook-emeawest.office365.com.</span></span> <span data-ttu-id="45483-543">In het Amerikaans-Amerika verwachten iets als outlook-namnorthwest.office365.com.</span><span class="sxs-lookup"><span data-stu-id="45483-543">In the Americas, expect something like outlook-namnorthwest.office365.com.</span></span>

<span data-ttu-id="45483-544">Open de opdrachtprompt op de clientcomputer (via Start \> \> opdracht cmd of Windows \> -toets cmd).</span><span class="sxs-lookup"><span data-stu-id="45483-544">Open the command prompt on the client computer (via Start \> Run \> cmd or Windows key \> type cmd).</span></span> <span data-ttu-id="45483-545">Typ ping outlook.office365.com en druk op ENTER.</span><span class="sxs-lookup"><span data-stu-id="45483-545">Type ping outlook.office365.com and press ENTER.</span></span> <span data-ttu-id="45483-546">Vergeet niet dat u-4 wilt opgeven voor ping via IPv4.</span><span class="sxs-lookup"><span data-stu-id="45483-546">Remember, to specify -4 if you want to specify to ping via IPv4.</span></span> <span data-ttu-id="45483-547">Het kan zijn dat u geen antwoord hebt ontvangen van de ICMP-pakketten, maar u moet wel de naam zien van de DNS waarnaar de aanvraag is doorgestuurd.</span><span class="sxs-lookup"><span data-stu-id="45483-547">You may fail to get a reply from the ICMP packets, but you should see the name of the DNS to which the request was routed.</span></span> <span data-ttu-id="45483-548">Als u de latentie nummers voor deze verbinding wilt weergeven, voert u PsPing naar het IP-adres van de server die het resultaat is van ping.</span><span class="sxs-lookup"><span data-stu-id="45483-548">If you want to see the latency numbers for this connection try PsPing to the IP address of the server that is returned by ping.</span></span>

![Ping van outlook.office365.com met de resolutie in Outlook-namnorthwest.](../media/06c944d5-6159-43ec-aa31-757770695e8b.PNG)

![PSPing naar het IP-adres geretourneerd door de ping naar outlook.office365.com met een latentie van gemiddeld 28 milliseconden.](../media/f2b25a75-1a87-4479-b8a7-fa4375683507.PNG)

### <a name="office-365-application-troubleshooting"></a><span data-ttu-id="45483-551">Problemen met Office 365-toepassing oplossen</span><span class="sxs-lookup"><span data-stu-id="45483-551">Office 365 Application Troubleshooting</span></span>

#### <a name="tools"></a><span data-ttu-id="45483-552">Hulpprogramma's</span><span class="sxs-lookup"><span data-stu-id="45483-552">Tools</span></span>

- <span data-ttu-id="45483-553">Netmon</span><span class="sxs-lookup"><span data-stu-id="45483-553">Netmon</span></span>
- <span data-ttu-id="45483-554">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="45483-554">HTTPWatch</span></span>
- <span data-ttu-id="45483-555">F12-console in de browser</span><span class="sxs-lookup"><span data-stu-id="45483-555">F12 Console in the browser</span></span>

<span data-ttu-id="45483-556">We bieden geen hulpmiddelen die worden gebruikt in toepassingsspecifieke probleemoplossing in dit netwerkspecifieke artikel.</span><span class="sxs-lookup"><span data-stu-id="45483-556">We don't cover tools used in application-specific troubleshooting in this network-specific article.</span></span> <span data-ttu-id="45483-557">U vindt dan bronnen die u [op deze pagina](https://support.office.com/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848) *kunt* gebruiken.</span><span class="sxs-lookup"><span data-stu-id="45483-557">But you'll find resources you  *can*  use [on this page](https://support.office.com/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span></span>

## <a name="related-topics"></a><span data-ttu-id="45483-558">Verwante onderwerpen</span><span class="sxs-lookup"><span data-stu-id="45483-558">Related Topics</span></span>

[<span data-ttu-id="45483-559">Office 365-eindpunten beheren</span><span class="sxs-lookup"><span data-stu-id="45483-559">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)

[<span data-ttu-id="45483-560">Veelgestelde vragen over Office 365-eindpunten</span><span class="sxs-lookup"><span data-stu-id="45483-560">Office 365 endpoints FAQ</span></span>](https://support.office.com/article/d4088321-1c89-4b96-9c99-54c75cae2e6d)
