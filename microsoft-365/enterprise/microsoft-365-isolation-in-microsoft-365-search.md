---
title: Tenant isolatie in Microsoft 365 zoeken
ms.author: josephd
author: JoeDavies-MSFT
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
f1.keywords:
- NOCSH
description: In dit artikel vindt u een beschrijving van de manier waarop Tenant isolatie werkt om Tenant gegevens te scheiden in Microsoft 365 Search.
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 9b204e9c1f3ef459852900f3403a21f7ea40541f
ms.sourcegitcommit: 79065e72c0799064e9055022393113dfcf40eb4b
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 08/14/2020
ms.locfileid: "46688968"
---
# <a name="tenant-isolation-in-microsoft-365-search"></a><span data-ttu-id="5df01-103">Tenant isolatie in Microsoft 365 zoeken</span><span class="sxs-lookup"><span data-stu-id="5df01-103">Tenant Isolation in Microsoft 365 Search</span></span>

<span data-ttu-id="5df01-104">Voor zoekopdrachten in SharePoint Online wordt gebruikgemaakt van een Tenant scheidings model waarmee de efficiëntie van gedeelde gegevensstructuren met beveiliging wordt vergeleken met informatie die tussen tenants is lekt.</span><span class="sxs-lookup"><span data-stu-id="5df01-104">SharePoint Online search uses a tenant separation model that balances the efficiency of shared data structures with protection against information leaking between tenants.</span></span> <span data-ttu-id="5df01-105">Met dit model kunnen de zoekfuncties niet:</span><span class="sxs-lookup"><span data-stu-id="5df01-105">With this model, we prevent the Search features from:</span></span>

- <span data-ttu-id="5df01-106">Queryresultaten met documenten uit andere tenants retourneren</span><span class="sxs-lookup"><span data-stu-id="5df01-106">Returning query results that contain documents from other tenants</span></span>
- <span data-ttu-id="5df01-107">Voldoende informatie in queryresultaten weergeven die een ervaren gebruiker informatie over andere tenants kan afleiden</span><span class="sxs-lookup"><span data-stu-id="5df01-107">Exposing sufficient information in query results that a skilled user could infer information about other tenants</span></span>
- <span data-ttu-id="5df01-108">Het schema of de instellingen van een andere Tenant weergeven</span><span class="sxs-lookup"><span data-stu-id="5df01-108">Showing schema or settings from another tenant</span></span>
- <span data-ttu-id="5df01-109">De verwerking van analysegegevens van een mengsel tussen tenants of Store-resultaten in de verkeerde Tenant</span><span class="sxs-lookup"><span data-stu-id="5df01-109">Mixing analytics processing information between tenants or store results in the wrong tenant</span></span>
- <span data-ttu-id="5df01-110">Woordenboek vermeldingen uit een andere Tenant gebruiken</span><span class="sxs-lookup"><span data-stu-id="5df01-110">Using dictionary entries from another tenant</span></span>

<span data-ttu-id="5df01-111">Voor elk type Tenant gegevens gebruikt u een of meer beveiligingslagen in de code om te voorkomen dat gegevens worden gelekt.</span><span class="sxs-lookup"><span data-stu-id="5df01-111">For each type of tenant data, we use one or more layers of protection in the code to prevent accidental leaking of information.</span></span> <span data-ttu-id="5df01-112">De meest kritieke gegevens zijn de meeste beveiligingslagen waarmee u ervoor kunt zorgen dat één gebrek opgaat met werkelijke of vertraagde gegevens lekkage.</span><span class="sxs-lookup"><span data-stu-id="5df01-112">The most critical data has the most layers of protection to make sure that a single defect doesn't result in actual or perceived information leakage.</span></span>

## <a name="tenant-separation-for-the-search-index"></a><span data-ttu-id="5df01-113">Tenant scheiding voor de zoek index</span><span class="sxs-lookup"><span data-stu-id="5df01-113">Tenant Separation for the Search Index</span></span>

<span data-ttu-id="5df01-114">De zoekindex wordt opgeslagen op de schijf op de servers die de indexonderdelen en de tenants hosten, delen de indexbestanden.</span><span class="sxs-lookup"><span data-stu-id="5df01-114">The search index is stored on disk in the servers hosting the index components and the tenants share the index files.</span></span> <span data-ttu-id="5df01-115">De geïndexeerde documenten van een Tenant zijn alleen zichtbaar voor query's voor die Tenant.</span><span class="sxs-lookup"><span data-stu-id="5df01-115">A tenant's indexed documents are visible only for queries for that tenant.</span></span> <span data-ttu-id="5df01-116">Drie onafhankelijke mechanismen voorkomen informatie lekkage:</span><span class="sxs-lookup"><span data-stu-id="5df01-116">Three independent mechanisms prevent information leakage:</span></span>

- <span data-ttu-id="5df01-117">Tenant-ID filteren</span><span class="sxs-lookup"><span data-stu-id="5df01-117">Tenant ID filtering</span></span>
- <span data-ttu-id="5df01-118">Voorvoegsel van de Tenant-ID voor de periode</span><span class="sxs-lookup"><span data-stu-id="5df01-118">Tenant ID term prefixing</span></span>
- <span data-ttu-id="5df01-119">ACL-controles</span><span class="sxs-lookup"><span data-stu-id="5df01-119">ACL checks</span></span>

<span data-ttu-id="5df01-120">Het is niet mogelijk om documenten terug te vinden in de verkeerde Tenant.</span><span class="sxs-lookup"><span data-stu-id="5df01-120">All three mechanisms would have to fail for Search to return documents to the wrong tenant.</span></span>

## <a name="tenant-id-filtering-and-tenant-id-term-prefixing"></a><span data-ttu-id="5df01-121">Tenant-ID filteren en voorvoegsels van de Tenant-ID</span><span class="sxs-lookup"><span data-stu-id="5df01-121">Tenant ID Filtering and Tenant ID Term Prefixing</span></span>

<span data-ttu-id="5df01-122">Met deze functie wordt elke term met de Tenant-ID die is geïndexeerd in de index met volledige tekst, opgelost.</span><span class="sxs-lookup"><span data-stu-id="5df01-122">Search prefixes every term that is indexed in the full-text index with the tenant ID.</span></span> <span data-ttu-id="5df01-123">Wanneer de term '*Foo*' bijvoorbeeld wordt geïndexeerd voor een Tenant met de ID '*123*', is de vermelding in de index met volledige tekst '*123foo '.*</span><span class="sxs-lookup"><span data-stu-id="5df01-123">For example, when the term "*foo*" is indexed for a tenant with an ID of "*123*", the entry in the full-text index is "*123foo.*"</span></span>

<span data-ttu-id="5df01-124">Elke query wordt geconverteerd, waarbij de Tenant-ID wordt gebruikt met een proces genaamd Tenant-ID filteren.</span><span class="sxs-lookup"><span data-stu-id="5df01-124">Every query is converted to include the tenant ID using a process called tenant ID filtering.</span></span> <span data-ttu-id="5df01-125">De query '*Foo*' wordt bijvoorbeeld geconverteerd naar ' <*GUID*>. *Foo* EN *tenantID*: <*GUID*>, waarbij de <*GUID*> de Tenant vertegenwoordigt die de query uitvoert.</span><span class="sxs-lookup"><span data-stu-id="5df01-125">For example, the query "*foo*" is converted to "<*guid*>.*foo* AND *tenantID*:<*guid*>", where <*guid*> represents the tenant performing the query.</span></span> <span data-ttu-id="5df01-126">Deze query wordt geconverteerd binnen elk indexknooppunt en de query kan niet worden gewijzigd.</span><span class="sxs-lookup"><span data-stu-id="5df01-126">This query conversion occurs within each index node and neither query nor content processing can influence it.</span></span> <span data-ttu-id="5df01-127">Aangezien de Tenant-ID aan elke query wordt toegevoegd, kan de frequentie van een term in andere tenants niet worden afgeleid door te kijken naar de rangschikking van de beste treffer in één Tenant.</span><span class="sxs-lookup"><span data-stu-id="5df01-127">Because the tenant ID is added to every query, the frequency of a term in other tenants can't be inferred by looking at best match ranking in one tenant.</span></span>

<span data-ttu-id="5df01-128">Voorvoegsel van de voornaam van de Tenant-ID vindt u alleen in de index met volledige tekst.</span><span class="sxs-lookup"><span data-stu-id="5df01-128">Tenant ID term prefixing occurs only in the full-text index.</span></span> <span data-ttu-id="5df01-129">Met geplaatste zoekopdrachten, zoals '*Titel: Foo*', gaat u naar een synthetische zoekindex waarbij de termen niet worden hersteld via een Tenant-id.</span><span class="sxs-lookup"><span data-stu-id="5df01-129">Fielded searches, such as "*title:foo*", go to a synthetic search index where terms aren't prefixed by tenant ID.</span></span> <span data-ttu-id="5df01-130">In plaats daarvan worden met veldnamen een tijdelijke oplossing uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="5df01-130">Instead, fielded searches are prefixed with the field name.</span></span> <span data-ttu-id="5df01-131">De query '*Titel: Foo*' wordt bijvoorbeeld geconverteerd naar '*velden. title: foo en Fields. tenantID*: <*GUID*> '.</span><span class="sxs-lookup"><span data-stu-id="5df01-131">For example, the query "*title:foo*" is converted to "*fields.title:foo AND fields.tenantID*:<*guid*>."</span></span> <span data-ttu-id="5df01-132">Aangezien de frequentie van een term geen invloed heeft op de classificatie van treffers in de synthetische zoekindex, is er geen Tenant scheidingsteken voor het voorvoegsel van de term.</span><span class="sxs-lookup"><span data-stu-id="5df01-132">Because the frequency of a term doesn't influence ranking of hits in the synthetic search index, there's no need for tenant separation by term prefixing.</span></span> <span data-ttu-id="5df01-133">Voor een zoekopdracht via een veld zoals*Titel: Foo*, is het niet mogelijk Tenant-inhouds scheidings functie te filteren op Tenant-id.</span><span class="sxs-lookup"><span data-stu-id="5df01-133">For a fielded search like "*title:foo*", tenant content separation depends on tenant ID filtering by query conversion.</span></span>

## <a name="document-access-control-list-checks"></a><span data-ttu-id="5df01-134">Controles van de toegangsbeheerlijst voor documenten</span><span class="sxs-lookup"><span data-stu-id="5df01-134">Document Access Control List Checks</span></span>

<span data-ttu-id="5df01-135">Met de zoekfunctie beheert u de toegang tot documenten via Acl's die zijn opgeslagen in de zoekindex.</span><span class="sxs-lookup"><span data-stu-id="5df01-135">Search controls access to documents through ACLs that are saved in the search index.</span></span> <span data-ttu-id="5df01-136">Elk item wordt geïndexeerd met een set termen in een speciaal ACL-veld.</span><span class="sxs-lookup"><span data-stu-id="5df01-136">Every item is indexed with a set of terms in a special ACL field.</span></span> <span data-ttu-id="5df01-137">Het veld ACL bevat één term per groep of gebruiker waarin het document kan worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="5df01-137">The ACL field contains one term per group or user that can view the document.</span></span> <span data-ttu-id="5df01-138">Elke query wordt uitgebreid met een lijst met ACE-vermeldingen (toegangscontrolevermeldingen), één voor elke groep waarvan de geverifieerde gebruiker lid is.</span><span class="sxs-lookup"><span data-stu-id="5df01-138">Every query is augmented with a list of access control entry (ACE) terms, one for each group to which the authenticated user belongs.</span></span>

<span data-ttu-id="5df01-139">Bijvoorbeeld een query zoals " *guid*> <. *foo en tenantID*: <*GUID*> "wordt:" <*GUID*>. *foo en tenantID*: <*GUID* >  *en* (*docACL:* < *ace1* >  *of docACL*: <*ACE2* >  *of docACL*: <*ace3* >  *...*)</span><span class="sxs-lookup"><span data-stu-id="5df01-139">For example, a query like "<*guid*>.*foo AND tenantID*:<*guid*>" becomes: "<*guid*>.*foo AND tenantID*:<*guid*> *AND* (*docACL:*<*ace1*> *OR docACL*:<*ace2*> *OR docACL*:<*ace3*> *...*)"</span></span>

<span data-ttu-id="5df01-140">Aangezien gebruikers-en groeps-id's en daarom unieke Ace's zijn, biedt dit een extra beveiligingsniveau tussen tenants voor documenten die alleen zichtbaar zijn voor sommige gebruikers.</span><span class="sxs-lookup"><span data-stu-id="5df01-140">Because user and group identifiers and hence ACEs are unique, this provides an extra level of security between tenants for documents that are only visible to some users.</span></span> <span data-ttu-id="5df01-141">Hetzelfde is het geval voor de ACE voor speciale gebruikers, met uitzondering van externe gebruikers, die toegang biedt tot normale gebruikers in de Tenant.</span><span class="sxs-lookup"><span data-stu-id="5df01-141">The same is the case for the special "Everyone except external users" ACE that grants access to regular users in the tenant.</span></span> <span data-ttu-id="5df01-142">Aangezien Ace's voor ' iedereen ' hetzelfde zijn voor alle tenants, is de scheiding van de Tenant voor openbare documenten afhankelijk van het filteren van Tenant-id's.</span><span class="sxs-lookup"><span data-stu-id="5df01-142">But since ACEs for "Everyone" are the same for all tenants, tenant separation for public documents depends on tenant ID filtering.</span></span> <span data-ttu-id="5df01-143">Deny-Ace's worden ook ondersteund.</span><span class="sxs-lookup"><span data-stu-id="5df01-143">Deny ACEs are also supported.</span></span> <span data-ttu-id="5df01-144">Met behulp van de query-uitbreiding voegt u een component toe waarmee een document wordt verwijderd uit het resultaat wanneer er een overeenkomst is met een Deny-ACE.</span><span class="sxs-lookup"><span data-stu-id="5df01-144">The query augmentation adds a clause that removes a document from the result when there is a match with a deny ACE.</span></span>

<span data-ttu-id="5df01-145">In de zoekfunctie van Exchange Online is de index gepartitioneerd op Postvak-ID voor de postvakken van de afzonderlijke gebruikers in plaats van Tenant-ID (abonnements-ID), zoals in SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="5df01-145">In Exchange Online search, the index is partitioned on mailbox ID for individual user's mailboxes instead of tenant ID (subscription ID) as in SharePoint Online.</span></span> <span data-ttu-id="5df01-146">Het partitionatie mechanisme is hetzelfde als SharePoint Online, maar er is geen ACL-filter.</span><span class="sxs-lookup"><span data-stu-id="5df01-146">The partitioning mechanism is the same as SharePoint Online, but there is no ACL filtering.</span></span>
