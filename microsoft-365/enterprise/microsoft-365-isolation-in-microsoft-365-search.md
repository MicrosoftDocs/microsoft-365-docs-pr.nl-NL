---
title: Tenantisolatie in Microsoft 365 Zoeken
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
f1.keywords:
- NOCSH
description: In dit artikel vindt u een uitleg over hoe tenantisolatie werkt om tenantgegevens te scheiden in Microsoft 365 Zoeken.
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 3416afdeceaa7000b516ec89b4a2a1e59d8708d0
ms.sourcegitcommit: 27addd4dac07926528b788215d2dcd0e46301eb1
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/16/2021
ms.locfileid: "53464068"
---
# <a name="tenant-isolation-in-microsoft-365-search"></a><span data-ttu-id="dad2c-103">Tenantisolatie in Microsoft 365 Zoeken</span><span class="sxs-lookup"><span data-stu-id="dad2c-103">Tenant Isolation in Microsoft 365 Search</span></span>

<span data-ttu-id="dad2c-104">SharePoint Online zoeken maakt gebruik van een tenantscheidingsmodel dat de efficiëntie van gedeelde gegevensstructuren balanceert met beveiliging tegen informatielekken tussen tenants.</span><span class="sxs-lookup"><span data-stu-id="dad2c-104">SharePoint Online search uses a tenant separation model that balances the efficiency of shared data structures with protection against information leaking between tenants.</span></span> <span data-ttu-id="dad2c-105">Met dit model voorkomen we dat de zoekfuncties:</span><span class="sxs-lookup"><span data-stu-id="dad2c-105">With this model, we prevent the Search features from:</span></span>

- <span data-ttu-id="dad2c-106">Queryresultaten met documenten van andere tenants retourneren</span><span class="sxs-lookup"><span data-stu-id="dad2c-106">Returning query results that contain documents from other tenants</span></span>
- <span data-ttu-id="dad2c-107">Voldoende informatie in queryresultaten die een ervaren gebruiker kan afleiden uit informatie over andere tenants</span><span class="sxs-lookup"><span data-stu-id="dad2c-107">Exposing sufficient information in query results that a skilled user could infer information about other tenants</span></span>
- <span data-ttu-id="dad2c-108">Schema of instellingen van een andere tenant weergeven</span><span class="sxs-lookup"><span data-stu-id="dad2c-108">Showing schema or settings from another tenant</span></span>
- <span data-ttu-id="dad2c-109">Analyseverwerkingsgegevens tussen tenants combineren of resultaten opslaan in de verkeerde tenant</span><span class="sxs-lookup"><span data-stu-id="dad2c-109">Mixing analytics processing information between tenants or store results in the wrong tenant</span></span>
- <span data-ttu-id="dad2c-110">Woordenlijstgegevens van een andere tenant gebruiken</span><span class="sxs-lookup"><span data-stu-id="dad2c-110">Using dictionary entries from another tenant</span></span>

<span data-ttu-id="dad2c-111">Voor elk type tenantgegevens gebruiken we een of meer beveiligingslagen in de code om onbedoelde lekken van informatie te voorkomen.</span><span class="sxs-lookup"><span data-stu-id="dad2c-111">For each type of tenant data, we use one or more layers of protection in the code to prevent accidental leaking of information.</span></span> <span data-ttu-id="dad2c-112">De meest kritieke gegevens hebben de meeste beveiligingslagen om ervoor te zorgen dat één fout niet resulteert in een werkelijke of waargenomen informatielekken.</span><span class="sxs-lookup"><span data-stu-id="dad2c-112">The most critical data has the most layers of protection to make sure that a single defect doesn't result in actual or perceived information leakage.</span></span>

## <a name="tenant-separation-for-the-search-index"></a><span data-ttu-id="dad2c-113">Tenantscheiding voor de zoekindex</span><span class="sxs-lookup"><span data-stu-id="dad2c-113">Tenant Separation for the Search Index</span></span>

<span data-ttu-id="dad2c-114">De zoekindex wordt opgeslagen op schijf in de servers met de indexonderdelen en de tenants delen de indexbestanden.</span><span class="sxs-lookup"><span data-stu-id="dad2c-114">The search index is stored on disk in the servers hosting the index components and the tenants share the index files.</span></span> <span data-ttu-id="dad2c-115">De geïndexeerde documenten van een tenant zijn alleen zichtbaar voor query's voor die tenant.</span><span class="sxs-lookup"><span data-stu-id="dad2c-115">A tenant's indexed documents are visible only for queries for that tenant.</span></span> <span data-ttu-id="dad2c-116">Drie onafhankelijke mechanismen voorkomen informatielekken:</span><span class="sxs-lookup"><span data-stu-id="dad2c-116">Three independent mechanisms prevent information leakage:</span></span>

- <span data-ttu-id="dad2c-117">Tenant-id-filtering</span><span class="sxs-lookup"><span data-stu-id="dad2c-117">Tenant ID filtering</span></span>
- <span data-ttu-id="dad2c-118">Tenant-id-term voorvoegsel</span><span class="sxs-lookup"><span data-stu-id="dad2c-118">Tenant ID term prefixing</span></span>
- <span data-ttu-id="dad2c-119">ACL-controles</span><span class="sxs-lookup"><span data-stu-id="dad2c-119">ACL checks</span></span>

<span data-ttu-id="dad2c-120">Alle drie de mechanismen moeten mislukken voor Zoeken om documenten terug te geven aan de verkeerde tenant.</span><span class="sxs-lookup"><span data-stu-id="dad2c-120">All three mechanisms would have to fail for Search to return documents to the wrong tenant.</span></span>

## <a name="tenant-id-filtering-and-tenant-id-term-prefixing"></a><span data-ttu-id="dad2c-121">Tenant-id-filtering en tenant-id-term voorvoegsel</span><span class="sxs-lookup"><span data-stu-id="dad2c-121">Tenant ID Filtering and Tenant ID Term Prefixing</span></span>

<span data-ttu-id="dad2c-122">Zoek voorvoegsels voor elke term die wordt geïndexeerd in de full-text index met de tenant-id.</span><span class="sxs-lookup"><span data-stu-id="dad2c-122">Search prefixes every term that is indexed in the full-text index with the tenant ID.</span></span> <span data-ttu-id="dad2c-123">Als bijvoorbeeld de term "*foo*" wordt geïndexeerd voor een tenant met een id van "*123*", is de vermelding in de full-text index "*123foo.*"</span><span class="sxs-lookup"><span data-stu-id="dad2c-123">For example, when the term "*foo*" is indexed for a tenant with an ID of "*123*", the entry in the full-text index is "*123foo.*"</span></span>

<span data-ttu-id="dad2c-124">Elke query wordt geconverteerd naar de tenant-id met behulp van een proces dat tenant-id-filtering wordt genoemd.</span><span class="sxs-lookup"><span data-stu-id="dad2c-124">Every query is converted to include the tenant ID using a process called tenant ID filtering.</span></span> <span data-ttu-id="dad2c-125">De query '*foo'* wordt bijvoorbeeld geconverteerd naar '<*guid*>. *foo* AND *tenantID*:<*guid*>", waarbij <*guid*> de tenant vertegenwoordigt die de query uitvoert.</span><span class="sxs-lookup"><span data-stu-id="dad2c-125">For example, the query "*foo*" is converted to "<*guid*>.*foo* AND *tenantID*:<*guid*>", where <*guid*> represents the tenant performing the query.</span></span> <span data-ttu-id="dad2c-126">Deze queryconversie vindt plaats in elk index knooppunt en query' s en inhoudsverwerking kunnen dit niet beïnvloeden.</span><span class="sxs-lookup"><span data-stu-id="dad2c-126">This query conversion occurs within each index node and neither query nor content processing can influence it.</span></span> <span data-ttu-id="dad2c-127">Omdat de tenant-id aan elke query wordt toegevoegd, kan de frequentie van een term in andere tenants niet worden afgeleid door te kijken naar de beste overeenkomstrangschikking in één tenant.</span><span class="sxs-lookup"><span data-stu-id="dad2c-127">Because the tenant ID is added to every query, the frequency of a term in other tenants can't be inferred by looking at best match ranking in one tenant.</span></span>

<span data-ttu-id="dad2c-128">Tenant-id-term voorvoegsel vindt alleen plaats in de index met volledige tekst.</span><span class="sxs-lookup"><span data-stu-id="dad2c-128">Tenant ID term prefixing occurs only in the full-text index.</span></span> <span data-ttu-id="dad2c-129">Veldzoek zoekopdrachten, zoals "*title:foo*", gaan naar een synthetische zoekindex waarin termen niet zijn voorafgevoegd door tenant-id.</span><span class="sxs-lookup"><span data-stu-id="dad2c-129">Fielded searches, such as "*title:foo*", go to a synthetic search index where terms aren't prefixed by tenant ID.</span></span> <span data-ttu-id="dad2c-130">In plaats daarvan worden veldzoek zoekopdrachten voorafgevoegd met de veldnaam.</span><span class="sxs-lookup"><span data-stu-id="dad2c-130">Instead, fielded searches are prefixed with the field name.</span></span> <span data-ttu-id="dad2c-131">De query "*title:foo*" wordt bijvoorbeeld geconverteerd naar "*fields.title:foo AND fields.tenantID*:<*guid*>."</span><span class="sxs-lookup"><span data-stu-id="dad2c-131">For example, the query "*title:foo*" is converted to "*fields.title:foo AND fields.tenantID*:<*guid*>."</span></span> <span data-ttu-id="dad2c-132">Omdat de frequentie van een term geen invloed heeft op het rangschikken van treffers in de index voor synthetische zoekopdrachten, is het niet nodig om tenantscheiding per term voorvoegsel te gebruiken.</span><span class="sxs-lookup"><span data-stu-id="dad2c-132">Because the frequency of a term doesn't influence ranking of hits in the synthetic search index, there's no need for tenant separation by term prefixing.</span></span> <span data-ttu-id="dad2c-133">Voor een veldzoekactie zoals "*title:foo*" is de scheiding van tenantinhoud afhankelijk van het filteren van tenant-id's door queryconversie.</span><span class="sxs-lookup"><span data-stu-id="dad2c-133">For a fielded search like "*title:foo*", tenant content separation depends on tenant ID filtering by query conversion.</span></span>

## <a name="document-access-control-list-checks"></a><span data-ttu-id="dad2c-134">Document Access Control List Checks</span><span class="sxs-lookup"><span data-stu-id="dad2c-134">Document Access Control List Checks</span></span>

<span data-ttu-id="dad2c-135">Zoeken besturingselementen voor toegang tot documenten via ACL's die zijn opgeslagen in de zoekindex.</span><span class="sxs-lookup"><span data-stu-id="dad2c-135">Search controls access to documents through ACLs that are saved in the search index.</span></span> <span data-ttu-id="dad2c-136">Elk item wordt geïndexeerd met een set termen in een speciaal ACL-veld.</span><span class="sxs-lookup"><span data-stu-id="dad2c-136">Every item is indexed with a set of terms in a special ACL field.</span></span> <span data-ttu-id="dad2c-137">Het veld ACL bevat één term per groep of gebruiker die het document kan bekijken.</span><span class="sxs-lookup"><span data-stu-id="dad2c-137">The ACL field contains one term per group or user that can view the document.</span></span> <span data-ttu-id="dad2c-138">Elke query wordt aangevuld met een lijst met ace-termen (Access Control Entry), een voor elke groep waarvan de geverifieerde gebruiker deel uit maakt.</span><span class="sxs-lookup"><span data-stu-id="dad2c-138">Every query is augmented with a list of access control entry (ACE) terms, one for each group to which the authenticated user belongs.</span></span>

<span data-ttu-id="dad2c-139">Een query zoals '<*guid>.* *foo AND tenantID*:<*guid*>" wordt: "<*guid*>. *foo AND tenantID*:<*guid* >  *AND* (*docACL:* < *ace1* OR >  *docACL*:<*ace2* >  *OR docACL*:<*ace3* >  *...*)"</span><span class="sxs-lookup"><span data-stu-id="dad2c-139">For example, a query like "<*guid*>.*foo AND tenantID*:<*guid*>" becomes: "<*guid*>.*foo AND tenantID*:<*guid*> *AND* (*docACL:*<*ace1*> *OR docACL*:<*ace2*> *OR docACL*:<*ace3*> *...*)"</span></span>

<span data-ttu-id="dad2c-140">Omdat gebruikers- en groepsaanduidingen en dus ACL's uniek zijn, biedt dit een extra beveiligingsniveau tussen tenants voor documenten die alleen zichtbaar zijn voor sommige gebruikers.</span><span class="sxs-lookup"><span data-stu-id="dad2c-140">Because user and group identifiers and hence ACEs are unique, this provides an extra level of security between tenants for documents that are only visible to some users.</span></span> <span data-ttu-id="dad2c-141">Hetzelfde geldt voor de speciale ACE 'Iedereen behalve externe gebruikers' die toegang verleent aan gewone gebruikers in de tenant.</span><span class="sxs-lookup"><span data-stu-id="dad2c-141">The same is the case for the special "Everyone except external users" ACE that grants access to regular users in the tenant.</span></span> <span data-ttu-id="dad2c-142">Maar aangezien AE's voor 'Iedereen' voor alle tenants hetzelfde zijn, is tenantscheiding voor openbare documenten afhankelijk van het filteren van tenant-id's.</span><span class="sxs-lookup"><span data-stu-id="dad2c-142">But since ACEs for "Everyone" are the same for all tenants, tenant separation for public documents depends on tenant ID filtering.</span></span> <span data-ttu-id="dad2c-143">Weigeren ACL's worden ook ondersteund.</span><span class="sxs-lookup"><span data-stu-id="dad2c-143">Deny ACEs are also supported.</span></span> <span data-ttu-id="dad2c-144">Met de queryvergroting wordt een component toegevoegd die een document uit het resultaat verwijdert wanneer er een overeenkomst is met een WEIGEREN-ACE.</span><span class="sxs-lookup"><span data-stu-id="dad2c-144">The query augmentation adds a clause that removes a document from the result when there is a match with a deny ACE.</span></span>

<span data-ttu-id="dad2c-145">In Exchange Online zoeken wordt de index verdeeld over postvak-id voor de postvakken van afzonderlijke gebruikers in plaats van tenant-id (abonnement-id) zoals in SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="dad2c-145">In Exchange Online search, the index is partitioned on mailbox ID for individual user's mailboxes instead of tenant ID (subscription ID) as in SharePoint Online.</span></span> <span data-ttu-id="dad2c-146">Het scheidingsmechanisme is hetzelfde als SharePoint Online, maar er is geen ACL-filtering.</span><span class="sxs-lookup"><span data-stu-id="dad2c-146">The partitioning mechanism is the same as SharePoint Online, but there is no ACL filtering.</span></span>
