---
title: Verwijzing voor bescherming tegen misbruik
keywords: risicobeperking, beveiligingslekken, kwetsbaarheid, mitigatie, misbruik, exploits, emet
description: Details over de manier waarop de exploitbeveiligingsfunctie werkt in Windows 10
search.product: eADQiWindows 10XVcnh
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.date: 01/06/2021
ms.reviewer: cjacks
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.topic: article
ms.openlocfilehash: 7300ed2a4dc2623a8f936006ce7de3a5204712f0
ms.sourcegitcommit: 4fb1226d5875bf5b9b29252596855a6562cea9ae
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 06/08/2021
ms.locfileid: "52844538"
---
# <a name="exploit-protection-reference"></a><span data-ttu-id="c9457-104">Exploit Protection Reference</span><span class="sxs-lookup"><span data-stu-id="c9457-104">Exploit Protection Reference</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


<span data-ttu-id="c9457-105">**Van toepassing op:**</span><span class="sxs-lookup"><span data-stu-id="c9457-105">**Applies to:**</span></span>
- [<span data-ttu-id="c9457-106">Microsoft Defender voor Eindpunt</span><span class="sxs-lookup"><span data-stu-id="c9457-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/?linkid=2154037)
- [<span data-ttu-id="c9457-107">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="c9457-107">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

><span data-ttu-id="c9457-108">Wilt u Microsoft Defender voor Eindpunt ervaren?</span><span class="sxs-lookup"><span data-stu-id="c9457-108">Want to experience Microsoft Defender for Endpoint?</span></span> [<span data-ttu-id="c9457-109">Meld u aan voor een gratis proefabonnement.</span><span class="sxs-lookup"><span data-stu-id="c9457-109">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-enablesiem-abovefoldlink)

<span data-ttu-id="c9457-110">Exploitbeveiliging biedt geavanceerde beveiligingen voor toepassingen die de IT-Pro kunnen toepassen nadat de ontwikkelaar de software heeft gecompileerd en gedistribueerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-110">Exploit protection provides advanced protections for applications that the IT Pro can apply after the developer has compiled and distributed the software.</span></span>

<span data-ttu-id="c9457-111">In dit artikel wordt beschreven hoe misbruikbeveiliging werkt, zowel op beleidsniveau als op individueel risicobeperkingsniveau, om u te helpen bij het maken en toepassen van exploitbeveiligingsbeleid.</span><span class="sxs-lookup"><span data-stu-id="c9457-111">This article helps you understand how exploit protection works, both at the policy level and at the individual mitigation level, to help you successfully build and apply Exploit Protection policies.</span></span>

## <a name="how-mitigations-are-applied"></a><span data-ttu-id="c9457-112">Hoe mitigaties worden toegepast</span><span class="sxs-lookup"><span data-stu-id="c9457-112">How mitigations are applied</span></span>

<span data-ttu-id="c9457-113">Exploit Protection mitigaties worden per toepassing toegepast.</span><span class="sxs-lookup"><span data-stu-id="c9457-113">Exploit Protection mitigations are applied per application.</span></span>

<span data-ttu-id="c9457-114">Risicobeperking wordt geconfigureerd via een registerinvoer voor elk programma waar u beveiligingen voor configureert.</span><span class="sxs-lookup"><span data-stu-id="c9457-114">Mitigations are configured via a registry entry for each program that you configure protections for.</span></span> <span data-ttu-id="c9457-115">Deze instellingen worden opgeslagen in het **registeritem MitigationOptions** voor elk programma (HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Opties voor afbeeldingsbestandsuitvoering **\ *ImageFileName* \ MitigationOptions**).</span><span class="sxs-lookup"><span data-stu-id="c9457-115">These settings are stored in the **MitigationOptions** registry entry for each program (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution Options \ *ImageFileName* \ MitigationOptions**).</span></span> <span data-ttu-id="c9457-116">Deze worden van kracht wanneer u het programma opnieuw start en blijven van kracht totdat u ze wijzigt en het programma opnieuw start.</span><span class="sxs-lookup"><span data-stu-id="c9457-116">They take effect when you restart the program and remain effective until you change them and restart the program again.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c9457-117">Met Opties voor afbeeldingsbestandsuitvoering kunt u alleen een bestandsnaam of pad opgeven, en niet een versienummer, architectuur of een andere differentiator.</span><span class="sxs-lookup"><span data-stu-id="c9457-117">Image File Execution Options only allows you to specify a file name or path, and not a version number, architecture, or any other differentiator.</span></span> <span data-ttu-id="c9457-118">Wees voorzichtig met het beperken van risico's voor apps met unieke namen of paden, waarbij deze alleen worden toegepast op apparaten waarop u die versie en die architectuur van de toepassing hebt getest.</span><span class="sxs-lookup"><span data-stu-id="c9457-118">Be careful to target mitigations to apps which have unique names or paths, applying them only on devices where you have tested that version and that architecture of the application.</span></span>

<span data-ttu-id="c9457-119">Als u misbruikbeveiligingsbeperking configureert met behulp van een XML-configuratiebestand, hetzij via PowerShell, Groepsbeleid of MDM, worden bij het verwerken van dit XML-configuratiebestand afzonderlijke registerinstellingen voor u geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-119">If you configure exploit protection mitigations using an XML configuration file, either via PowerShell, Group Policy, or MDM, when processing this XML configuration file, individual registry settings will be configured for you.</span></span>

<span data-ttu-id="c9457-120">Wanneer het beleid voor het distribueren van het XML-bestand niet meer wordt afgedwongen, worden instellingen die door dit XML-configuratiebestand worden geïmplementeerd, niet automatisch verwijderd.</span><span class="sxs-lookup"><span data-stu-id="c9457-120">When the policy distributing the XML file is no longer enforced, settings deployed by this XML configuration file will not be automatically removed.</span></span> <span data-ttu-id="c9457-121">Als u de instellingen voor exploitbeveiliging wilt verwijderen, exporteert u de XML-configuratie van een Windows 10 apparaat en implementeert u dit nieuwe XML-bestand.</span><span class="sxs-lookup"><span data-stu-id="c9457-121">To remove Exploit Protection settings, export the XML configuration from a clean Windows 10 device, and deploy this new XML file.</span></span> <span data-ttu-id="c9457-122">Microsoft biedt ook een XML-bestand als onderdeel van de Windows-beveiliging basislijnen voor het opnieuw instellen van de instellingen voor exploitbeveiliging.</span><span class="sxs-lookup"><span data-stu-id="c9457-122">Alternately, Microsoft provides an XML file as part of the Windows Security Baselines for resetting Exploit Protection settings.</span></span>

<span data-ttu-id="c9457-123">Als u beveiligingsinstellingen voor exploits opnieuw wilt instellen met PowerShell, kunt u de volgende opdracht gebruiken:</span><span class="sxs-lookup"><span data-stu-id="c9457-123">To reset exploit protection settings using PowerShell, you could use the following command:</span></span>

```powershell
Set-ProcessMitigation -PolicyFilePath EP-reset.xml
```
<span data-ttu-id="c9457-124">Hieronder volgt de EP-reset.xml verdeeld met de Windows-beveiliging Basislijnen:</span><span class="sxs-lookup"><span data-stu-id="c9457-124">Following is the EP-reset.xml distributed with the Windows Security Baselines:</span></span>
```xml
<?xml version="1.0" encoding="UTF-8"?>
<MitigationPolicy>
  <AppConfig Executable="ONEDRIVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR OverrideRelocateImages="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
  </AppConfig>
  <AppConfig Executable="firefox.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
  </AppConfig>
  <AppConfig Executable="fltldr.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="GROOVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="Acrobat.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="AcroRd32.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="chrome.exe">
    <DEP OverrideDEP="false" />
  </AppConfig>
  <AppConfig Executable="EXCEL.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="iexplore.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="INFOPATH.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="java.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaw.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaws.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="LYNC.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSACCESS.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSPUB.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OIS.EXE">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OUTLOOK.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="plugin-container.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="POWERPNT.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="PPTVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VISIO.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VPREVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="WINWORD.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wmplayer.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wordpad.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
</MitigationPolicy>
```

## <a name="mitigation-reference"></a><span data-ttu-id="c9457-125">Mitigatieverwijzing</span><span class="sxs-lookup"><span data-stu-id="c9457-125">Mitigation Reference</span></span>

<span data-ttu-id="c9457-126">In de volgende secties worden de beveiligingen beschreven die worden geboden door elke beperking van de exploitbeveiliging, de compatibiliteitsoverwegingen voor de beperking en de beschikbare configuratieopties.</span><span class="sxs-lookup"><span data-stu-id="c9457-126">The following sections detail the protections provided by each exploit protection mitigation, the compatibility considerations for the mitigation, and the configuration options available.</span></span>

## <a name="arbitrary-code-guard"></a><span data-ttu-id="c9457-127">Willekeurige codebeveiliger</span><span class="sxs-lookup"><span data-stu-id="c9457-127">Arbitrary code guard</span></span>

### <a name="description"></a><span data-ttu-id="c9457-128">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-128">Description</span></span>

<span data-ttu-id="c9457-129">Willekeurige codebeveiliger beschermt tegen een kwaadwillende aanvaller die de code van zijn keuze in het geheugen laadt via een beveiligingsprobleem in het geheugen en die code kan uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="c9457-129">Arbitrary code guard helps protect against a malicious attacker loading the code of their choice into memory through a memory safety vulnerability and being able to execute that code.</span></span>

<span data-ttu-id="c9457-130">Willekeurige codebeveiliger beschermt een toepassing tegen het uitvoeren van dynamisch gegenereerde code (code die niet wordt geladen, bijvoorbeeld van de exe zelf of een dll).</span><span class="sxs-lookup"><span data-stu-id="c9457-130">Arbitrary code guard protects an application from executing dynamically generated code (code that is not loaded, for example, from the exe itself or a dll).</span></span> <span data-ttu-id="c9457-131">Willekeurige codebeveiliger werkt door te voorkomen dat het geheugen wordt gemarkeerd als uitvoerbaar.</span><span class="sxs-lookup"><span data-stu-id="c9457-131">Arbitrary code guard works by preventing memory from being marked as executable.</span></span> <span data-ttu-id="c9457-132">Wanneer een toepassing geheugen [probeert toe te wijzen,](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc)controleren we de beveiligingsvlaggen.</span><span class="sxs-lookup"><span data-stu-id="c9457-132">When an application attempts to [allocate memory](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), we check the protection flags.</span></span> <span data-ttu-id="c9457-133">(Geheugen kan worden toegewezen met lees-, schrijf- en/of uitvoerbeveiligingsvlaggen.) Als de toewijzing probeert [](/windows/win32/memory/memory-protection-constants) de vlag voor het uitvoeren van beveiliging op te nemen, mislukt de toewijzing van het geheugen en wordt een foutcode (STATUS_DYNAMIC_CODE_BLOCKED).</span><span class="sxs-lookup"><span data-stu-id="c9457-133">(Memory can be allocated with read, write, and/or execute protection flags.) If the allocation attempts to include the [*execute*](/windows/win32/memory/memory-protection-constants) protection flag, then the memory allocation fails and returns an error code (STATUS_DYNAMIC_CODE_BLOCKED).</span></span> <span data-ttu-id="c9457-134">Als een toepassing op [](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) dezelfde manier probeert de beveiligingsvlaggen van [](/windows/win32/memory/memory-protection-constants) het geheugen te wijzigen die al zijn toegewezen en de vlag voor het uitvoeren van beveiliging bevat, mislukt de machtigingswijziging en wordt een foutcode (STATUS_DYNAMIC_CODE_BLOCKED).</span><span class="sxs-lookup"><span data-stu-id="c9457-134">Similarly, if an application attempts to [change the protection flags of memory](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) that has already been allocated and includes the [*execute*](/windows/win32/memory/memory-protection-constants) protection flag, then the permission change fails and returns an error code (STATUS_DYNAMIC_CODE_BLOCKED).</span></span>

<span data-ttu-id="c9457-135">Door te voorkomen dat de *vlag* uitvoeren wordt ingesteld, kan de functie voor preventie van gegevensuitvoering van Windows 10 vervolgens worden beschermd tegen de instructieaanwijzer die is ingesteld op dat geheugen en die code uitvoert.</span><span class="sxs-lookup"><span data-stu-id="c9457-135">By preventing the *execute* flag from being set, the data execution prevention feature of Windows 10 can then protect against the instruction pointer being set to that memory and running that code.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-136">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-136">Compatibility considerations</span></span>

<span data-ttu-id="c9457-137">Willekeurige codebeveiliger voorkomt het toewijzen van geheugen als uitvoerbaar, wat een compatibiliteitsprobleem met benaderingen zoals JIT-compilers (Just-in-Time) presenteert.</span><span class="sxs-lookup"><span data-stu-id="c9457-137">Arbitrary code guard prevents allocating any memory as executable, which presents a compatibility issue with approaches such as Just-in-Time (JIT) compilers.</span></span> <span data-ttu-id="c9457-138">De meeste moderne browsers, bijvoorbeeld, compileren JavaScript in native code om de prestaties te optimaliseren.</span><span class="sxs-lookup"><span data-stu-id="c9457-138">Most modern browsers, for example, will compile JavaScript into native code in order to optimize performance.</span></span> <span data-ttu-id="c9457-139">Om deze beperking te ondersteunen, moeten ze opnieuw worden gemaakt om de JIT-compilatie buiten het beveiligde proces te verplaatsen.</span><span class="sxs-lookup"><span data-stu-id="c9457-139">In order to support this mitigation, they will need to be rearchitected to move the JIT compilation outside of the protected process.</span></span> <span data-ttu-id="c9457-140">Andere toepassingen waarvan het ontwerp dynamisch code genereert uit scripts of andere tussentalen, zijn op dezelfde manier niet compatibel met deze beperking.</span><span class="sxs-lookup"><span data-stu-id="c9457-140">Other applications whose design dynamically generates code from scripts or other intermediate languages will be similarly incompatible with this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-141">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-141">Configuration options</span></span>

<span data-ttu-id="c9457-142">**Opt-out van thread toestaan:** u kunt de beperking zo configureren dat een afzonderlijke thread zich kan opt-out van deze beveiliging.</span><span class="sxs-lookup"><span data-stu-id="c9457-142">**Allow thread opt-out** - You can configure the mitigation to allow an individual thread to opt-out of this protection.</span></span> <span data-ttu-id="c9457-143">De ontwikkelaar moet de toepassing hebben geschreven met de kennis van deze beperking en de [**SetThreadInformation-API**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) hebben gebeld met de parameter *ThreadInformation* die is ingesteld op **ThreadDynamicCodePolicy** om dynamische code op deze thread uit te kunnen voeren.</span><span class="sxs-lookup"><span data-stu-id="c9457-143">The developer must have written the application with awareness of this mitigation, and have called the [**SetThreadInformation**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) API with the *ThreadInformation* parameter set to **ThreadDynamicCodePolicy** in order to be allowed to execute dynamic code on this thread.</span></span>

<span data-ttu-id="c9457-144">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-144">**Audit only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-145">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met Geavanceerde jacht in [Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-145">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-low-integrity-images"></a><span data-ttu-id="c9457-146">Afbeeldingen met een lage integriteit blokkeren</span><span class="sxs-lookup"><span data-stu-id="c9457-146">Block low integrity images</span></span>

### <a name="description"></a><span data-ttu-id="c9457-147">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-147">Description</span></span>

<span data-ttu-id="c9457-148">Als u afbeeldingen met een lage integriteit blokkeert, wordt voorkomen dat de toepassing bestanden laadt die niet zijn vertrouwd, meestal omdat ze zijn gedownload van internet vanuit een sandbox-browser.</span><span class="sxs-lookup"><span data-stu-id="c9457-148">Block low integrity images prevents the application from loading files that are untrusted, typically because they have been downloaded from the internet from a sandboxed browser.</span></span>

<span data-ttu-id="c9457-149">Deze beperking blokkeert het laden van afbeeldingen als de afbeelding een Access Control Entry (ACE) heeft die toegang verleent tot Low IL-processen en die geen vertrouwenslabel ACE heeft.</span><span class="sxs-lookup"><span data-stu-id="c9457-149">This mitigation will block image loads if the image has an Access Control Entry (ACE) which grants access to Low IL processes and which does not have a trust label ACE.</span></span> <span data-ttu-id="c9457-150">Het wordt geïmplementeerd door de memory manager, die blokkeert dat het bestand in het geheugen wordt in kaart gebracht.</span><span class="sxs-lookup"><span data-stu-id="c9457-150">It is implemented by the memory manager, which blocks the file from being mapped into memory.</span></span> <span data-ttu-id="c9457-151">Als een toepassing een afbeelding met een lage integriteit in kaart probeert te brengen, wordt er een fout STATUS_ACCESS_DENIED veroorzaakt.</span><span class="sxs-lookup"><span data-stu-id="c9457-151">If an application attempts to map a low integrity image, it will trigger a STATUS_ACCESS_DENIED error.</span></span> <span data-ttu-id="c9457-152">Zie Verplichte integriteitscontrole voor meer informatie over hoe [integriteitsniveaus werken.](/windows/win32/secauthz/mandatory-integrity-control)</span><span class="sxs-lookup"><span data-stu-id="c9457-152">For details on how integrity levels work, see [Mandatory Integrity Control](/windows/win32/secauthz/mandatory-integrity-control).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-153">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-153">Compatibility considerations</span></span>

<span data-ttu-id="c9457-154">Als u afbeeldingen met een lage integriteit blokkeert, wordt voorkomen dat de toepassing bestanden laadt die van internet zijn gedownload.</span><span class="sxs-lookup"><span data-stu-id="c9457-154">Block low integrity images will prevent the application from loading files that were downloaded from the internet.</span></span> <span data-ttu-id="c9457-155">Als voor uw toepassingswerkstroom het laden van gedownloade afbeeldingen vereist is, wilt u ervoor zorgen dat ze worden gedownload vanuit een proces met een hogere vertrouwensrelatie of expliciet opnieuw worden gelabeld om deze beperking toe te passen.</span><span class="sxs-lookup"><span data-stu-id="c9457-155">If your application workflow requires loading images that are downloaded, you will want to ensure that they are downloaded from a higher-trust process, or are explicitly relabeled in order to apply this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-156">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-156">Configuration options</span></span>

<span data-ttu-id="c9457-157">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-157">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-158">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-158">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-remote-images"></a><span data-ttu-id="c9457-159">Externe afbeeldingen blokkeren</span><span class="sxs-lookup"><span data-stu-id="c9457-159">Block remote images</span></span>

### <a name="description"></a><span data-ttu-id="c9457-160">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-160">Description</span></span>

<span data-ttu-id="c9457-161">Als u externe afbeeldingen blokkeert, voorkomt u dat de toepassing bestanden laadt die worden gehost op een extern apparaat, zoals een UNC-share.</span><span class="sxs-lookup"><span data-stu-id="c9457-161">Blocking remote images helps to prevent the application from loading files that are hosted on a remote device, such as a UNC share.</span></span> <span data-ttu-id="c9457-162">Als u externe afbeeldingen blokkeert, kunt u voorkomen dat binaries worden geladen in het geheugen op een extern apparaat dat door de aanvaller wordt beheerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-162">Blocking remote images helps protect against loading binaries into memory that are on an external device controlled by the attacker.</span></span>

<span data-ttu-id="c9457-163">Deze beperking blokkeert het laden van afbeeldingen als de afbeelding wordt bepaald op een extern apparaat.</span><span class="sxs-lookup"><span data-stu-id="c9457-163">This mitigation will block image loads if the image is determined to be on a remote device.</span></span> <span data-ttu-id="c9457-164">Het wordt geïmplementeerd door de memory manager, die blokkeert dat het bestand in het geheugen wordt in kaart gebracht.</span><span class="sxs-lookup"><span data-stu-id="c9457-164">It is implemented by the memory manager, which blocks the file from being mapped into memory.</span></span> <span data-ttu-id="c9457-165">Als een toepassing een extern bestand in kaart probeert te brengen, wordt er een fout STATUS_ACCESS_DENIED veroorzaakt.</span><span class="sxs-lookup"><span data-stu-id="c9457-165">If an application attempts to map a remote file, it will trigger a STATUS_ACCESS_DENIED error.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-166">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-166">Compatibility considerations</span></span>

<span data-ttu-id="c9457-167">Als u externe afbeeldingen blokkeert, wordt voorkomen dat de toepassing afbeeldingen van externe apparaten laadt.</span><span class="sxs-lookup"><span data-stu-id="c9457-167">Block remote images will prevent the application from loading images from remote devices.</span></span> <span data-ttu-id="c9457-168">Als uw toepassing bestanden of inpluggen laadt vanaf externe apparaten, is deze niet compatibel met deze beperking.</span><span class="sxs-lookup"><span data-stu-id="c9457-168">If your application loads files or plug-ins from remote devices, then it will not be compatible with this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-169">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-169">Configuration options</span></span>

<span data-ttu-id="c9457-170">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-170">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-171">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-171">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-untrusted-fonts"></a><span data-ttu-id="c9457-172">Niet-vertrouwde lettertypen blokkeren</span><span class="sxs-lookup"><span data-stu-id="c9457-172">Block untrusted fonts</span></span>

### <a name="description"></a><span data-ttu-id="c9457-173">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-173">Description</span></span>

<span data-ttu-id="c9457-174">Als u niet-vertrouwde lettertypen blokkeert, verkleint u het risico op een fout in het parseren van lettertypen, waardoor de aanvaller code op het apparaat kan uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="c9457-174">Block untrusted fonts mitigates the risk of a flaw in font parsing leading to the attacker being able to run code on the device.</span></span> <span data-ttu-id="c9457-175">Alleen lettertypen die zijn geïnstalleerd in de windows\fonts-adreslijst, worden geladen voor verwerking door GDI.</span><span class="sxs-lookup"><span data-stu-id="c9457-175">Only fonts that are installed into the windows\fonts directory will be loaded for processing by GDI.</span></span>

<span data-ttu-id="c9457-176">Deze beperking wordt geïmplementeerd in GDI, waarmee de locatie van het bestand wordt gevalideerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-176">This mitigation is implemented within GDI, which validates the location of the file.</span></span> <span data-ttu-id="c9457-177">Als het bestand niet in de systeemlettertypenmap staat, wordt het lettertype niet geladen voor parsing en mislukt dat gesprek.</span><span class="sxs-lookup"><span data-stu-id="c9457-177">If the file is not in the system fonts directory, the font will not be loaded for parsing and that call will fail.</span></span>

<span data-ttu-id="c9457-178">Deze beperking is een aanvulling op de ingebouwde beperking die wordt geleverd in Windows 10 1607 en hoger, waardoor het parseren van lettertypen uit de kernel wordt verplaatst naar een app-container in de gebruikersmodus.</span><span class="sxs-lookup"><span data-stu-id="c9457-178">This mitigation is in addition to the built-in mitigation provided in Windows 10 1607 and later, which moves font parsing out of the kernel and into a user-mode app container.</span></span> <span data-ttu-id="c9457-179">Elke exploit op basis van het parseren van lettertypen vindt daarom plaats in een context met een sandbox en een geïsoleerde omgeving, waardoor het risico aanzienlijk wordt verkleind.</span><span class="sxs-lookup"><span data-stu-id="c9457-179">Any exploit based on font parsing, as a result, happens in a sandboxed and isolated context, which reduces the risk significantly.</span></span> <span data-ttu-id="c9457-180">Zie de blog Hardening Windows 10 met [zero-day exploit mitigaties](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/)voor meer informatie over deze beperking.</span><span class="sxs-lookup"><span data-stu-id="c9457-180">For details on this mitigation, see the blog [Hardening Windows 10 with zero-day exploit mitigations](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-181">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-181">Compatibility considerations</span></span>

<span data-ttu-id="c9457-182">Het meest voorkomende gebruik van lettertypen buiten de systeemlettertypenmap is met [weblettertypen.](/typography/fonts/font-faq#web)</span><span class="sxs-lookup"><span data-stu-id="c9457-182">The most common use of fonts outside of the system fonts directory is with [web fonts](/typography/fonts/font-faq#web).</span></span> <span data-ttu-id="c9457-183">Moderne browsers, zoals Microsoft Edge, gebruiken DirectWrite in plaats van GDI en worden niet beïnvloed.</span><span class="sxs-lookup"><span data-stu-id="c9457-183">Modern browsers, such as Microsoft Edge, use DirectWrite instead of GDI, and are not impacted.</span></span> <span data-ttu-id="c9457-184">Oudere browsers, zoals Internet Explorer 11 (en de IE-modus in de nieuwe Microsoft Edge) kunnen echter worden beïnvloed, met name bij toepassingen zoals Office 365, die lettertype-glyphs gebruiken om de gebruikersinterface weer te geven.</span><span class="sxs-lookup"><span data-stu-id="c9457-184">However, legacy browsers, such as Internet Explorer 11 (and IE mode in the new Microsoft Edge) can be impacted, particularly with applications such as Office 365, which use font glyphs to display UI.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-185">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-185">Configuration options</span></span>

<span data-ttu-id="c9457-186">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-186">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-187">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-187">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="code-integrity-guard"></a><span data-ttu-id="c9457-188">Codeintegriteitswacht</span><span class="sxs-lookup"><span data-stu-id="c9457-188">Code integrity guard</span></span>

### <a name="description"></a><span data-ttu-id="c9457-189">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-189">Description</span></span>

<span data-ttu-id="c9457-190">Codeintegriteitsbewaking zorgt ervoor dat alle binaries die in een proces zijn geladen, digitaal worden ondertekend door Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c9457-190">Code integrity guard ensures that all binaries loaded into a process are digitally signed by Microsoft.</span></span> <span data-ttu-id="c9457-191">Code integrity guard bevat [WHQL-handtekeningen](/windows-hardware/drivers/install/whql-release-signature) (Windows Hardware Quality Labs), waarmee door WHQL goedgekeurde stuurprogramma's binnen het proces kunnen worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-191">Code integrity guard includes [WHQL](/windows-hardware/drivers/install/whql-release-signature) (Windows Hardware Quality Labs) signatures, which will allow WHQL-approved drivers to run within the process.</span></span>

<span data-ttu-id="c9457-192">Deze beperking wordt geïmplementeerd in de memory manager, waardoor de binaire optie niet in het geheugen wordt toegesneden.</span><span class="sxs-lookup"><span data-stu-id="c9457-192">This mitigation is implemented within the memory manager, which blocks the binary from being mapped into memory.</span></span> <span data-ttu-id="c9457-193">Als u probeert een binair te laden dat niet is ondertekend door Microsoft, retourneerd de geheugenmanger de foutmelding STATUS_INVALID_IMAGE_HASH.</span><span class="sxs-lookup"><span data-stu-id="c9457-193">If you attempt to load a binary that is not signed by Microsoft, the memory manger will return the error STATUS_INVALID_IMAGE_HASH.</span></span> <span data-ttu-id="c9457-194">Door het blokkeren op het niveau van memory manager voorkomt u dat zowel binaries die worden geladen door het proces als binaries die in het proces zijn ingespoten, worden geladen.</span><span class="sxs-lookup"><span data-stu-id="c9457-194">By blocking at the memory manager level, this prevents both binaries loaded by the process and binaries injected into the process.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-195">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-195">Compatibility considerations</span></span>

<span data-ttu-id="c9457-196">Deze beperking blokkeert specifiek elke binaire optie die niet door Microsoft is ondertekend.</span><span class="sxs-lookup"><span data-stu-id="c9457-196">This mitigation specifically blocks any binary that is not signed by Microsoft.</span></span> <span data-ttu-id="c9457-197">Als zodanig is deze niet compatibel met de meeste software van derden, tenzij deze software wordt gedistribueerd door (en digitaal ondertekend door) de Microsoft Store en de optie om het laden van afbeeldingen die door de Microsoft Store zijn ondertekend, is geselecteerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-197">As such, it will be incompatible with most third-party software, unless that software is distributed by (and digitally signed by) the Microsoft Store, and the option to allow loading of images signed by the Microsoft Store is selected.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-198">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-198">Configuration options</span></span>

<span data-ttu-id="c9457-199">U kunt ook het laden toestaan van afbeeldingen die zijn ondertekend door **Microsoft Store:** toepassingen die door de Microsoft Store worden gedistribueerd, worden digitaal ondertekend door de Microsoft Store. Als u deze configuratie toevoegt, kunnen binaries die het certificeringsproces voor de store hebben doorlopen, door de toepassing worden geladen.</span><span class="sxs-lookup"><span data-stu-id="c9457-199">**Also allow loading of images signed by Microsoft Store** - Applications that are distributed by the Microsoft Store will be digitally signed by the Microsoft Store, and adding this configuration will allow binaries that have gone through the store certification process to be loaded by the application.</span></span>

<span data-ttu-id="c9457-200">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-200">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-201">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-201">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="control-flow-guard-cfg"></a><span data-ttu-id="c9457-202">Control Flow Guard (CFG)</span><span class="sxs-lookup"><span data-stu-id="c9457-202">Control flow guard (CFG)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-203">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-203">Description</span></span>

<span data-ttu-id="c9457-204">Control Flow Guard (CFG) beperkt het risico van aanvallers met geheugencorruptieproblemen door indirecte functieoproepen te beschermen.</span><span class="sxs-lookup"><span data-stu-id="c9457-204">Control flow guard (CFG) mitigates the risk of attackers using memory corruption vulnerabilities by protecting indirect function calls.</span></span> <span data-ttu-id="c9457-205">Een aanvaller kan bijvoorbeeld een bufferoverloopprobleem gebruiken om geheugen met een functie-aanwijzer te overschrijven en deze functiewijzer te vervangen door een aanwijzer voor uitvoerbare code naar keuze (die mogelijk ook in het programma is ingespoten).</span><span class="sxs-lookup"><span data-stu-id="c9457-205">For example, an attacker may user a buffer overflow vulnerability to overwrite memory containing a function pointer, and replace that function pointer with a pointer to executable code of their choice (which may also have been injected into the program).</span></span>

<span data-ttu-id="c9457-206">Deze beperking wordt geboden door een andere controle tijdens het compileren in te stellen.</span><span class="sxs-lookup"><span data-stu-id="c9457-206">This mitigation is provided by injecting another check at compile time.</span></span> <span data-ttu-id="c9457-207">Vóór elke indirecte functieoproep worden er nog andere instructies toegevoegd om te controleren of het doel een geldig gespreksdoel is voordat het wordt aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="c9457-207">Before each indirect function call, another instructions are added which verify that the target is a valid call target before it is called.</span></span> <span data-ttu-id="c9457-208">Als het doel geen geldig gespreksdoel is, wordt de toepassing beëindigd.</span><span class="sxs-lookup"><span data-stu-id="c9457-208">If the target is not a valid call target, then the application is terminated.</span></span> <span data-ttu-id="c9457-209">Als zodanig kunnen alleen toepassingen die zijn gecompileerd met CFG-ondersteuning profiteren van deze beperking.</span><span class="sxs-lookup"><span data-stu-id="c9457-209">As such, only applications that are compiled with CFG support can benefit from this mitigation.</span></span>

<span data-ttu-id="c9457-210">De controle op een geldig doel wordt geleverd door de Windows kernel.</span><span class="sxs-lookup"><span data-stu-id="c9457-210">The check for a valid target is provided by the Windows kernel.</span></span> <span data-ttu-id="c9457-211">Wanneer uitvoerbare bestanden worden geladen, worden de metagegevens voor indirecte oproepdoelen bij laadtijd geëxtraheerd en gemarkeerd als geldige gespreksdoelen.</span><span class="sxs-lookup"><span data-stu-id="c9457-211">When executable files are loaded, the metadata for indirect call targets is extracted at load time and marked as valid call targets.</span></span> <span data-ttu-id="c9457-212">Wanneer geheugen wordt toegewezen en gemarkeerd als uitvoerbaar (zoals voor gegenereerde code), worden deze geheugenlocaties ook gemarkeerd als geldige gespreksdoelen, ter ondersteuning van mechanismen zoals JIT-compilatie.</span><span class="sxs-lookup"><span data-stu-id="c9457-212">Additionally, when memory is allocated and marked as executable (such as for generated code), these memory locations are also marked as valid call targets, to support mechanisms such as JIT compilation.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-213">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-213">Compatibility considerations</span></span>

<span data-ttu-id="c9457-214">Aangezien toepassingen moeten worden gecompileerd ter ondersteuning van CFG, verklaren ze impliciet hun compatibiliteit met cfg.</span><span class="sxs-lookup"><span data-stu-id="c9457-214">Since applications must be compiled to support CFG, they implicitly declare their compatibility with it.</span></span> <span data-ttu-id="c9457-215">De meeste toepassingen moeten daarom werken met deze beperking ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c9457-215">Most applications, therefore, should work with this mitigation enabled.</span></span> <span data-ttu-id="c9457-216">Omdat deze controles worden gecompileerd in het binaire bestand, is de configuratie die u kunt toepassen alleen maar om controles uit te schakelen in de Windows kernel.</span><span class="sxs-lookup"><span data-stu-id="c9457-216">Because these checks are compiled into the binary, the configuration you can apply is merely to disable checks within the Windows kernel.</span></span> <span data-ttu-id="c9457-217">Met andere woorden, de beperking is standaard ingeschakeld, maar u kunt de Windows-kernel zo configureren dat deze altijd 'ja' retourneert als u later vast stelt dat er een compatibiliteitsprobleem is dat de ontwikkelaar van de toepassing niet heeft ontdekt tijdens het testen, wat zeldzaam moet zijn.</span><span class="sxs-lookup"><span data-stu-id="c9457-217">In other words, the mitigation is on by default, but you can configure the Windows kernel to always return "yes" if you later determine that there is a compatibility issue that the application developer did not discover in their testing, which should be rare.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-218">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-218">Configuration options</span></span>

<span data-ttu-id="c9457-219">**Strikt CFG** gebruiken: in de strikte modus moeten alle binaries die in het proces zijn geladen, worden gecompileerd voor Control Flow Guard (of moeten er geen uitvoerbare code in staan, zoals resourcedlls) om te kunnen worden geladen.</span><span class="sxs-lookup"><span data-stu-id="c9457-219">**Use strict CFG** - In strict mode, all binaries loaded into the process must be compiled for Control Flow Guard (or have no executable code in them - such as resource dlls) in order to be loaded.</span></span>

> [!Note]
> <span data-ttu-id="c9457-220">**Control Flow Guard** heeft geen auditmodus.</span><span class="sxs-lookup"><span data-stu-id="c9457-220">**Control flow guard** has no audit mode.</span></span> <span data-ttu-id="c9457-221">Binaries worden gecompileerd met deze beperking ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c9457-221">Binaries are compiled with this mitigation enabled.</span></span>

## <a name="data-execution-prevention-dep"></a><span data-ttu-id="c9457-222">Preventie van gegevensuitvoering (DEP)</span><span class="sxs-lookup"><span data-stu-id="c9457-222">Data Execution Prevention (DEP)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-223">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-223">Description</span></span>

<span data-ttu-id="c9457-224">Preventie van gegevensuitvoering (DEP) voorkomt dat geheugen dat niet expliciet als uitvoerbaar is toegewezen, wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-224">Data execution prevention (DEP) prevents memory that was not explicitly allocated as executable from being executed.</span></span> <span data-ttu-id="c9457-225">DEP helpt u te beschermen tegen een aanvaller die schadelijke code in het proces injecteert, bijvoorbeeld via een bufferoverloop en vervolgens die code uit te voeren.</span><span class="sxs-lookup"><span data-stu-id="c9457-225">DEP helps protect against an attacker injecting malicious code into the process, such as through a buffer overflow, and then executing that code.</span></span>

<span data-ttu-id="c9457-226">Als u probeert de instructieaanwijzer in te stellen op een geheugenadres dat niet is gemarkeerd als uitvoerbaar, wordt er een uitzondering (algemene beveiligingsovertreding) gegeven, waardoor de toepassing vast loopt.</span><span class="sxs-lookup"><span data-stu-id="c9457-226">If you attempt to set the instruction pointer to a memory address not marked as executable, the processor will throw an exception (general-protection violation), causing the application to crash.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-227">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-227">Compatibility considerations</span></span>

<span data-ttu-id="c9457-228">Alle x64 ARM en ARM-64 uitvoerbare bestanden hebben standaard DEP ingeschakeld en kunnen niet worden uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c9457-228">All x64, ARM, and ARM-64 executables have DEP enabled by default, and it cannot be disabled.</span></span> <span data-ttu-id="c9457-229">Aangezien een toepassing nooit zonder DEP is uitgevoerd, wordt uitgegaan van compatibiliteit.</span><span class="sxs-lookup"><span data-stu-id="c9457-229">Since an application will have never been executed without DEP, compatibility is assumed.</span></span>

<span data-ttu-id="c9457-230">Alle x86-binaries (32-bits) hebben standaard DEP ingeschakeld, maar DEP kan per proces worden uitgeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c9457-230">All x86 (32-bit) binaries have DEP enabled by default, but DEP can be disabled per process.</span></span> <span data-ttu-id="c9457-231">Sommige oude oudere toepassingen, meestal toepassingen die zijn ontwikkeld vóór Windows XP SP2, zijn mogelijk niet compatibel met DEP.</span><span class="sxs-lookup"><span data-stu-id="c9457-231">Some old legacy applications, typically applications developed prior to Windows XP SP2, might not be compatible with DEP.</span></span> <span data-ttu-id="c9457-232">Dergelijke toepassingen genereren meestal code dynamisch (bijvoorbeeld JIT-compileren) of koppelen aan oudere bibliotheken (zoals oudere versies van ATL) die dynamisch code genereren.</span><span class="sxs-lookup"><span data-stu-id="c9457-232">Such applications typically generate code dynamically (for example, JIT compiling) or link to older libraries (such as older versions of ATL) which dynamically generate code.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-233">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-233">Configuration options</span></span>

<span data-ttu-id="c9457-234">**ATL Thunk-emulatie inschakelen:** met deze configuratieoptie schakelt u ATL Thunk-emulatie uit.</span><span class="sxs-lookup"><span data-stu-id="c9457-234">**Enable ATL Thunk emulation** - This configuration option disables ATL Thunk emulation.</span></span> <span data-ttu-id="c9457-235">ATL, de ActiveX sjabloonbibliotheek, is ontworpen om zo klein en snel mogelijk te zijn.</span><span class="sxs-lookup"><span data-stu-id="c9457-235">ATL, the ActiveX Template Library, is designed to be as small and fast as possible.</span></span> <span data-ttu-id="c9457-236">Om de binaire grootte te verkleinen, wordt een techniek gebruikt die *thunking wordt genoemd.*</span><span class="sxs-lookup"><span data-stu-id="c9457-236">In order to reduce binary size, it would use a technique called *thunking*.</span></span> <span data-ttu-id="c9457-237">Thunking wordt meestal gebruikt voor de interactie tussen 32-bits en 16-bits toepassingen, maar er zijn hier geen 16-bits onderdelen in ATL.</span><span class="sxs-lookup"><span data-stu-id="c9457-237">Thunking is typically thought of for interacting between 32-bit and 16-bit applications, but there are no 16-bit components to ATL here.</span></span> <span data-ttu-id="c9457-238">Om de binaire grootte te optimaliseren, wordt in ATL machinecode in het geheugen opgeslagen die niet is uitgelijnd (waardoor een kleiner binair getal wordt gemaakt) en wordt deze code vervolgens rechtstreeks aanroepen.</span><span class="sxs-lookup"><span data-stu-id="c9457-238">Rather, in order to optimize for binary size, ATL will store machine code in memory that is not word-aligned (creating a smaller binary), and then invoke that code directly.</span></span> <span data-ttu-id="c9457-239">ATL-onderdelen die zijn gecompileerd met Visual Studio 7.1 of eerder (Visual Studio 2003) wijzen dit geheugen niet toe als uitvoerbaar. Thunk-emulatie lost dat compatibiliteitsprobleem op.</span><span class="sxs-lookup"><span data-stu-id="c9457-239">ATL components compiled with Visual Studio 7.1 or earlier (Visual Studio 2003) do not allocate this memory as executable - thunk emulation resolves that compatibility issue.</span></span> <span data-ttu-id="c9457-240">Toepassingen met een binair extensiemodel (zoals Internet Explorer 11) moeten vaak ATL Thunk-emulatie hebben ingeschakeld.</span><span class="sxs-lookup"><span data-stu-id="c9457-240">Applications that have a binary extension model (such as Internet Explorer 11) will often need to have ATL Thunk emulation enabled.</span></span>

## <a name="disable-extension-points"></a><span data-ttu-id="c9457-241">Uitbreidingspunten uitschakelen</span><span class="sxs-lookup"><span data-stu-id="c9457-241">Disable extension points</span></span>

### <a name="description"></a><span data-ttu-id="c9457-242">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-242">Description</span></span>

<span data-ttu-id="c9457-243">Met deze beperking worden verschillende uitbreidingspunten voor een toepassing uitgeschakeld, die kunnen worden gebruikt om persistentie vast te stellen of om de bevoegdheden van schadelijke inhoud te verhogen.</span><span class="sxs-lookup"><span data-stu-id="c9457-243">This mitigation disables various extension points for an application, which might be used to establish persistence or elevate privileges of malicious content.</span></span>

<span data-ttu-id="c9457-244">Dit zijn:</span><span class="sxs-lookup"><span data-stu-id="c9457-244">This includes:</span></span>

- <span data-ttu-id="c9457-245">**AppInit-DLL's:** wanneer een proces wordt gestart, wordt de opgegeven DLL in de context van het nieuw gestarte proces geladen voordat de functie van het invoerpunt wordt gebeld.</span><span class="sxs-lookup"><span data-stu-id="c9457-245">**AppInit DLLs** - Whenever a process starts, the system will load the specified DLL into to context of the newly started process before calling its entry point function.</span></span> <span data-ttu-id="c9457-246">[Details over AppInit-DLL's vindt u hier.](/windows/win32/winmsg/about-window-classes#application-global-classes)</span><span class="sxs-lookup"><span data-stu-id="c9457-246">[Details on AppInit DLLs can be found here](/windows/win32/winmsg/about-window-classes#application-global-classes).</span></span> <span data-ttu-id="c9457-247">Als deze beperking is toegepast, worden appInit-DLL's niet geladen.</span><span class="sxs-lookup"><span data-stu-id="c9457-247">With this mitigation applied, AppInit DLLs are not loaded.</span></span> <span data-ttu-id="c9457-248">Vanaf Windows 7 moeten AppInit-DLL's digitaal worden ondertekend, [zoals hier wordt beschreven.](/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2)</span><span class="sxs-lookup"><span data-stu-id="c9457-248">Beginning with Windows 7, AppInit DLLs need to be digitally signed, [as described here](/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2).</span></span> <span data-ttu-id="c9457-249">Bovendien worden vanaf Windows 8 appInit-DLL's niet geladen als SecureBoot is ingeschakeld, zoals [hier wordt beschreven.](/windows/win32/dlls/secure-boot-and-appinit-dlls)</span><span class="sxs-lookup"><span data-stu-id="c9457-249">Additionally, beginning with Windows 8, AppInit DLLs will not be loaded if SecureBoot is enabled, [as described here](/windows/win32/dlls/secure-boot-and-appinit-dlls).</span></span>
- <span data-ttu-id="c9457-250">**Oudere chatberichten:** met een inputmethodeeditor (IME) kan een gebruiker tekst typen in een taal die meer tekens heeft dan op een toetsenbord kan worden weergegeven.</span><span class="sxs-lookup"><span data-stu-id="c9457-250">**Legacy IMEs** - An Input Method Editor (IME) allows a user to type text in a language that has more characters than can be represented on a keyboard.</span></span> <span data-ttu-id="c9457-251">Derden kunnen chatberichten maken.</span><span class="sxs-lookup"><span data-stu-id="c9457-251">Third parties are able to create IMEs.</span></span> <span data-ttu-id="c9457-252">Een schadelijke IME kan referenties of andere gevoelige informatie verkrijgen uit deze invoeropname.</span><span class="sxs-lookup"><span data-stu-id="c9457-252">A malicious IME might obtain credentials or other sensitive information from this input capture.</span></span> <span data-ttu-id="c9457-253">Sommige chatberichten, ook wel oudere chatberichten genoemd, werken alleen Windows bureaublad-apps, en niet uwp-apps.</span><span class="sxs-lookup"><span data-stu-id="c9457-253">Some IMEs, referred to as Legacy IMEs, will only work on Windows Desktop apps, and not UWP apps.</span></span> <span data-ttu-id="c9457-254">Deze beperking voorkomt ook dat deze oudere IME wordt geladen in de opgegeven Windows bureaublad-app.</span><span class="sxs-lookup"><span data-stu-id="c9457-254">This mitigation will also prevent this legacy IME from loading into the specified Windows Desktop app.</span></span>
- <span data-ttu-id="c9457-255">**Windows Gebeurtenishaken:** een toepassing kan de [SetWinEventHook-API](/windows/win32/api/winuser/nf-winuser-setwineventhook) bellen om de interesse te registreren voor een gebeurtenis die plaatsvindt.</span><span class="sxs-lookup"><span data-stu-id="c9457-255">**Windows Event Hooks** - An application can call the [SetWinEventHook API](/windows/win32/api/winuser/nf-winuser-setwineventhook) to register interest in an event taking place.</span></span> <span data-ttu-id="c9457-256">Er wordt een DLL opgegeven en deze kan in het proces worden ingespoten.</span><span class="sxs-lookup"><span data-stu-id="c9457-256">A DLL is specified and can be injected into the process.</span></span> <span data-ttu-id="c9457-257">Deze beperking dwingt de haak om te worden geplaatst bij het registratieproces in plaats van dat de procedure wordt uitgevoerd via een geïnjecteerde DLL.</span><span class="sxs-lookup"><span data-stu-id="c9457-257">This mitigation forces the hook to be posted to the registering process rather than running in-process through an injected DLL.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-258">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-258">Compatibility considerations</span></span>

<span data-ttu-id="c9457-259">De meeste van deze uitbreidingspunten worden relatief zelden gebruikt, dus de compatibiliteitseffecten zijn meestal klein, met name op individueel toepassingsniveau.</span><span class="sxs-lookup"><span data-stu-id="c9457-259">Most of these extension points are relatively infrequently used, so compatibility impact is typically small, particularly at an individual application level.</span></span> <span data-ttu-id="c9457-260">De enige overweging is als gebruikers oudere chatberichten van derden gebruiken die niet met de beveiligde toepassing werken.</span><span class="sxs-lookup"><span data-stu-id="c9457-260">The one consideration is if users are using third-party Legacy IMEs that will not work with the protected application.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-261">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-261">Configuration options</span></span>

<span data-ttu-id="c9457-262">Er zijn geen configuratieopties voor deze beperking.</span><span class="sxs-lookup"><span data-stu-id="c9457-262">There are no configuration options for this mitigation.</span></span>

> [!Note]
> <span data-ttu-id="c9457-263">**Uitbreidingspunten uitschakelen** heeft geen auditmodus.</span><span class="sxs-lookup"><span data-stu-id="c9457-263">**Disable extension points** has no audit mode.</span></span>

## <a name="disable-win32k-system-calls"></a><span data-ttu-id="c9457-264">Win32k-systeemoproepen uitschakelen</span><span class="sxs-lookup"><span data-stu-id="c9457-264">Disable Win32k system calls</span></span>

### <a name="description"></a><span data-ttu-id="c9457-265">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-265">Description</span></span>

<span data-ttu-id="c9457-266">Win32k.sys biedt een breed aanvalsoppervlak voor een aanvaller.</span><span class="sxs-lookup"><span data-stu-id="c9457-266">Win32k.sys provides a broad attack surface for an attacker.</span></span> <span data-ttu-id="c9457-267">Als onderdeel van de kernelmodus is het vaak bedoeld als een escape-vector voor toepassingen met een sandbox.</span><span class="sxs-lookup"><span data-stu-id="c9457-267">As a kernel-mode component, it is frequently targeted as an escape vector for applications that are sandboxed.</span></span> <span data-ttu-id="c9457-268">Deze beperking voorkomt dat oproepen in win32k.sys door te blokkeren dat een thread zichzelf converteert naar een GUI-thread, die vervolgens toegang krijgt om Win32k-functies aan te roepen.</span><span class="sxs-lookup"><span data-stu-id="c9457-268">This mitigation prevents calls into win32k.sys by blocking a thread from converting itself into a GUI thread, which is then given access to invoke Win32k functions.</span></span> <span data-ttu-id="c9457-269">Een thread is niet-GUI wanneer deze wordt gemaakt, maar wordt geconverteerd bij het eerste gesprek naar win32k.sys of via een API-oproep naar [IsGuiThread.](/windows/win32/api/winuser/nf-winuser-isguithread)</span><span class="sxs-lookup"><span data-stu-id="c9457-269">A thread is non-GUI when created, but converted on first call to win32k.sys, or through an API call to [IsGuiThread](/windows/win32/api/winuser/nf-winuser-isguithread).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-270">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-270">Compatibility considerations</span></span>

<span data-ttu-id="c9457-271">Deze beperking is ontworpen voor processen die zijn toegewezen niet-gebruikersinterfaceprocessen.</span><span class="sxs-lookup"><span data-stu-id="c9457-271">This mitigation is designed for processes that are dedicated non-UI processes.</span></span> <span data-ttu-id="c9457-272">In veel moderne browsers wordt bijvoorbeeld procesisolatie gebruikt en worden niet-gebruikersinterfaceprocessen opgenomen.</span><span class="sxs-lookup"><span data-stu-id="c9457-272">For example, many modern browsers will use process isolation and incorporate non-UI processes.</span></span> <span data-ttu-id="c9457-273">Elke toepassing die een GUI wekt met één proces, wordt beïnvloed door deze beperking.</span><span class="sxs-lookup"><span data-stu-id="c9457-273">Any application that displays a GUI using a single process will be impacted by this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-274">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-274">Configuration options</span></span>

<span data-ttu-id="c9457-275">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-275">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-276">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-276">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="do-not-allow-child-processes"></a><span data-ttu-id="c9457-277">Onderliggende processen niet toestaan</span><span class="sxs-lookup"><span data-stu-id="c9457-277">Do not allow child processes</span></span>

### <a name="description"></a><span data-ttu-id="c9457-278">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-278">Description</span></span>

<span data-ttu-id="c9457-279">Deze beperking voorkomt dat een toepassing nieuwe onderliggende toepassingen maakt.</span><span class="sxs-lookup"><span data-stu-id="c9457-279">This mitigation prevents an application from creating new child applications.</span></span> <span data-ttu-id="c9457-280">Een veelgebruikte techniek die door tegenstanders wordt gebruikt, is het starten van een vertrouwd proces op het apparaat met schadelijke input (een 'living off the land'-aanval), waarbij vaak een andere toepassing op het apparaat moet worden gestart.</span><span class="sxs-lookup"><span data-stu-id="c9457-280">A common technique used by adversaries is to initiate a trusted process on the device with malicious input (a "living off the land" attack), which often requires launching another application on the device.</span></span> <span data-ttu-id="c9457-281">Als er geen legitieme redenen zijn waarom een toepassing een onderliggend proces zou starten, wordt deze mogelijke aanvalsvector beperkt door deze beperking.</span><span class="sxs-lookup"><span data-stu-id="c9457-281">If there are no legitimate reasons why an application would launch a child process, this mitigation mitigates that potential attack vector.</span></span> <span data-ttu-id="c9457-282">De beperking wordt toegepast door een eigenschap in te stellen op het proces-token, waardoor het maken van een token voor het onderliggende proces met het foutbericht STATUS_CHILD_PROCESS_BLOCKED.</span><span class="sxs-lookup"><span data-stu-id="c9457-282">The mitigation is applied by setting a property on the process token, which blocks creating a token for the child process with the error message STATUS_CHILD_PROCESS_BLOCKED.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-283">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-283">Compatibility considerations</span></span>

<span data-ttu-id="c9457-284">Als uw toepassing om welke reden dan ook onderliggende toepassingen start, zoals ondersteunende hyperlinks waarmee een browser of een externe browser wordt geopend, of die andere hulpprogramma's op de computer starten, wordt deze functionaliteit verbroken wanneer deze beperking wordt toegepast.</span><span class="sxs-lookup"><span data-stu-id="c9457-284">If your application launches child applications for any reason, such as supporting hyperlinks that launch a browser or an external browser, or which launch other utilities on the computer, this functionality will be broken with this mitigation applied.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-285">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-285">Configuration options</span></span>

<span data-ttu-id="c9457-286">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-286">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-287">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-287">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="export-address-filtering"></a><span data-ttu-id="c9457-288">Adresfilters exporteren</span><span class="sxs-lookup"><span data-stu-id="c9457-288">Export address filtering</span></span>

### <a name="description"></a><span data-ttu-id="c9457-289">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-289">Description</span></span>

<span data-ttu-id="c9457-290">Met EAF (Export address filtering) wordt het risico beperkt dat schadelijke code de exportadrestabel van alle geladen modules bevat om modules te vinden die nuttige API's bevatten voor hun aanval.</span><span class="sxs-lookup"><span data-stu-id="c9457-290">Export address filtering (EAF) mitigates the risk of malicious code looking at the export address table of all loaded modules to find modules that contain useful APIs for their attack.</span></span> <span data-ttu-id="c9457-291">Dit is een veelgebruikte tactiek die door shellcode wordt gebruikt.</span><span class="sxs-lookup"><span data-stu-id="c9457-291">This is a common tactic used by shellcode.</span></span> <span data-ttu-id="c9457-292">Om het risico van een dergelijke aanval te beperken, beschermt deze beperking drie veelgebruikte modules:</span><span class="sxs-lookup"><span data-stu-id="c9457-292">In order to mitigate the risk of such an attack, this mitigation protects three commonly attacked modules:</span></span>

- <span data-ttu-id="c9457-293">ntdll.dll</span><span class="sxs-lookup"><span data-stu-id="c9457-293">ntdll.dll</span></span>
- <span data-ttu-id="c9457-294">kernelbase.dll</span><span class="sxs-lookup"><span data-stu-id="c9457-294">kernelbase.dll</span></span>
- <span data-ttu-id="c9457-295">kernel32.dll</span><span class="sxs-lookup"><span data-stu-id="c9457-295">kernel32.dll</span></span>

<span data-ttu-id="c9457-296">De beperking beschermt de geheugenpagina in de [exportadreslijst die naar de [exportadrestabel wijst](/windows/win32/debug/pe-format#export-address-table).</span><span class="sxs-lookup"><span data-stu-id="c9457-296">The mitigation protects the memory page in the [export directory that points to the [export address table](/windows/win32/debug/pe-format#export-address-table).</span></span> <span data-ttu-id="c9457-297">Op deze geheugenpagina wordt de [PAGE_GUARD](/windows/win32/memory/creating-guard-pages) toegepast.</span><span class="sxs-lookup"><span data-stu-id="c9457-297">This memory page will have the [PAGE_GUARD](/windows/win32/memory/creating-guard-pages) protection applied to it.</span></span> <span data-ttu-id="c9457-298">Wanneer iemand dit geheugen probeert te openen, wordt er een STATUS_GUARD_PAGE_VIOLATION.</span><span class="sxs-lookup"><span data-stu-id="c9457-298">When someone tries to access this memory, it will generate a STATUS_GUARD_PAGE_VIOLATION.</span></span> <span data-ttu-id="c9457-299">Met de beperking wordt deze uitzondering verwerkt en als de toegangsinstructie niet wordt gevalideerd, wordt het proces beëindigd.</span><span class="sxs-lookup"><span data-stu-id="c9457-299">The mitigation handles this exception, and if the accessing instruction doesn't pass validation, the process will be terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-300">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-300">Compatibility considerations</span></span>

<span data-ttu-id="c9457-301">Deze beperking is voornamelijk een probleem voor toepassingen zoals foutopsporing, sandbox-toepassingen, toepassingen met DRM of toepassingen die anti-foutopsporingstechnologie implementeren.</span><span class="sxs-lookup"><span data-stu-id="c9457-301">This mitigation is primarily an issue for applications such as debuggers, sandboxed applications, applications using DRM, or applications that implement anti-debugging technology.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-302">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-302">Configuration options</span></span>

<span data-ttu-id="c9457-303">**Toegang valideren voor modules** die vaak worden misbruikt door exploits- Met deze optie, ook wel bekend als EAF+, worden beveiligingen toegevoegd voor andere veelgebruikte modules:</span><span class="sxs-lookup"><span data-stu-id="c9457-303">**Validate access for modules that are commonly abused by exploits** - This option, also known as EAF+, adds protections for other commonly attacked modules:</span></span>

- `mshtml.dll`
- `flash*.ocx`
- `jscript*.ocx`
- `vbscript.dll`
- `vgx.dll`
- `mozjs.dll`
- `xul.dll`
- `acrord32.dll`
- `acrofx32.dll`
- `acroform.api`

<span data-ttu-id="c9457-304">Door EAF+ in te stellen, wordt met deze beperking bovendien de PAGE_GUARD-beveiliging toegevoegd aan de pagina met de koptekst 'MZ', de eerste twee bytes van de [DOS-koptekst in](/windows/win32/debug/pe-format#ms-dos-stub-image-only)een PE-bestand. Dit is een ander aspect van bekende geheugeninhoud waar shellcode naar kan zoeken om modules te identificeren die mogelijk interessant zijn voor geheugen.</span><span class="sxs-lookup"><span data-stu-id="c9457-304">Additionally, by enabling EAF+, this mitigation adds the PAGE_GUARD protection to the page containing the "MZ" header, the first two bytes of the [DOS header in a PE file](/windows/win32/debug/pe-format#ms-dos-stub-image-only), which is another aspect of known memory content which shellcode can look for to identify modules potentially of interest in memory.</span></span>

<span data-ttu-id="c9457-305">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-305">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-306">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-306">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="force-randomization-for-images-mandatory-aslr"></a><span data-ttu-id="c9457-307">Randomisatie forceer voor afbeeldingen (Verplichte ASLR)</span><span class="sxs-lookup"><span data-stu-id="c9457-307">Force randomization for images (Mandatory ASLR)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-308">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-308">Description</span></span>

<span data-ttu-id="c9457-309">AsLR (Address Space Layout Randomization) verkleint het risico dat een aanvaller zijn kennis van de geheugenindeling van het systeem gebruikt om code uit te voeren die al aanwezig is in het procesgeheugen en die al als uitvoerbaar is gemarkeerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-309">Address Space Layout Randomization (ASLR) mitigates the risk of an attacker using their knowledge of the memory layout of the system in order to execute code that is already present in process memory and already marked as executable.</span></span> <span data-ttu-id="c9457-310">Dit kan het risico van een aanvaller beperken met behulp van technieken zoals return-to-libc-aanvallen, waarbij de aanvaller de context in stelt en vervolgens het retouradres wijzigt om bestaande code uit te voeren met context die past bij het doel van de aanvaller.</span><span class="sxs-lookup"><span data-stu-id="c9457-310">This can mitigate the risk of an attacker using techniques such as return-to-libc attacks, where the adversary sets the context and then modifies the return address to execute existing code with context that suits the adversary's purpose.</span></span>

<span data-ttu-id="c9457-311">Verplichte ASLR dwingt een rebase van alle DLL's in het proces.</span><span class="sxs-lookup"><span data-stu-id="c9457-311">Mandatory ASLR forces a rebase of all DLLs within the process.</span></span> <span data-ttu-id="c9457-312">Een ontwikkelaar kan ASLR inschakelen met [de optie /DYNAMICBASE](/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2019&preserve-view=true) linker en deze beperking heeft hetzelfde effect.</span><span class="sxs-lookup"><span data-stu-id="c9457-312">A developer can enable ASLR using the [/DYNAMICBASE](/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2019&preserve-view=true) linker option, and this mitigation has the same effect.</span></span>

<span data-ttu-id="c9457-313">Wanneer de geheugenbeheerder de afbeelding inwijdt in het proces, worden DLL's en EXE's die niet zijn geregistreerd voor ASLR, door Verplichte ASLR geconverteerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-313">When the memory manager is mapping in the image into the process, Mandatory ASLR will forcibly rebase DLLs and EXEs that have not opted in to ASLR.</span></span> <span data-ttu-id="c9457-314">Houd er echter rekening mee dat deze rebasing geen entropie heeft en daarom op een voorspelbare locatie in het geheugen kan worden geplaatst.</span><span class="sxs-lookup"><span data-stu-id="c9457-314">Note, however, that this rebasing has no entropy, and can therefore be placed at a predictable location in memory.</span></span> <span data-ttu-id="c9457-315">Voor een rebased en gerandomiseerde locatie van binaries moet deze beperking worden gekoppeld aan [Randomize memory allocations (Bottom-up ASLR).](#randomize-memory-allocations-bottom-up-aslr)</span><span class="sxs-lookup"><span data-stu-id="c9457-315">For rebased and randomized location of binaries, this mitigation should be paired with [Randomize memory allocations (Bottom-up ASLR)](#randomize-memory-allocations-bottom-up-aslr).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-316">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-316">Compatibility considerations</span></span>

<span data-ttu-id="c9457-317">Deze compatibiliteitseffecten van ASLR worden meestal beperkt tot oudere toepassingen die zijn gemaakt met compilers die aannames hebben gedaan over het basisadres van een binair bestand of basisverplaatsingsgegevens hebben verwijderd.</span><span class="sxs-lookup"><span data-stu-id="c9457-317">This compatibility impact of ASLR is typically constrained to older applications that were built using compilers that made assumptions about the base address of a binary file or have stripped out base relocation information.</span></span> <span data-ttu-id="c9457-318">Dit kan leiden tot onvoorspelbare fouten wanneer de uitvoeringsstroom naar de verwachte locatie probeert te gaan in plaats van naar de werkelijke locatie in het geheugen.</span><span class="sxs-lookup"><span data-stu-id="c9457-318">This can lead to unpredictable errors as the execution flow attempts to jump to the expected, rather than the actual, location in memory.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-319">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-319">Configuration options</span></span>

<span data-ttu-id="c9457-320">**Geen gestripte afbeeldingen toestaan:** met deze optie wordt het laden van afbeeldingen die verplaatsingsgegevens hebben verwijderd, niet meer geladen.</span><span class="sxs-lookup"><span data-stu-id="c9457-320">**Do not allow stripped images** - This option blocks the loading of images that have had relocation information stripped.</span></span> <span data-ttu-id="c9457-321">De Windows PE-bestandsindeling bevat absolute adressen en de compiler genereert ook een [base relocatietabel die de lader kan gebruiken om alle relatieve geheugenverwijzingen en de verschuiving ervan te vinden, zodat deze kunnen worden bijgewerkt als de binaire waarde niet wordt geladen op het gewenste basisadres.</span><span class="sxs-lookup"><span data-stu-id="c9457-321">The Windows PE file format contains absolute addresses, and the compiler also generates a [base relocation table that the loader can use to find all relative memory references and their offset, so they can be updated if the binary does not load at its preferred base address.</span></span> <span data-ttu-id="c9457-322">Sommige oudere toepassingen strippen deze informatie uit in productie-builds, waardoor deze binaries niet opnieuw kunnen worden gebaseerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-322">Some older applications strip out this information in production builds, and therefore these binaries cannot be rebased.</span></span> <span data-ttu-id="c9457-323">Deze beperking blokkeert dat dergelijke binaries worden geladen (in plaats van dat ze op het gewenste basisadres kunnen worden geladen).</span><span class="sxs-lookup"><span data-stu-id="c9457-323">This mitigation blocks such binaries from being loaded (instead of allowing them to load at their preferred base address).</span></span>

> [!Note]
> <span data-ttu-id="c9457-324">**Arandrisatie forceer voor afbeeldingen (Verplichte ASLR)** heeft geen auditmodus.</span><span class="sxs-lookup"><span data-stu-id="c9457-324">**Force randomization for images (Mandatory ASLR)** has no audit mode.</span></span>

## <a name="import-address-filtering-iaf"></a><span data-ttu-id="c9457-325">Adresfilters importeren (IAF)</span><span class="sxs-lookup"><span data-stu-id="c9457-325">Import address filtering (IAF)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-326">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-326">Description</span></span>

<span data-ttu-id="c9457-327">De beperking van het filteren van importadressen (IAF) helpt het risico te beperken dat een aanvaller de besturingsstroom van een toepassing wijzigt door de importadrestabel (IAT) te wijzigen om te leiden naar willekeurige code van de keuze van de aanvaller wanneer deze functie wordt aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="c9457-327">The import address filtering (IAF) mitigation helps mitigate the risk of an adversary changing the control flow of an application by modifying the import address table (IAT) to redirect to arbitrary code of the attacker's choice when that function is called.</span></span> <span data-ttu-id="c9457-328">Een aanvaller kan deze methode gebruiken om controle te kapen of om oproepen naar gevoelige API's te onderscheppen, te controleren en mogelijk te blokkeren.</span><span class="sxs-lookup"><span data-stu-id="c9457-328">An attacker could use this approach to hijack control, or to intercept, inspect, and potentially block calls to sensitive APIs.</span></span>

<span data-ttu-id="c9457-329">Op de geheugenpagina's voor alle beveiligde API's wordt de [PAGE_GUARD](/windows/win32/memory/creating-guard-pages) toegepast.</span><span class="sxs-lookup"><span data-stu-id="c9457-329">The memory pages for all protected APIs will have the [PAGE_GUARD](/windows/win32/memory/creating-guard-pages) protection applied to them.</span></span> <span data-ttu-id="c9457-330">Wanneer iemand dit geheugen probeert te openen, wordt er een STATUS_GUARD_PAGE_VIOLATION.</span><span class="sxs-lookup"><span data-stu-id="c9457-330">When someone tries to access this memory, it will generate a STATUS_GUARD_PAGE_VIOLATION.</span></span> <span data-ttu-id="c9457-331">Met de beperking wordt deze uitzondering verwerkt en als de toegangsinstructie niet wordt gevalideerd, wordt het proces beëindigd.</span><span class="sxs-lookup"><span data-stu-id="c9457-331">The mitigation handles this exception, and if the accessing instruction doesn't pass validation, the process will be terminated.</span></span>

<span data-ttu-id="c9457-332">Deze beperking beschermt de volgende Windows API's:</span><span class="sxs-lookup"><span data-stu-id="c9457-332">This mitigation protects the following Windows APIs:</span></span>

- `GetProcAddress`
- `GetProcAddressForCaller`
- `LoadLibraryA`
- `LoadLibraryExA`
- `LoadLibraryW`
- `LoadLibraryExW`
- `LdrGetProcedureAddress`
- `LdrGetProcedureAddressEx`
- `LdrGetProcedureAddressForCaller`
- `LdrLoadDll`
- `VirtualProtect`
- `VirtualProtectEx`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `NtProtectVirtualMemory`
- `CreateProcessA`
- `CreateProcessW`
- `WinExec`
- `CreateProcessAsUserA`
- `CreateProcessAsUserW`
- `GetModuleHandleA`
- `GetModuleHandleW`
- `RtlDecodePointer`
- `DecodePointer`

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-333">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-333">Compatibility considerations</span></span>

<span data-ttu-id="c9457-334">Legitieme toepassingen die API-onderschepping uitvoeren, kunnen door deze beperking worden gedetecteerd en sommige toepassingen kunnen vast komen te werken.</span><span class="sxs-lookup"><span data-stu-id="c9457-334">Legitimate applications that perform API interception may be detected by this mitigation and cause some applications to crash.</span></span> <span data-ttu-id="c9457-335">Voorbeelden hiervan zijn beveiligingssoftware en toepassingscompatibiliteitssjims.</span><span class="sxs-lookup"><span data-stu-id="c9457-335">Examples include security software and application compatibility shims.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-336">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-336">Configuration options</span></span>

<span data-ttu-id="c9457-337">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-337">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-338">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-338">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="randomize-memory-allocations-bottom-up-aslr"></a><span data-ttu-id="c9457-339">Geheugentoewijzingen willekeurig toewijzen (bottom-up ASLR)</span><span class="sxs-lookup"><span data-stu-id="c9457-339">Randomize memory allocations (Bottom-up ASLR)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-340">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-340">Description</span></span>

<span data-ttu-id="c9457-341">Randomize memory allocations (Bottom-up ASLR) voegt entropie toe aan verplaatsingen, zodat de locatie wordt gerandomiseerd en dus minder voorspelbaar.</span><span class="sxs-lookup"><span data-stu-id="c9457-341">Randomize memory allocations (Bottom-up ASLR) adds entropy to relocations, so their location is randomized and therefore less predictable.</span></span> <span data-ttu-id="c9457-342">Voor deze beperking moet verplichte ASLR van kracht worden.</span><span class="sxs-lookup"><span data-stu-id="c9457-342">This mitigation requires Mandatory ASLR to take effect.</span></span>

<span data-ttu-id="c9457-343">De grootte van de 32-bits adresruimte plaatst praktische beperkingen aan de entropie die kan worden toegevoegd, waardoor 64-bits toepassingen het lastiger maken voor een aanvaller om een locatie in het geheugen te raden.</span><span class="sxs-lookup"><span data-stu-id="c9457-343">The size of the 32-bit address space places practical constraints on the entropy that can be added, and therefore 64-bit applications make it more difficult for an attacker to guess a location in memory.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-344">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-344">Compatibility considerations</span></span>

<span data-ttu-id="c9457-345">De meeste toepassingen die compatibel zijn met Mandatory ASLR (rebasing) zijn ook compatibel met de andere entropie van Bottom-up ASLR.</span><span class="sxs-lookup"><span data-stu-id="c9457-345">Most applications that are compatible with Mandatory ASLR (rebasing) are also compatible with the other entropy of Bottom-up ASLR.</span></span> <span data-ttu-id="c9457-346">Sommige toepassingen kunnen problemen hebben met het gebruik van aanwijzers als ze lokale aanwijzers opslaan in 32-bits variabelen (verwacht een basisadres onder 4 GB) en dus niet compatibel zijn met de optie hoge entropie (die kan worden uitgeschakeld).</span><span class="sxs-lookup"><span data-stu-id="c9457-346">Some applications may have pointer-truncation issues if they are saving local pointers in 32-bit variables (expecting a base address below 4 GB), and thus will be incompatible with the high entropy option (which can be disabled).</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-347">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-347">Configuration options</span></span>

<span data-ttu-id="c9457-348">Gebruik geen hoge **entropie:** met deze optie wordt het gebruik van ASLR met hoge entropie uitgeschakeld, waardoor 24 bits entropie (1 TB variantie) worden toegevoegd aan de bottom-uptoewijzing voor 64-bits toepassingen.</span><span class="sxs-lookup"><span data-stu-id="c9457-348">**Don't use high entropy** - this option disables the use of high-entropy ASLR, which adds 24 bits of entropy (1 TB of variance) into the bottom-up allocation for 64-bit applications.</span></span>

> [!Note]
> <span data-ttu-id="c9457-349">**Randomize memory allocations (Bottom-up ASLR)** heeft geen auditmodus.</span><span class="sxs-lookup"><span data-stu-id="c9457-349">**Randomize memory allocations (Bottom-up ASLR)** has no audit mode.</span></span>

## <a name="simulate-execution-simexec"></a><span data-ttu-id="c9457-350">Uitvoering simuleren (SimExec)</span><span class="sxs-lookup"><span data-stu-id="c9457-350">Simulate execution (SimExec)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-351">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-351">Description</span></span>

<span data-ttu-id="c9457-352">Het simuleren van uitvoering (SimExec) is alleen een beperking voor 32-bits toepassingen.</span><span class="sxs-lookup"><span data-stu-id="c9457-352">Simulate execution (SimExec) is a mitigation for 32-bit applications only.</span></span> <span data-ttu-id="c9457-353">Hiermee wordt gevalideerd dat oproepen naar gevoelige API's terugkeren naar legitieme bellerfuncties.</span><span class="sxs-lookup"><span data-stu-id="c9457-353">This helps validate that calls to sensitive APIs will return to legitimate caller functions.</span></span> <span data-ttu-id="c9457-354">Dit doet het door oproepen te onderscheppen in gevoelige API's en vervolgens de uitvoering van deze API's te simuleren door door de gecodeerde instructies voor de assemblytaal te lopen op zoek naar de RET-instructie, die moet terugkeren naar de beller.</span><span class="sxs-lookup"><span data-stu-id="c9457-354">It does this by intercepting calls into sensitive APIs, and then simulating the execution of those APIs by walking through the encoded assembly language instructions looking for the RET instruction, which should return to the caller.</span></span> <span data-ttu-id="c9457-355">Vervolgens wordt deze functie gecontroleerd en wordt naar achteren in het geheugen gekeken naar de vorige INSTRUCTIE VOOR BELLEN om te bepalen of de functie en oproepinstructie overeenkomen en of de RET niet is onderschept.</span><span class="sxs-lookup"><span data-stu-id="c9457-355">It then inspects that function and walks backwards in memory to find the preceding CALL instruction to determine whether the function and CALL instruction match, and that the RET hasn't been intercepted.</span></span>

<span data-ttu-id="c9457-356">De API's die door deze beperking worden onderschept, zijn:</span><span class="sxs-lookup"><span data-stu-id="c9457-356">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

<span data-ttu-id="c9457-357">Als een ROP-gadget wordt gedetecteerd, wordt het proces beëindigd.</span><span class="sxs-lookup"><span data-stu-id="c9457-357">If a ROP gadget is detected, the process is terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-358">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-358">Compatibility considerations</span></span>

<span data-ttu-id="c9457-359">Toepassingen die API-onderschepping uitvoeren, met name beveiligingssoftware, kunnen compatibiliteitsproblemen met deze beperking veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="c9457-359">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="c9457-360">Deze beperking is niet compatibel met de mitigatie van willekeurige codebewaking.</span><span class="sxs-lookup"><span data-stu-id="c9457-360">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-361">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-361">Configuration options</span></span>

<span data-ttu-id="c9457-362">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-362">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-363">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-363">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-api-invocation-callercheck"></a><span data-ttu-id="c9457-364">API-aanroep valideren (bellercontrole)</span><span class="sxs-lookup"><span data-stu-id="c9457-364">Validate API invocation (CallerCheck)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-365">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-365">Description</span></span>

<span data-ttu-id="c9457-366">Api-aanroepen valideren (CallerCheck) is een beperking voor ROP-technieken (Return-Oriented Programming) waarmee wordt gevalideerd dat gevoelige API's zijn gebeld vanuit een geldige beller.</span><span class="sxs-lookup"><span data-stu-id="c9457-366">Validate API invocation (CallerCheck) is a mitigation for return-oriented programming (ROP) techniques that validates that sensitive APIs were called from a valid caller.</span></span> <span data-ttu-id="c9457-367">Met deze beperking wordt het doorgegeven retouradres gecontroleerd en wordt vervolgens heuristisch naar achteren gedemonteerd om een oproep boven het adres van het retouradres te vinden om te bepalen of het doel van de oproep overeenkomt met de parameter die in de functie is doorgegeven.</span><span class="sxs-lookup"><span data-stu-id="c9457-367">This mitigation inspects the passed return address, and then heuristically disassembles backwards to find a call above the return address to determine if the call target matches the parameter passed into the function.</span></span>

<span data-ttu-id="c9457-368">De API's die door deze beperking worden onderschept, zijn:</span><span class="sxs-lookup"><span data-stu-id="c9457-368">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

<span data-ttu-id="c9457-369">Als een ROP-gadget wordt gedetecteerd, wordt het proces beëindigd.</span><span class="sxs-lookup"><span data-stu-id="c9457-369">If a ROP gadget is detected, the process is terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-370">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-370">Compatibility considerations</span></span>

<span data-ttu-id="c9457-371">Toepassingen die API-onderschepping uitvoeren, met name beveiligingssoftware, kunnen compatibiliteitsproblemen met deze beperking veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="c9457-371">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="c9457-372">Deze beperking is niet compatibel met de mitigatie van willekeurige codebewaking.</span><span class="sxs-lookup"><span data-stu-id="c9457-372">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-373">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-373">Configuration options</span></span>

<span data-ttu-id="c9457-374">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-374">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-375">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-375">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-exception-chains-sehop"></a><span data-ttu-id="c9457-376">Uitzonderingsketens (SEHOP) valideren</span><span class="sxs-lookup"><span data-stu-id="c9457-376">Validate exception chains (SEHOP)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-377">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-377">Description</span></span>

<span data-ttu-id="c9457-378">Valideren van uitzonderingsketens (SEHOP) is een beperking ten opzichte van *de SEH(Structured Exception Handler) overschrijven.*</span><span class="sxs-lookup"><span data-stu-id="c9457-378">Validate exception chains (SEHOP) is a mitigation against the *Structured Exception Handler (SEH) overwrite* exploitation technique.</span></span> <span data-ttu-id="c9457-379">[Gestructureerde uitzonderingsafhandeling](/windows/win32/debug/structured-exception-handling) is het proces waarmee een toepassing kan vragen om een bepaalde uitzondering af te handelen.</span><span class="sxs-lookup"><span data-stu-id="c9457-379">[Structured exception handling](/windows/win32/debug/structured-exception-handling) is the process by which an application can ask to handle a particular exception.</span></span> <span data-ttu-id="c9457-380">Uitzonderings handlers worden aan elkaar geketend, zodat als een uitzonderings handler ervoor kiest om een bepaalde uitzondering niet te verwerken, deze kan worden doorgegeven aan de volgende uitzonderings handler in de keten totdat iemand besluit om deze af te handelen.</span><span class="sxs-lookup"><span data-stu-id="c9457-380">Exception handlers are chained together, so that if one exception handler chooses not to handle a particular exception, it can be passed on to the next exception handler in the chain until one decides to handle it.</span></span> <span data-ttu-id="c9457-381">Omdat de lijst met handler dynamisch is, wordt deze opgeslagen op de stapel.</span><span class="sxs-lookup"><span data-stu-id="c9457-381">Because the list of handler is dynamic, it is stored on the stack.</span></span> <span data-ttu-id="c9457-382">Een aanvaller kan een kwetsbaarheid voor stackoverloop gebruiken om vervolgens de uitzonderings handler te overschrijven met een aanwijzer naar de code van de keuze van de aanvaller.</span><span class="sxs-lookup"><span data-stu-id="c9457-382">An attacker can use a stack overflow vulnerability to then overwrite the exception handler with a pointer to the code of the attacker's choice.</span></span>

<span data-ttu-id="c9457-383">Deze beperking is afhankelijk van het ontwerp van SEH, waarbij elke SEH-vermelding zowel een aanwijzer naar de uitzonderings handler bevat als een aanwijzer naar de volgende handler in de uitzonderingsketen.</span><span class="sxs-lookup"><span data-stu-id="c9457-383">This mitigation relies on the design of SEH, where each SEH entry contains both a pointer to the exception handler, as well as a pointer to the next handler in the exception chain.</span></span> <span data-ttu-id="c9457-384">Deze beperking wordt genoemd door de uitzonderingsverdeler, die de SEH-keten valideert wanneer een uitzondering wordt aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="c9457-384">This mitigation is called by the exception dispatcher, which validates the SEH chain when an exception is invoked.</span></span> <span data-ttu-id="c9457-385">Het controleert of:</span><span class="sxs-lookup"><span data-stu-id="c9457-385">It verifies that:</span></span>

- <span data-ttu-id="c9457-386">Alle ketenrecords voor uitzonderingen zijn binnen de stapelgrenzen</span><span class="sxs-lookup"><span data-stu-id="c9457-386">All exception chain records are within the stack boundaries</span></span>
- <span data-ttu-id="c9457-387">Alle uitzonderingsrecords worden uitgelijnd</span><span class="sxs-lookup"><span data-stu-id="c9457-387">All exception records are aligned</span></span>
- <span data-ttu-id="c9457-388">Geen uitzonderingswijzers wijzen naar de stapel</span><span class="sxs-lookup"><span data-stu-id="c9457-388">No exception handler pointers are pointing to the stack</span></span>
- <span data-ttu-id="c9457-389">Er zijn geen achterwaartse aanwijzers</span><span class="sxs-lookup"><span data-stu-id="c9457-389">There are no backward pointers</span></span>
- <span data-ttu-id="c9457-390">De uitzonderingsketen eindigt op een bekende laatste uitzonderingsgreep</span><span class="sxs-lookup"><span data-stu-id="c9457-390">The exception chain ends at a known final exception handler</span></span>

<span data-ttu-id="c9457-391">Als deze validaties mislukken, wordt de afhandeling van uitzonderingen afgebroken en wordt de uitzondering niet verwerkt.</span><span class="sxs-lookup"><span data-stu-id="c9457-391">If these validations fail, then exception handling is aborted, and the exception will not be handled.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-392">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-392">Compatibility considerations</span></span>

<span data-ttu-id="c9457-393">Compatibiliteitsproblemen met SEHOP zijn relatief zeldzaam.</span><span class="sxs-lookup"><span data-stu-id="c9457-393">Compatibility issues with SEHOP are relatively rare.</span></span> <span data-ttu-id="c9457-394">Het is ongebruikelijk dat een toepassing afhankelijk is van het beschadigd maken van de uitzonderingsketen.</span><span class="sxs-lookup"><span data-stu-id="c9457-394">It's uncommon for an application to take a dependency on corrupting the exception chain.</span></span> <span data-ttu-id="c9457-395">Sommige toepassingen worden echter beïnvloed door de subtiele wijzigingen in de timing, die zich kunnen manifesteren als een rasvoorwaarde die een latente multithreading-fout in de toepassing aan het licht komt.</span><span class="sxs-lookup"><span data-stu-id="c9457-395">However, some applications are impacted by the subtle changes in timing, which may manifest as a race condition that reveals a latent multi-threading bug in the application.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-396">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-396">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="c9457-397">**Valideer uitzonderingsketens (SEHOP)** heeft geen auditmodus.</span><span class="sxs-lookup"><span data-stu-id="c9457-397">**Validate exception chains (SEHOP)** has no audit mode.</span></span>

## <a name="validate-handle-usage"></a><span data-ttu-id="c9457-398">Gebruik van greep valideren</span><span class="sxs-lookup"><span data-stu-id="c9457-398">Validate handle usage</span></span>

### <a name="description"></a><span data-ttu-id="c9457-399">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-399">Description</span></span>

<span data-ttu-id="c9457-400">*Valideren van het gebruik van* greep is een beperking die helpt bij het beveiligen tegen een aanvaller met behulp van een bestaande greep om toegang te krijgen tot een beveiligd object.</span><span class="sxs-lookup"><span data-stu-id="c9457-400">*Validate handle usage* is a mitigation that helps protect against an attacker using an existing handle to access a protected object.</span></span> <span data-ttu-id="c9457-401">Een [greep](/windows/win32/sysinfo/handles-and-objects) is een verwijzing naar een beveiligd object.</span><span class="sxs-lookup"><span data-stu-id="c9457-401">A [handle](/windows/win32/sysinfo/handles-and-objects) is a reference to a protected object.</span></span> <span data-ttu-id="c9457-402">Als toepassingscode verwijst naar een ongeldige greep, kan dit aangeven dat een tegenstrever een eerder opgenomen greep probeert te gebruiken (maar waarvan het aantal toepassingsverwijzingen niet op de hoogte is).</span><span class="sxs-lookup"><span data-stu-id="c9457-402">If application code is referencing an invalid handle, that could indicate that an adversary is attempting to use a handle it has previously recorded (but which application reference counting wouldn't be aware of).</span></span> <span data-ttu-id="c9457-403">Als de toepassing probeert een ongeldig object te gebruiken in plaats van alleen null te retourneren, wordt er een uitzondering gemaakt (STATUS_INVALID_HANDLE).</span><span class="sxs-lookup"><span data-stu-id="c9457-403">If the application attempts to use an invalid object, instead of simply returning null, the application will raise an exception (STATUS_INVALID_HANDLE).</span></span>

<span data-ttu-id="c9457-404">Deze beperking wordt automatisch toegepast op Windows Store-toepassingen.</span><span class="sxs-lookup"><span data-stu-id="c9457-404">This mitigation is automatically applied to Windows Store applications.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-405">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-405">Compatibility considerations</span></span>

<span data-ttu-id="c9457-406">Toepassingen die geen nauwkeurige naslagverwijzingen bijhouden en die deze bewerkingen niet in een uitzonderingsgreep hebben verwerkt, worden mogelijk beïnvloed door deze beperking.</span><span class="sxs-lookup"><span data-stu-id="c9457-406">Applications that were not accurately tracking handle references, and which were not wrapping these operations in exception handlers, will potentially be impacted by this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-407">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-407">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="c9457-408">**Valideren van het gebruik van** de greep heeft geen auditmodus.</span><span class="sxs-lookup"><span data-stu-id="c9457-408">**Validate handle usage** has no audit mode.</span></span>

## <a name="validate-heap-integrity"></a><span data-ttu-id="c9457-409">Integriteit van de stapel valideren</span><span class="sxs-lookup"><span data-stu-id="c9457-409">Validate heap integrity</span></span>

### <a name="description"></a><span data-ttu-id="c9457-410">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-410">Description</span></span>

<span data-ttu-id="c9457-411">De *beperking van de integriteit* van de stapel valideren verhoogt het beschermingsniveau van risicobeperking in Windows, door ervoor te zorgen dat de toepassing wordt beëindigd als er een enorm beschadiging wordt gedetecteerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-411">The *validate heap integrity* mitigation increases the protection level of heap mitigations in Windows, by causing the application to terminate if a heap corruption is detected.</span></span> <span data-ttu-id="c9457-412">De risico's zijn onder andere:</span><span class="sxs-lookup"><span data-stu-id="c9457-412">The mitigations include:</span></span>

- <span data-ttu-id="c9457-413">Voorkomen dat een STAPELgreep wordt losgeslagen</span><span class="sxs-lookup"><span data-stu-id="c9457-413">Preventing a HEAP handle from being freed</span></span>
- <span data-ttu-id="c9457-414">Een andere validatie uitvoeren op uitgebreide blokkoppen voor stapeltoewijzingen</span><span class="sxs-lookup"><span data-stu-id="c9457-414">Performing another validation on extended block headers for heap allocations</span></span>
- <span data-ttu-id="c9457-415">Controleren of stapeltoewijzingen nog niet als in gebruik zijn gemarkeerd</span><span class="sxs-lookup"><span data-stu-id="c9457-415">Verifying that heap allocations are not already flagged as in-use</span></span>
- <span data-ttu-id="c9457-416">Beschermpagina's toevoegen aan grote toewijzingen, stapelsegmenten en subsegmenten boven een minimumgrootte</span><span class="sxs-lookup"><span data-stu-id="c9457-416">Adding guard pages to large allocations, heap segments, and subsegments above a minimum size</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-417">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-417">Compatibility considerations</span></span>

<span data-ttu-id="c9457-418">Deze beperking is standaard al toegepast voor 64-bits toepassingen en voor 32-bits toepassingen die zijn gericht Windows Vista of hoger.</span><span class="sxs-lookup"><span data-stu-id="c9457-418">This mitigation is already applied by default for 64-bit applications and for 32-bit applications targeting Windows Vista or later.</span></span> <span data-ttu-id="c9457-419">Oudere toepassingen van Windows XP of eerder zijn het meest risico lopen, hoewel compatibiliteitsproblemen zelden voorkomen.</span><span class="sxs-lookup"><span data-stu-id="c9457-419">Legacy applications from Windows XP or earlier are most at-risk, though compatibility issues are rare.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-420">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-420">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="c9457-421">**Valideren van de integriteit van de** stapel heeft geen auditmodus.</span><span class="sxs-lookup"><span data-stu-id="c9457-421">**Validate heap integrity** has no audit mode.</span></span>

## <a name="validate-image-dependency-integrity"></a><span data-ttu-id="c9457-422">Afhankelijkheidsintegriteit van afbeeldingen valideren</span><span class="sxs-lookup"><span data-stu-id="c9457-422">Validate image dependency integrity</span></span>

### <a name="description"></a><span data-ttu-id="c9457-423">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-423">Description</span></span>

<span data-ttu-id="c9457-424">De *beperking van de afhankelijkheid van* afbeeldingen helpt u te beschermen tegen aanvallen die code proberen te vervangen door dlls die statisch zijn gekoppeld door Windows binaries.</span><span class="sxs-lookup"><span data-stu-id="c9457-424">The *validate image dependency* mitigation helps protect against attacks that attempt to substitute code for dlls that are statically linked by Windows binaries.</span></span> <span data-ttu-id="c9457-425">De techniek voor het planten van DLL maakt misbruik van het zoekmechanisme van de lader om schadelijke code te injecteren, waarmee schadelijke code in een verhoogde context kan worden uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-425">The technique of DLL planting abuses the loader's search mechanism to inject malicious code, which can be used to get malicious code running in an elevated context.</span></span> <span data-ttu-id="c9457-426">Wanneer de lader een Windows ondertekend binair laadt en vervolgens alle dlls laadt waar de binaire afhankelijk van is, worden deze binaries gecontroleerd om ervoor te zorgen dat ze ook digitaal zijn ondertekend als een Windows binair.</span><span class="sxs-lookup"><span data-stu-id="c9457-426">When the loader is loading a Windows signed binary, and then loads up any dlls that the binary depends on, these binaries will be verified to ensure that they are also digitally signed as a Windows binary.</span></span> <span data-ttu-id="c9457-427">Als de handtekeningcontrole mislukt, wordt de dll niet geladen en wordt er een uitzondering gemaakt en wordt een status van STATUS_INVALID_IMAGE_HASH.</span><span class="sxs-lookup"><span data-stu-id="c9457-427">If they fail the signature check, the dll will not be loaded, and will throw an exception, returning a status of STATUS_INVALID_IMAGE_HASH.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-428">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-428">Compatibility considerations</span></span>

<span data-ttu-id="c9457-429">Compatibiliteitsproblemen zijn ongebruikelijk.</span><span class="sxs-lookup"><span data-stu-id="c9457-429">Compatibility issues are uncommon.</span></span> <span data-ttu-id="c9457-430">Toepassingen die afhankelijk zijn van het vervangen Windows binaries door lokale privéversies, worden beïnvloed en er is ook een klein risico dat subtiele tijdsinstellingen worden aan het licht gebracht in toepassingen met meerdere threads.</span><span class="sxs-lookup"><span data-stu-id="c9457-430">Applications that depend on replacing Windows binaries with local private versions will be impacted, and there is also a small risk of revealing subtle timing bugs in multi-threaded applications.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-431">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-431">Configuration options</span></span>

<span data-ttu-id="c9457-432">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-432">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-433">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-433">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-stack-integrity-stackpivot"></a><span data-ttu-id="c9457-434">StackIntegriteit valideren (StackPivot)</span><span class="sxs-lookup"><span data-stu-id="c9457-434">Validate stack integrity (StackPivot)</span></span>

### <a name="description"></a><span data-ttu-id="c9457-435">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="c9457-435">Description</span></span>

<span data-ttu-id="c9457-436">De beperking van stackintegriteit *(StackPivot)* helpt u te beschermen tegen de Stack Pivot-aanval, een ROP-aanval waarbij een aanvaller een valse stapel maakt in het geheugen van de stapel en vervolgens de toepassing om terug te keren naar de nep-stack die de uitvoeringsstroom bepaalt.</span><span class="sxs-lookup"><span data-stu-id="c9457-436">The *validate stack integrity (StackPivot)* mitigation helps protect against the Stack Pivot attack, a ROP attack where an attacker creates a fake stack in heap memory, and then tricks the application into returning into the fake stack that controls the flow of execution.</span></span>

<span data-ttu-id="c9457-437">Met deze beperking worden veel Windows API's onderschept en wordt de waarde van de stapelwijzer gecontroleerd.</span><span class="sxs-lookup"><span data-stu-id="c9457-437">This mitigation intercepts many Windows APIs, and inspects the value of the stack pointer.</span></span> <span data-ttu-id="c9457-438">Als het adres van de stapelwijzer niet tussen de onderkant en de bovenkant van de stapel valt, wordt een gebeurtenis opgenomen en, indien niet in de auditmodus, wordt het proces beëindigd.</span><span class="sxs-lookup"><span data-stu-id="c9457-438">If the address of the stack pointer does not fall between the bottom and the top of the stack, then an event is recorded and, if not in audit mode, the process will be terminated.</span></span>

<span data-ttu-id="c9457-439">De API's die door deze beperking worden onderschept, zijn:</span><span class="sxs-lookup"><span data-stu-id="c9457-439">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

### <a name="compatibility-considerations"></a><span data-ttu-id="c9457-440">Compatibiliteitsoverwegingen</span><span class="sxs-lookup"><span data-stu-id="c9457-440">Compatibility considerations</span></span>

<span data-ttu-id="c9457-441">Toepassingen die nepstapels gebruiken, worden beïnvloed en er is ook een klein risico dat subtiele timing bugs worden aan het licht gebracht in toepassingen met meerdere threads.</span><span class="sxs-lookup"><span data-stu-id="c9457-441">Applications that are using fake stacks will be impacted, and there is also a small risk of revealing subtle timing bugs in multi-threaded applications.</span></span>
<span data-ttu-id="c9457-442">Toepassingen die API-onderschepping uitvoeren, met name beveiligingssoftware, kunnen compatibiliteitsproblemen met deze beperking veroorzaken.</span><span class="sxs-lookup"><span data-stu-id="c9457-442">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="c9457-443">Deze beperking is niet compatibel met de mitigatie van willekeurige codebewaking.</span><span class="sxs-lookup"><span data-stu-id="c9457-443">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="c9457-444">Configuratieopties</span><span class="sxs-lookup"><span data-stu-id="c9457-444">Configuration options</span></span>

<span data-ttu-id="c9457-445">**Alleen controleren:** u kunt deze beperking in de auditmodus inschakelen om de mogelijke compatibiliteitseffecten op een toepassing te meten.</span><span class="sxs-lookup"><span data-stu-id="c9457-445">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="c9457-446">Auditgebeurtenissen kunnen vervolgens worden bekeken in de viewer van de gebeurtenis of met geavanceerde zoekgebeurtenissen in [Microsoft Defender voor eindpunt.](/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="c9457-446">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](/microsoft-365/security/defender/advanced-hunting-overview).</span></span>
